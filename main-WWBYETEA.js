var lO=Object.defineProperty,uO=Object.defineProperties;var dO=Object.getOwnPropertyDescriptors;var qC=Object.getOwnPropertySymbols,hO=Object.getPrototypeOf,fO=Object.prototype.hasOwnProperty,pO=Object.prototype.propertyIsEnumerable,mO=Reflect.get;var WC=(n,e,t)=>e in n?lO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})fO.call(e,t)&&WC(n,t,e[t]);if(qC)for(var t of qC(e))pO.call(e,t)&&WC(n,t,e[t]);return n},te=(n,e)=>uO(n,dO(e));var Bi=(n,e,t)=>mO(hO(n),t,e);var b=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var $g;function Sd(){return $g}function br(n){let e=$g;return $g=n,e}var GC=Symbol("NotFound");function Ys(n){return n===GC||n?.name==="\u0275NotFound"}var Jt=null,Ad=!1,Hg=1,gO=null,Kt=Symbol("SIGNAL");function fe(n){let e=Jt;return Jt=n,e}function Pd(){return Jt}var Zs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xs(n){if(Ad)throw new Error("");if(Jt===null)return;Jt.consumerOnSignalRead(n);let e=Jt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Jt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Jt.producers,t!==void 0&&t.producer===n)){Jt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Jt&&(!r||vO(i,Jt)))return;let o=ta(Jt),s={producer:n,consumer:Jt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Jt.producersTail=s,e!==void 0?e.nextProducer=s:Jt.producers=s,o&&YC(n,s)}function JC(){Hg++}function Nd(n){if(!(ta(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Hg)){if(!n.producerMustRecompute(n)&&!Yc(n)){Rd(n);return}n.producerRecomputeValue(n),Rd(n)}}function zg(n){if(n.consumers===void 0)return;let e=Ad;Ad=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||yO(r)}}finally{Ad=e}}function qg(){return Jt?.consumerAllowSignalWrites!==!1}function yO(n){n.dirty=!0,zg(n),n.consumerMarkedDirty?.(n)}function Rd(n){n.dirty=!1,n.lastCleanEpoch=Hg}function ea(n){return n&&KC(n),fe(n)}function KC(n){n.producersTail=void 0,n.recomputing=!0}function Qc(n,e){fe(e),n&&QC(n)}function QC(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ta(n))do t=Wg(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Yc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Nd(t),r!==t.version))return!0}return!1}function Zc(n){if(ta(n)){let e=n.producers;for(;e!==void 0;)e=Wg(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function YC(n,e){let t=n.consumersTail,r=ta(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)YC(i.producer,i)}function Wg(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ta(e)){let o=e.producers;for(;o!==void 0;)o=Wg(o)}return t}function ta(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function kd(n){gO?.(n)}function vO(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Od(n,e){return Object.is(n,e)}function Fd(n,e){let t=Object.create(_O);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Nd(t),Xs(t),t.value===Kc)throw t.error;return t.value};return r[Kt]=t,kd(t),r}var xd=Symbol("UNSET"),Md=Symbol("COMPUTING"),Kc=Symbol("ERRORED"),_O=te(V({},Zs),{value:xd,dirty:!0,error:null,equal:Od,kind:"computed",producerMustRecompute(n){return n.value===xd||n.value===Md},producerRecomputeValue(n){if(n.value===Md)throw new Error("");let e=n.value;n.value=Md;let t=ea(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==xd&&e!==Kc&&r!==Kc&&n.equal(e,r)}catch(o){r=Kc,n.error=o}finally{Qc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function bO(){throw new Error}var ZC=bO;function XC(n){ZC(n)}function Gg(n){ZC=n}var EO=null;function Jg(n,e){let t=Object.create(Ld);t.value=n,e!==void 0&&(t.equal=e);let r=()=>eD(t);return r[Kt]=t,kd(t),[r,s=>na(t,s),s=>Kg(t,s)]}function eD(n){return Xs(n),n.value}function na(n,e){qg()||XC(n),n.equal(n.value,e)||(n.value=e,wO(n))}function Kg(n,e){qg()||XC(n),na(n,e(n.value))}var Ld=te(V({},Zs),{equal:Od,value:void 0,kind:"signal"});function wO(n){n.version++,JC(),zg(n),EO?.(n)}function ye(n){return typeof n=="function"}function ra(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Vd=ra(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Bo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var at=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ye(r))try{r()}catch(o){e=o instanceof Vd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tD(o)}catch(s){e=e??[],s instanceof Vd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Vd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Bo(t,e)}remove(e){let{_finalizers:t}=this;t&&Bo(t,e),e instanceof n&&e._removeParent(this)}};at.EMPTY=(()=>{let n=new at;return n.closed=!0,n})();var Qg=at.EMPTY;function jd(n){return n instanceof at||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function tD(n){ye(n)?n():n.unsubscribe()}var Zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ia={setTimeout(n,e,...t){let{delegate:r}=ia;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ia;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ud(n){ia.setTimeout(()=>{let{onUnhandledError:e}=Zn;if(e)e(n);else throw n})}function Xc(){}var nD=Yg("C",void 0,void 0);function rD(n){return Yg("E",void 0,n)}function iD(n){return Yg("N",n,void 0)}function Yg(n,e,t){return{kind:n,value:e,error:t}}var $o=null;function oa(n){if(Zn.useDeprecatedSynchronousErrorHandling){let e=!$o;if(e&&($o={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=$o;if($o=null,t)throw r}}else n()}function oD(n){Zn.useDeprecatedSynchronousErrorHandling&&$o&&($o.errorThrown=!0,$o.error=n)}var Ho=class extends at{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jd(e)&&e.add(this)):this.destination=DO}static create(e,t,r){return new sa(e,t,r)}next(e){this.isStopped?Xg(iD(e),this):this._next(e)}error(e){this.isStopped?Xg(rD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xg(nD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IO=Function.prototype.bind;function Zg(n,e){return IO.call(n,e)}var ey=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Bd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Bd(r)}else Bd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Bd(t)}}},sa=class extends Ho{constructor(e,t,r){super();let i;if(ye(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Zn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zg(e.next,o),error:e.error&&Zg(e.error,o),complete:e.complete&&Zg(e.complete,o)}):i=e}this.destination=new ey(i)}};function Bd(n){Zn.useDeprecatedSynchronousErrorHandling?oD(n):Ud(n)}function CO(n){throw n}function Xg(n,e){let{onStoppedNotification:t}=Zn;t&&ia.setTimeout(()=>t(n,e))}var DO={closed:!0,next:Xc,error:CO,complete:Xc};var aa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dn(n){return n}function ty(...n){return ny(n)}function ny(n){return n.length===0?Dn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=SO(t)?t:new sa(t,r,i);return oa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=sD(r),new r((i,o)=>{let s=new sa({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[aa](){return this}pipe(...t){return ny(t)(this)}toPromise(t){return t=sD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function sD(n){var e;return(e=n??Zn.Promise)!==null&&e!==void 0?e:Promise}function TO(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}function SO(n){return n&&n instanceof Ho||TO(n)&&jd(n)}function ry(n){return ye(n?.lift)}function Re(n){return e=>{if(ry(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(n,e,t,r,i){return new iy(n,e,t,r,i)}var iy=class extends Ho{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ca(){return Re((n,e)=>{let t=null;n._refCount++;let r=Ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var la=class extends Ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ry(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new at;let t=this.getSubject();e.add(this.source.subscribe(Ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=at.EMPTY)}return e}refCount(){return ca()(this)}};var aD=ra(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class n extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new $d(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new aD}next(t){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Qg:(this.currentObservers=null,o.push(t),new at(()=>{this.currentObservers=null,Bo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ie;return t.source=this,t}}return n.create=(e,t)=>new $d(e,t),n})(),$d=class extends ft{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Qg}};var Ut=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var oy={now(){return(oy.delegate||Date).now()},delegate:void 0};var Hd=class extends at{constructor(e,t){super()}schedule(e,t=0){return this}};var el={setInterval(n,e,...t){let{delegate:r}=el;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=el;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ua=class extends Hd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return el.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&el.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Bo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var da=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};da.now=oy.now;var ha=class extends da{constructor(e,t=da.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var sy=new ha(ua);var zd=class extends ua{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var qd=class extends ha{};var ay=new qd(zd);var mn=new Ie(n=>n.complete());function cD(n){return n&&ye(n.schedule)}function lD(n){return n[n.length-1]}function Wd(n){return ye(lD(n))?n.pop():void 0}function $i(n){return cD(lD(n))?n.pop():void 0}function cy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(g){s(g)}}function c(h){try{u(r.throw(h))}catch(g){s(g)}}function u(h){h.done?o(h.value):i(h.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function uD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zo(n){return this instanceof zo?(this.v=n,this):new zo(n)}function hD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(x){return Promise.resolve(x).then(E,g)}}function a(E,x){r[E]&&(i[E]=function(F){return new Promise(function(O,q){o.push([E,F,O,q])>1||c(E,F)})},x&&(i[E]=x(i[E])))}function c(E,x){try{u(r[E](x))}catch(F){v(o[0][3],F)}}function u(E){E.value instanceof zo?Promise.resolve(E.value.v).then(h,g):v(o[0][2],E)}function h(E){c("next",E)}function g(E){c("throw",E)}function v(E,x){E(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uD=="function"?uD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Gd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Jd(n){return ye(n?.then)}function Kd(n){return ye(n[aa])}function Qd(n){return Symbol.asyncIterator&&ye(n?.[Symbol.asyncIterator])}function Yd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zd=AO();function Xd(n){return ye(n?.[Zd])}function eh(n){return hD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield zo(t.read());if(i)return yield zo(void 0);yield yield zo(r)}}finally{t.releaseLock()}})}function th(n){return ye(n?.getReader)}function bt(n){if(n instanceof Ie)return n;if(n!=null){if(Kd(n))return xO(n);if(Gd(n))return MO(n);if(Jd(n))return RO(n);if(Qd(n))return pD(n);if(Xd(n))return PO(n);if(th(n))return NO(n)}throw Yd(n)}function xO(n){return new Ie(e=>{let t=n[aa]();if(ye(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MO(n){return new Ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function RO(n){return new Ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ud)})}function PO(n){return new Ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function pD(n){return new Ie(e=>{kO(n,e).catch(t=>e.error(t))})}function NO(n){return pD(eh(n))}function kO(n,e){var t,r,i,o;return dD(this,void 0,void 0,function*(){try{for(t=fD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function gn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Hi(n,e=0){return Re((t,r)=>{t.subscribe(Ae(r,i=>gn(r,n,()=>r.next(i),e),()=>gn(r,n,()=>r.complete(),e),i=>gn(r,n,()=>r.error(i),e)))})}function zi(n,e=0){return Re((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function mD(n,e){return bt(n).pipe(zi(e),Hi(e))}function gD(n,e){return bt(n).pipe(zi(e),Hi(e))}function yD(n,e){return new Ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function vD(n,e){return new Ie(t=>{let r;return gn(t,e,()=>{r=n[Zd](),gn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}function nh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ie(t=>{gn(t,e,()=>{let r=n[Symbol.asyncIterator]();gn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function _D(n,e){return nh(eh(n),e)}function bD(n,e){if(n!=null){if(Kd(n))return mD(n,e);if(Gd(n))return yD(n,e);if(Jd(n))return gD(n,e);if(Qd(n))return nh(n,e);if(Xd(n))return vD(n,e);if(th(n))return _D(n,e)}throw Yd(n)}function Ke(n,e){return e?bD(n,e):bt(n)}function se(...n){let e=$i(n);return Ke(n,e)}function fa(n,e){let t=ye(n)?n:()=>n,r=i=>i.error(t());return new Ie(e?i=>e.schedule(r,0,i):r)}function ly(n){return!!n&&(n instanceof Ie||ye(n.lift)&&ye(n.subscribe))}var ei=ra(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(n,e){return Re((t,r)=>{let i=0;t.subscribe(Ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:OO}=Array;function FO(n,e){return OO(e)?n(...e):n(e)}function rh(n){return xe(e=>FO(n,e))}var{isArray:LO}=Array,{getPrototypeOf:VO,prototype:jO,keys:UO}=Object;function ih(n){if(n.length===1){let e=n[0];if(LO(e))return{args:e,keys:null};if(BO(e)){let t=UO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function BO(n){return n&&typeof n=="object"&&VO(n)===jO}function oh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function tl(...n){let e=$i(n),t=Wd(n),{args:r,keys:i}=ih(n);if(r.length===0)return Ke([],e);let o=new Ie($O(r,e,i?s=>oh(i,s):Dn));return t?o.pipe(rh(t)):o}function $O(n,e,t=Dn){return r=>{ED(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)ED(e,()=>{let u=Ke(n[c],e),h=!1;u.subscribe(Ae(r,g=>{o[c]=g,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ED(n,e,t){n?gn(t,n,e):e()}function wD(n,e,t,r,i,o,s,a){let c=[],u=0,h=0,g=!1,v=()=>{g&&!c.length&&!u&&e.complete()},E=F=>u<r?x(F):c.push(F),x=F=>{o&&e.next(F),u++;let O=!1;bt(t(F,h++)).subscribe(Ae(e,q=>{i?.(q),o?E(q):e.next(q)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;c.length&&u<r;){let q=c.shift();s?gn(e,s,()=>x(q)):x(q)}v()}catch(q){e.error(q)}}))};return n.subscribe(Ae(e,E,()=>{g=!0,v()})),()=>{a?.()}}function pt(n,e,t=1/0){return ye(e)?pt((r,i)=>xe((o,s)=>e(r,o,i,s))(bt(n(r,i))),t):(typeof e=="number"&&(t=e),Re((r,i)=>wD(r,i,n,t)))}function qi(n=1/0){return pt(Dn,n)}function ID(){return qi(1)}function pa(...n){return ID()(Ke(n,$i(n)))}function nl(n){return new Ie(e=>{bt(n()).subscribe(e)})}function uy(...n){let e=Wd(n),{args:t,keys:r}=ih(n),i=new Ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let h=0;h<s;h++){let g=!1;bt(t[h]).subscribe(Ae(o,v=>{g||(g=!0,u--),a[h]=v},()=>c--,void 0,()=>{(!c||!g)&&(u||o.next(r?oh(r,a):a),o.complete())}))}});return e?i.pipe(rh(e)):i}function yn(n,e){return Re((t,r)=>{let i=0;t.subscribe(Ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ti(n){return Re((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ae(t,void 0,void 0,s=>{o=bt(n(s,ti(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function CD(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Ae(s,h=>{let g=u++;c=a?n(c,h,g):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Wi(n,e){return ye(e)?pt(n,e,1):pt(n,1)}function Gi(n){return Re((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ni(n){return n<=0?()=>mn:Re((e,t)=>{let r=0;e.subscribe(Ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sh(n=HO){return Re((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function HO(){return new ei}function rl(n){return Re((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ri(n,e){let t=arguments.length>=2;return r=>r.pipe(n?yn((i,o)=>n(i,o,r)):Dn,ni(1),t?Gi(e):sh(()=>new ei))}function ma(n){return n<=0?()=>mn:Re((e,t)=>{let r=[];e.subscribe(Ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function dy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?yn((i,o)=>n(i,o,r)):Dn,ma(1),t?Gi(e):sh(()=>new ei))}function hy(n,e){return Re(CD(n,e,arguments.length>=2,!0))}function fy(...n){let e=$i(n);return Re((t,r)=>{(e?pa(n,t,e):pa(n,t)).subscribe(r)})}function an(n,e){return Re((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ae(r,c=>{i?.unsubscribe();let u=0,h=o++;bt(n(c,h)).subscribe(i=Ae(r,g=>r.next(e?e(c,g,h,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ah(n){return Re((e,t)=>{bt(n).subscribe(Ae(t,()=>t.complete(),Xc)),!t.closed&&e.subscribe(t)})}function Pt(n,e,t){let r=ye(n)||e||t?{next:n,error:e,complete:t}:n;return r?Re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ae(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Dn}function DD(n){let e=fe(null);try{return n()}finally{fe(e)}}var Ji=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ty=new Ji("20.3.13");var dh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Q=class extends Error{code;constructor(e,t){super(Yi(e,t)),this.code=e}};function zO(n){return`NG0${Math.abs(n)}`}function Yi(n,e){return`${zO(n)}${e?": "+e:""}`}var ai=globalThis;function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("")}function AD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function oi(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(oi).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Sy(n,e){return n?e?`${n} ${e}`:n:e||""}var qO=Fe({__forward_ref__:Fe});function er(n){return n.__forward_ref__=er,n.toString=function(){return oi(this())},n}function Bt(n){return Ay(n)?n():n}function Ay(n){return typeof n=="function"&&n.hasOwnProperty(qO)&&n.__forward_ref__===er}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function al(n){return WO(n,hh)}function xy(n){return al(n)!==null}function WO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function GO(n){let e=n?.[hh]??null;return e||null}function my(n){return n&&n.hasOwnProperty(lh)?n[lh]:null}var hh=Fe({\u0275prov:Fe}),lh=Fe({\u0275inj:Fe}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function My(n){return n&&!!n.\u0275providers}var Ry=Fe({\u0275cmp:Fe}),Py=Fe({\u0275dir:Fe}),Ny=Fe({\u0275pipe:Fe}),ky=Fe({\u0275mod:Fe}),ol=Fe({\u0275fac:Fe}),Ko=Fe({__NG_ELEMENT_ID__:Fe}),TD=Fe({__NG_ENV_ID__:Fe});function Qo(n){return typeof n=="string"?n:n==null?"":String(n)}function xD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Qo(n)}var MD=Fe({ngErrorCode:Fe}),JO=Fe({ngErrorMessage:Fe}),KO=Fe({ngTokenPath:Fe});function Oy(n,e){return RD("",-200,e)}function fh(n,e){throw new Q(-201,!1)}function RD(n,e,t){let r=new Q(e,n);return r[MD]=e,r[JO]=n,t&&(r[KO]=t),r}function QO(n){return n[MD]}var gy;function PD(){return gy}function cn(n){let e=gy;return gy=n,e}function Fy(n,e,t){let r=al(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;fh(n,"Injector")}var YO={},qo=YO,yy="__NG_DI_FLAG__",vy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Wo(t)||0;try{return this.injector.get(e,r&8?null:qo,r)}catch(i){if(Ys(i))return i;throw i}}};function ZO(n,e=0){let t=Sd();if(t===void 0)throw new Q(-203,!1);if(t===null)return Fy(n,void 0,e);{let r=XO(e),i=t.retrieve(n,r);if(Ys(i)){if(r.optional)return null;throw i}return i}}function ue(n,e=0){return(PD()||ZO)(Bt(n),e)}function R(n,e){return ue(n,Wo(e))}function Wo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function XO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function _y(n){let e=[];for(let t=0;t<n.length;t++){let r=Bt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=eF(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ue(i,o))}else e.push(ue(r))}return e}function ND(n,e){return n[yy]=e,n.prototype[yy]=e,n}function eF(n){return n[yy]}function Ki(n,e){let t=n.hasOwnProperty(ol);return t?n[ol]:null}function kD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function OD(n){return n.flat(Number.POSITIVE_INFINITY)}function ph(n,e){n.forEach(t=>Array.isArray(t)?ph(t,e):e(t))}function Ly(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function cl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function FD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function LD(n,e,t){let r=ya(n,e);return r>=0?n[r|1]=t:(r=~r,FD(n,r,e,t)),r}function mh(n,e){let t=ya(n,e);if(t>=0)return n[t|1]}function ya(n,e){return tF(n,e,1)}function tF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Zi={},Tn=[],ci=new Z(""),Vy=new Z("",-1),jy=new Z(""),sl=class{get(e,t=qo){if(t===qo){let i=RD("",-201);throw i.name="\u0275NotFound",i}return t}};function Uy(n){return n[ky]||null}function li(n){return n[Ry]||null}function By(n){return n[Py]||null}function VD(n){return n[Ny]||null}function vn(n){return{\u0275providers:n}}function jD(n){return vn([{provide:ci,multi:!0,useValue:n}])}function UD(...n){return{\u0275providers:$y(!0,n),\u0275fromNgModule:!0}}function $y(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ph(e,s=>{let a=s;uh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&BD(i,o),t}function BD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Hy(i,o=>{e(o,r)})}}function uh(n,e,t,r){if(n=Bt(n),!n)return!1;let i=null,o=my(n),s=!o&&li(n);if(!o&&!s){let c=n.ngModule;if(o=my(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)uh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ph(o.imports,h=>{uh(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&BD(u,e)}if(!a){let u=Ki(i)||(()=>new i);e({provide:i,useFactory:u,deps:Tn},i),e({provide:jy,useValue:i,multi:!0},i),e({provide:ci,useValue:()=>ue(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;Hy(c,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Hy(n,e){for(let t of n)My(t)&&(t=t.\u0275providers),Array.isArray(t)?Hy(t,e):e(t)}var nF=Fe({provide:String,useValue:Fe});function $D(n){return n!==null&&typeof n=="object"&&nF in n}function rF(n){return!!(n&&n.useExisting)}function iF(n){return!!(n&&n.useFactory)}function Go(n){return typeof n=="function"}function HD(n){return!!n.useClass}var ll=new Z(""),ch={},SD={},py;function ul(){return py===void 0&&(py=new sl),py}var mt=class{},Jo=class extends mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ey(e,s=>this.processProvider(s)),this.records.set(Vy,ga(void 0,this)),i.has("environment")&&this.records.set(mt,ga(void 0,this));let o=this.records.get(ll);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jy,Tn,{self:!0}))}retrieve(e,t){let r=Wo(t)||0;try{return this.get(e,qo,r)}catch(i){if(Ys(i))return i;throw i}}destroy(){il(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return il(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){il(this);let t=br(this),r=cn(void 0),i;try{return e()}finally{br(t),cn(r)}}get(e,t=qo,r){if(il(this),e.hasOwnProperty(TD))return e[TD](this);let i=Wo(r),o,s=br(this),a=cn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let h=lF(e)&&al(e);h&&this.injectableDefInScope(h)?u=ga(by(e),ch):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?ul():this.parent;return t=i&8&&t===qo?null:t,c.get(e,t)}catch(c){let u=QO(c);throw u===-200||u===-201?new Q(u,null):c}finally{cn(a),br(s)}}resolveInjectorInitializers(){let e=fe(null),t=br(this),r=cn(void 0),i;try{let o=this.get(ci,Tn,{self:!0});for(let s of o)s()}finally{br(t),cn(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(oi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Bt(e);let t=Go(e)?e:Bt(e&&e.provide),r=sF(e);if(!Go(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ga(void 0,ch,!0),i.factory=()=>_y(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{if(t.value===SD)throw Oy(oi(e));return t.value===ch&&(t.value=SD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&cF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function by(n){let e=al(n),t=e!==null?e.factory:Ki(n);if(t!==null)return t;if(n instanceof Z)throw new Q(204,!1);if(n instanceof Function)return oF(n);throw new Q(204,!1)}function oF(n){if(n.length>0)throw new Q(204,!1);let t=GO(n);return t!==null?()=>t.factory(n):()=>new n}function sF(n){if($D(n))return ga(void 0,n.useValue);{let e=zy(n);return ga(e,ch)}}function zy(n,e,t){let r;if(Go(n)){let i=Bt(n);return Ki(i)||by(i)}else if($D(n))r=()=>Bt(n.useValue);else if(iF(n))r=()=>n.useFactory(..._y(n.deps||[]));else if(rF(n))r=(i,o)=>ue(Bt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Bt(n&&(n.useClass||n.provide));if(aF(n))r=()=>new i(..._y(n.deps));else return Ki(i)||by(i)}return r}function il(n){if(n.destroyed)throw new Q(205,!1)}function ga(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aF(n){return!!n.deps}function cF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ey(n,e){for(let t of n)Array.isArray(t)?Ey(t,e):t&&My(t)?Ey(t.\u0275providers,e):e(t)}function Et(n,e){let t;n instanceof Jo?(il(n),t=n):t=new vy(n);let r,i=br(t),o=cn(void 0);try{return e()}finally{br(i),cn(o)}}function zD(){return PD()!==void 0||Sd()!=null}var nr=0,ae=1,pe=2,xt=3,Vn=4,jn=5,va=6,_a=7,gt=8,ui=9,Er=10,it=11,ba=12,qy=13,Yo=14,Sn=15,Xi=16,Zo=17,wr=18,dl=19,Wy=20,ii=21,gh=22,hl=23,An=24,Xo=25,es=26,wt=27,qD=1,Gy=6,eo=7,fl=8,ts=9,lt=10;function Ir(n){return Array.isArray(n)&&typeof n[qD]=="object"}function rr(n){return Array.isArray(n)&&n[qD]===!0}function Jy(n){return(n.flags&4)!==0}function to(n){return n.componentOffset>-1}function pl(n){return(n.flags&1)===1}function Cr(n){return!!n.template}function Ea(n){return(n[pe]&512)!==0}function ns(n){return(n[pe]&256)===256}var WD="svg",GD="math";function Un(n){for(;Array.isArray(n);)n=n[nr];return n}function Ky(n,e){return Un(e[n])}function ir(n,e){return Un(e[n.index])}function ml(n,e){return n.data[e]}function Qy(n,e){return n[e]}function Yy(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Bn(n,e){let t=e[n];return Ir(t)?t:t[nr]}function JD(n){return(n[pe]&4)===4}function yh(n){return(n[pe]&128)===128}function KD(n){return rr(n[xt])}function Dr(n,e){return e==null?null:n[e]}function Zy(n){n[Zo]=0}function Xy(n){n[pe]&1024||(n[pe]|=1024,yh(n)&&wa(n))}function QD(n,e){for(;n>0;)e=e[Yo],n--;return e}function gl(n){return!!(n[pe]&9216||n[An]?.dirty)}function vh(n){n[Er].changeDetectionScheduler?.notify(8),n[pe]&64&&(n[pe]|=1024),gl(n)&&wa(n)}function wa(n){n[Er].changeDetectionScheduler?.notify(0);let e=Qi(n);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!yh(e)));)e=Qi(e)}function ev(n,e){if(ns(n))throw new Q(911,!1);n[ii]===null&&(n[ii]=[]),n[ii].push(e)}function YD(n,e){if(n[ii]===null)return;let t=n[ii].indexOf(e);t!==-1&&n[ii].splice(t,1)}function Qi(n){let e=n[xt];return rr(e)?e[xt]:e}function tv(n){return n[_a]??=[]}function nv(n){return n.cleanup??=[]}function ZD(n,e,t,r){let i=tv(e);i.push(t),n.firstCreatePass&&nv(n).push(r,i.length-1)}var De={lFrame:pT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wy=!1;function XD(){return De.lFrame.elementDepthCount}function eT(){De.lFrame.elementDepthCount++}function tT(){De.lFrame.elementDepthCount--}function rv(){return De.bindingsEnabled}function nT(){return De.skipHydrationRootTNode!==null}function rT(n){return De.skipHydrationRootTNode===n}function iT(){De.skipHydrationRootTNode=null}function _e(){return De.lFrame.lView}function Mt(){return De.lFrame.tView}function j(n){return De.lFrame.contextLView=n,n[gt]}function U(n){return De.lFrame.contextLView=null,n}function $t(){let n=iv();for(;n!==null&&n.type===64;)n=n.parent;return n}function iv(){return De.lFrame.currentTNode}function oT(){let n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ia(n,e){let t=De.lFrame;t.currentTNode=n,t.isParent=e}function ov(){return De.lFrame.isParent}function sT(){De.lFrame.isParent=!1}function sv(){return wy}function av(n){let e=wy;return wy=n,e}function yl(){let n=De.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function aT(){return De.lFrame.bindingIndex}function cT(n){return De.lFrame.bindingIndex=n}function rs(){return De.lFrame.bindingIndex++}function cv(n){let e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function lT(){return De.lFrame.inI18n}function uT(n,e){let t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,_h(e)}function dT(){return De.lFrame.currentDirectiveIndex}function _h(n){De.lFrame.currentDirectiveIndex=n}function hT(n){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function lv(){return De.lFrame.currentQueryIndex}function bh(n){De.lFrame.currentQueryIndex=n}function uF(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[jn]:null}function uv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=uF(o),i===null||(o=o[Yo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=De.lFrame=fT();return r.currentTNode=e,r.lView=n,!0}function Eh(n){let e=fT(),t=n[ae];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function fT(){let n=De.lFrame,e=n===null?null:n.child;return e===null?pT(n):e}function pT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function mT(){let n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var dv=mT;function wh(){let n=mT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gT(n){return(De.lFrame.contextLView=QD(n,De.lFrame.contextLView))[gt]}function di(){return De.lFrame.selectedIndex}function no(n){De.lFrame.selectedIndex=n}function Ih(){let n=De.lFrame;return ml(n.tView,n.selectedIndex)}function yT(){return De.lFrame.currentNamespace}var vT=!0;function Ch(){return vT}function Dh(n){vT=n}function Iy(n,e=null,t=null,r){let i=hv(n,e,t,r);return i.resolveInjectorInitializers(),i}function hv(n,e=null,t=null,r,i=new Set){let o=[t||Tn,UD(n)];return r=r||(typeof n=="object"?void 0:oi(n)),new Jo(o,e||ul(),r||null,i)}var ct=class n{static THROW_IF_NOT_FOUND=qo;static NULL=new sl;static create(e,t){if(Array.isArray(e))return Iy({name:""},t,e,"");{let r=e.name??"";return Iy({name:r},e.parent,e.providers,r)}}static \u0275prov=X({token:n,providedIn:"any",factory:()=>ue(Vy)});static __NG_ELEMENT_ID__=-1},yt=new Z(""),$n=(()=>{class n{static __NG_ELEMENT_ID__=dF;static __NG_ENV_ID__=t=>t}return n})(),Cy=class extends $n{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ns(this._lView)}onDestroy(e){let t=this._lView;return ev(t,e),()=>YD(t,e)}};function dF(){return new Cy(_e())}var Xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ln=new Z("",{providedIn:"root",factory:()=>{let n=R(mt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Xn),e.handleError(t))}}}),_T={provide:ci,useValue:()=>void R(Xn),multi:!0},hF=new Z("",{providedIn:"root",factory:()=>{let n=R(yt).defaultView;if(!n)return;let e=R(ln),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),R($n).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function fv(){return vn([jD(()=>void R(hF))])}function pv(n){return typeof n=="function"&&n[Kt]!==void 0}function ee(n,e){let[t,r,i]=Jg(n,e?.equal),o=t,s=o[Kt];return o.set=r,o.update=i,o.asReadonly=bT.bind(o),o}function bT(){let n=this[Kt];if(n.readonlyFn===void 0){let e=()=>this();e[Kt]=n,n.readonlyFn=e}return n.readonlyFn}function mv(n){return pv(n)&&typeof n.set=="function"}var Th=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=fF}return n})();function fF(){return new Th(_e(),$t())}var si=class{},vl=new Z("",{providedIn:"root",factory:()=>!1});var gv=new Z(""),yv=new Z(""),Tr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ut(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ca=(()=>{class n{internalPendingTasks=R(Tr);scheduler=R(si);errorHandler=R(ln);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})();function _l(...n){}var vv=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>new Dy})}return n})(),Dy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function xa(n){return{toString:n}.toString()}var Sh="__parameters__";function EF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function wF(n,e,t){return xa(()=>{let r=EF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,h){let g=c.hasOwnProperty(Sh)?c[Sh]:Object.defineProperty(c,Sh,{value:[]})[Sh];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var xn=ND(wF("Optional"),8);function IF(n){return typeof n=="function"}var Oh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function XT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var fi=(()=>{let n=()=>eS;return n.ngInherit=!0,n})();function eS(n){return n.type.prototype.ngOnChanges&&(n.setInput=DF),CF}function CF(){let n=nS(this),e=n?.current;if(e){let t=n.previous;if(t===Zi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function DF(n,e,t,r,i){let o=this.declaredInputs[r],s=nS(n)||TF(n,{previous:Zi,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Oh(u&&u.currentValue,t,c===Zi),XT(n,e,i,t)}var tS="__ngSimpleChanges__";function nS(n){return n[tS]||null}function TF(n,e){return n[tS]=e}var ET=[];var je=function(n,e=null,t){for(let r=0;r<ET.length;r++){let i=ET[r];i(n,e,t)}};function SF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=eS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function rS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Rh(n,e,t){iS(n,e,3,t)}function Ph(n,e,t,r){(n[pe]&3)===t&&iS(n,e,t,r)}function _v(n,e){let t=n[pe];(t&3)===e&&(t&=16383,t+=1,n[pe]=t)}function iS(n,e,t,r){let i=r!==void 0?n[Zo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Zo]+=65536),(a<o||o==-1)&&(AF(n,t,e,c),n[Zo]=(n[Zo]&4294901760)+c+2),c++}function wT(n,e){je(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),je(5,n,e)}}function AF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[pe]>>14<n[Zo]>>16&&(n[pe]&3)===e&&(n[pe]+=16384,wT(a,o)):wT(a,o)}var Ta=-1,os=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function xF(n){return(n.flags&8)!==0}function MF(n){return(n.flags&16)!==0}function RF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];PF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function oS(n){return n===3||n===4||n===6}function PF(n){return n.charCodeAt(0)===64}function wl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?IT(n,t,i,null,e[++r]):IT(n,t,i,null,null))}}return n}function IT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function sS(n){return n!==Ta}function Fh(n){return n&32767}function NF(n){return n>>16}function Lh(n,e){let t=NF(n),r=e;for(;t>0;)r=r[Yo],t--;return r}var Rv=!0;function Vh(n){let e=Rv;return Rv=n,e}var kF=256,aS=kF-1,cS=5,OF=0,Sr={};function FF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ko)&&(r=t[Ko]),r==null&&(r=t[Ko]=OF++);let i=r&aS,o=1<<i;e.data[n+(i>>cS)]|=o}function jh(n,e){let t=lS(n,e);if(t!==-1)return t;let r=e[ae];r.firstCreatePass&&(n.injectorIndex=e.length,bv(r.data,n),bv(e,null),bv(r.blueprint,null));let i=c_(n,e),o=n.injectorIndex;if(sS(i)){let s=Fh(i),a=Lh(i,e),c=a[ae].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function bv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function c_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=pS(i),r===null)return Ta;if(t++,i=i[Yo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ta}function Pv(n,e,t){FF(n,e,t)}function LF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(oS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function uS(n,e,t){if(t&8||n!==void 0)return n;fh(e,"NodeInjector")}function dS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ui],o=cn(void 0);try{return i?i.get(e,r,t&8):Fy(e,r,t&8)}finally{cn(o)}}return uS(r,e,t)}function hS(n,e,t,r=0,i){if(n!==null){if(e[pe]&2048&&!(r&2)){let s=BF(n,e,t,r,Sr);if(s!==Sr)return s}let o=fS(n,e,t,r,Sr);if(o!==Sr)return o}return dS(e,t,r,i)}function fS(n,e,t,r,i){let o=jF(t);if(typeof o=="function"){if(!uv(e,n,r))return r&1?uS(i,t,r):dS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))fh(t);else return s}finally{dv()}}else if(typeof o=="number"){let s=null,a=lS(n,e),c=Ta,u=r&1?e[Sn][jn]:null;for((a===-1||r&4)&&(c=a===-1?c_(n,e):e[a+8],c===Ta||!DT(r,!1)?a=-1:(s=e[ae],a=Fh(c),e=Lh(c,e)));a!==-1;){let h=e[ae];if(CT(o,a,h.data)){let g=VF(a,e,t,s,r,u);if(g!==Sr)return g}c=e[a+8],c!==Ta&&DT(r,e[ae].data[a+8]===u)&&CT(o,a,e)?(s=h,a=Fh(c),e=Lh(c,e)):a=-1}}return i}function VF(n,e,t,r,i,o){let s=e[ae],a=s.data[n+8],c=r==null?to(a)&&Rv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,h=Nh(a,s,t,c,u);return h!==null?Il(e,s,h,a,i):Sr}function Nh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,h=o>>20,g=r?a:a+h,v=i?a+h:u;for(let E=g;E<v;E++){let x=s[E];if(E<c&&t===x||E>=c&&x.type===t)return E}if(i){let E=s[c];if(E&&Cr(E)&&E.type===t)return c}return null}function Il(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof os){let a=o;if(a.resolving){let E=xD(s[t]);throw Oy(E)}let c=Vh(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],h,g=a.injectImpl?cn(a.injectImpl):null,v=uv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&SF(t,s[t],e)}finally{g!==null&&cn(g),Vh(c),a.resolving=!1,dv()}}return o}function jF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ko)?n[Ko]:void 0;return typeof e=="number"?e>=0?e&aS:UF:e}function CT(n,e,t){let r=1<<n;return!!(t[e+(n>>cS)]&r)}function DT(n,e){return!(n&2)&&!(n&1&&e)}var is=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hS(this._tNode,this._lView,e,Wo(r),t)}};function UF(){return new is($t(),_e())}function pi(n){return xa(()=>{let e=n.prototype.constructor,t=e[ol]||Nv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ol]||Nv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nv(n){return Ay(n)?()=>{let e=Nv(Bt(n));return e&&e()}:Ki(n)}function BF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[pe]&2048&&!Ea(s);){let a=fS(o,s,t,r|2,Sr);if(a!==Sr)return a;let c=o.parent;if(!c){let u=s[Wy];if(u){let h=u.get(t,Sr,r);if(h!==Sr)return h}c=pS(s),s=s[Yo]}o=c}return i}function pS(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[jn]:null}function xl(n){return LF($t(),n)}function $F(){return Ma($t(),_e())}function Ma(n,e){return new Qt(ir(n,e))}var Qt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=$F}return n})();function HF(n){return n instanceof Qt?n.nativeElement:n}function zF(){return this._results[Symbol.iterator]()}var Uh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=OD(e);(this._changesDetected=!kD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=zF};function mS(n){return(n.flags&128)===128}var l_=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(l_||{}),gS=new Map,qF=0;function WF(){return qF++}function GF(n){gS.set(n[dl],n)}function kv(n){gS.delete(n[dl])}var TT="__ngContext__";function Sa(n,e){Ir(e)?(n[TT]=e[dl],GF(e)):n[TT]=e}function yS(n){return _S(n[ba])}function vS(n){return _S(n[Vn])}function _S(n){for(;n!==null&&!rr(n);)n=n[Vn];return n}var Ov;function u_(n){Ov=n}function bS(){if(Ov!==void 0)return Ov;if(typeof document<"u")return document;throw new Q(210,!1)}var tf=new Z("",{providedIn:"root",factory:()=>JF}),JF="ng",nf=new Z(""),hs=new Z("",{providedIn:"platform",factory:()=>"unknown"});var rf=new Z("",{providedIn:"root",factory:()=>bS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KF="h",QF="b";var ES="r";var wS="di";var IS=!1,CS=new Z("",{providedIn:"root",factory:()=>IS});var d_=new Z("");var YF=(n,e,t,r)=>{};function ZF(n,e,t,r){YF(n,e,t,r)}function h_(n){return(n.flags&32)===32}var XF=()=>null;function DS(n,e,t=!1){return XF(n,e,t)}function TS(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];bh(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Fv(n,e,t){bh(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function SS(n,e,t){if(Jy(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{fe(r)}}}var hi=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(hi||{});var Ah;function eL(){if(Ah===void 0&&(Ah=null,ai.trustedTypes))try{Ah=ai.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ah}function ST(n){return eL()?.createScriptURL(n)||n}var Bh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dh})`}};function Ml(n){return n instanceof Bh?n.changingThisBreaksApplicationSecurity:n}function f_(n,e){let t=AS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${dh})`)}return t===e}function AS(n){return n instanceof Bh&&n.getTypeName()||null}var tL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xS(n){return n=String(n),n.match(tL)?n:"unsafe:"+n}var of=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(of||{});function sf(n){let e=RS();return e?e.sanitize(of.URL,n)||"":f_(n,"URL")?Ml(n):xS(Qo(n))}function MS(n){let e=RS();if(e)return ST(e.sanitize(of.RESOURCE_URL,n)||"");if(f_(n,"ResourceURL"))return ST(Ml(n));throw new Q(904,!1)}function nL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?MS:sf}function p_(n,e,t){return nL(e,t)(n)}function RS(){let n=_e();return n&&n[Er].sanitizer}function PS(n){return n instanceof Function?n():n}function rL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var NS="ng-template";function iL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(m_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function m_(n){return n.type===4&&n.value!==NS}function oL(n,e,t){let r=n.type===4&&!t?NS:n.value;return e===r}function sL(n,e,t){let r=4,i=n.attrs,o=i!==null?lL(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!or(r)&&!or(c))return!1;if(s&&or(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!oL(n,c,t)||c===""&&e.length===1){if(or(r))return!1;s=!0}}else if(r&8){if(i===null||!iL(n,i,c,t)){if(or(r))return!1;s=!0}}else{let u=e[++a],h=aL(c,i,m_(n),t);if(h===-1){if(or(r))return!1;s=!0;continue}if(u!==""){let g;if(h>o?g="":g=i[h+1].toLowerCase(),r&2&&u!==g){if(or(r))return!1;s=!0}}}}return or(r)||s}function or(n){return(n&1)===0}function aL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return uL(e,n)}function cL(n,e,t=!1){for(let r=0;r<e.length;r++)if(sL(n,e[r],t))return!0;return!1}function lL(n){for(let e=0;e<n.length;e++){let t=n[e];if(oS(t))return e}return n.length}function uL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function AT(n,e){return n?":not("+e.trim()+")":e}function dL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!or(s)&&(e+=AT(o,i),i=""),r=s,o=o||!or(r);t++}return i!==""&&(e+=AT(o,i)),e}function hL(n){return n.map(dL).join(",")}function fL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!or(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Mn={};function pL(n,e){return n.createText(e)}function mL(n,e,t){n.setValue(e,t)}function kS(n,e,t){return n.createElement(e,t)}function $h(n,e,t,r,i){n.insertBefore(e,t,r,i)}function OS(n,e,t){n.appendChild(e,t)}function xT(n,e,t,r,i){r!==null?$h(n,e,t,r,i):OS(n,e,t)}function FS(n,e,t,r){n.removeChild(null,e,t,r)}function gL(n,e,t){n.setAttribute(e,"style",t)}function yL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function LS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&RF(n,e,r),i!==null&&yL(n,e,i),o!==null&&gL(n,e,o)}function g_(n,e,t,r,i,o,s,a,c,u,h){let g=wt+r,v=g+i,E=vL(g,v),x=typeof u=="function"?u():u;return E[ae]={type:n,blueprint:E,template:t,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1,ssrId:h}}function vL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mn);return t}function _L(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=g_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function y_(n,e,t,r,i,o,s,a,c,u,h){let g=e.blueprint.slice();return g[nr]=i,g[pe]=r|4|128|8|64|1024,(u!==null||n&&n[pe]&2048)&&(g[pe]|=2048),Zy(g),g[xt]=g[Yo]=n,g[gt]=t,g[Er]=s||n&&n[Er],g[it]=a||n&&n[it],g[ui]=c||n&&n[ui]||null,g[jn]=o,g[dl]=WF(),g[va]=h,g[Wy]=u,g[Sn]=e.type==2?n[Sn]:g,g}function bL(n,e,t){let r=ir(e,n),i=_L(t),o=n[Er].rendererFactory,s=v_(n,y_(n,i,null,VS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function VS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function v_(n,e){return n[ba]?n[qy][Vn]=e:n[ba]=e,n[qy]=e,e}function w(n=1){US(Mt(),_e(),di()+n,!1)}function US(n,e,t,r){if(!r)if((e[pe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Rh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ph(e,o,0,t)}no(t)}var af=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(af||{});function Lv(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&af.SignalBased)!==0&&(c=e[o][Kt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):XT(e,c,o,r)}finally{fe(i)}}var Ar=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ar||{}),EL;function __(n,e){return EL(n,e)}var ss=new Set,cf=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(cf||{}),fs=new Z(""),MT=new Set;function ar(n){MT.has(n)||(MT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var BS=!1,Vv=class extends ft{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,zD()&&(this.destroyRef=R($n,{optional:!0})??void 0,this.pendingTasks=R(Tr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof at&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},vt=Vv;function $S(n){let e,t;function r(){n=_l;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function RT(n){return queueMicrotask(()=>n()),()=>{n=_l}}var b_="isAngularZone",Hh=b_+"_ID",wL=0,ke=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BS}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,DL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(b_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,IL,_l,_l);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},IL={};function E_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function CL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$S(()=>{n.callbackScheduled=!1,jv(n),n.isCheckStableRunning=!0,E_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jv(n)}function DL(n){let e=()=>{CL(n)},t=wL++;n._inner=n._inner.fork({name:"angular",properties:{[b_]:!0,[Hh]:t,[Hh+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(TL(c))return r.invokeTask(o,s,a,c);try{return PT(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),NT(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return PT(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!SL(c)&&e(),NT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jv(n),E_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function PT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NT(n){n._nesting--,E_(n)}var zh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function TL(n){return HS(n,"__ignore_ng_zone__")}function SL(n){return HS(n,"__scheduler_tick__")}function HS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var w_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),zS=[0,1,2,3],qS=(()=>{class n{ngZone=R(ke);scheduler=R(si);errorHandler=R(Xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(fs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&je(16),this.executing=!0;for(let r of zS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&je(17)}register(t){let{view:r}=t;r!==void 0?((r[Xo]??=[]).push(t),wa(r),r[pe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(cf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),qh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Xo];e&&(this.view[Xo]=e.filter(t=>t!==this))}};function Rl(n,e){let t=e?.injector??R(ct);return ar("NgAfterNextRender"),xL(n,t,e,!0)}function AL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function xL(n,e,t,r){let i=e.get(w_);i.impl??=e.get(qS);let o=e.get(fs,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get($n):null,a=e.get(Th,null,{optional:!0}),c=new qh(i.impl,AL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var WS=new Z("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function GS(n,e,t){let r=n.get(WS);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function ML(n,e){let t=n.get(WS);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function RL(n,e){for(let[t,r]of e)GS(n,r.animateFns)}function kT(n,e,t,r){let i=n?.[es]?.enter;e!==null&&i&&i.has(t.index)&&RL(r,i)}function Da(n,e,t,r,i,o,s,a){if(i!=null){let c,u=!1;rr(i)?c=i:Ir(i)&&(u=!0,i=i[nr]);let h=Un(i);n===0&&r!==null?(kT(a,r,o,t),s==null?OS(e,r,h):$h(e,r,h,s||null,!0)):n===1&&r!==null?(kT(a,r,o,t),$h(e,r,h,s||null,!0)):n===2?OT(a,o,t,g=>{FS(e,h,u,g)}):n===3&&OT(a,o,t,()=>{e.destroyNode(h)}),c!=null&&zL(e,n,t,c,o,r,s)}}function PL(n,e){JS(n,e),e[nr]=null,e[jn]=null}function NL(n,e,t,r,i,o){r[nr]=i,r[jn]=e,uf(n,r,t,1,i,o)}function JS(n,e){e[Er].changeDetectionScheduler?.notify(9),uf(n,e,e[it],2,null,null)}function kL(n){let e=n[ba];if(!e)return Ev(n[ae],n);for(;e;){let t=null;if(Ir(e))t=e[ba];else{let r=e[lt];r&&(t=r)}if(!t){for(;e&&!e[Vn]&&e!==n;)Ir(e)&&Ev(e[ae],e),e=e[xt];e===null&&(e=n),Ir(e)&&Ev(e[ae],e),t=e&&e[Vn]}e=t}}function I_(n,e){let t=n[ts],r=t.indexOf(e);t.splice(r,1)}function lf(n,e){if(ns(e))return;let t=e[it];t.destroyNode&&uf(n,e,t,3,null,null),kL(e)}function Ev(n,e){if(ns(e))return;let t=fe(null);try{e[pe]&=-129,e[pe]|=256,e[An]&&Zc(e[An]),LL(n,e),FL(n,e),e[ae].type===1&&e[it].destroy();let r=e[Xi];if(r!==null&&rr(e[xt])){r!==e[xt]&&I_(r,e);let i=e[wr];i!==null&&i.detachView(n)}kv(e)}finally{fe(t)}}function OT(n,e,t,r){let i=n?.[es];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&ss.add(n),GS(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:h}=u();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),OL(n,r)}else n&&ss.delete(n),r(!1)},i)}function OL(n,e){let t=n[es]?.running;if(t){t.then(()=>{n[es].running=void 0,ss.delete(n),e(!0)});return}e(!1)}function FL(n,e){let t=n.cleanup,r=e[_a];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[_a]=null);let i=e[ii];if(i!==null){e[ii]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hl];if(o!==null){e[hl]=null;for(let s of o)s.destroy()}}function LL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof os)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];je(4,a,c);try{c.call(a)}finally{je(5,a,c)}}else{je(4,i,o);try{o.call(i)}finally{je(5,i,o)}}}}}function VL(n,e,t){return jL(n,e.parent,t)}function jL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[nr];if(to(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===hi.None||i===hi.Emulated)return null}return ir(r,t)}function UL(n,e,t){return $L(n,e,t)}function BL(n,e,t){return n.type&40?ir(n,t):null}var $L=BL,FT;function C_(n,e,t,r){let i=VL(n,r,e),o=e[it],s=r.parent||e[jn],a=UL(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)xT(o,i,t[c],a,!1);else xT(o,i,t,a,!1);FT!==void 0&&FT(o,r,e,t,i)}function bl(n,e){if(e!==null){let t=e.type;if(t&3)return ir(e,n);if(t&4)return Uv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return bl(n,r);{let i=n[e.index];return rr(i)?Uv(-1,i):Un(i)}}else{if(t&128)return bl(n,e.next);if(t&32)return __(e,n)()||Un(n[e.index]);{let r=KS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qi(n[Sn]);return bl(i,r)}else return bl(n,e.next)}}}return null}function KS(n,e){if(e!==null){let r=n[Sn][jn],i=e.projection;return r.projection[i]}return null}function Uv(n,e){let t=lt+n+1;if(t<e.length){let r=e[t],i=r[ae].firstChild;if(i!==null)return bl(r,i)}return e[eo]}function D_(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ui];if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&Sa(Un(c),r),t.flags|=2),!h_(t))if(u&8)D_(n,e,t.child,r,i,o,!1),Da(e,n,a,i,c,t,o,r);else if(u&32){let h=__(t,r),g;for(;g=h();)Da(e,n,a,i,g,t,o,r);Da(e,n,a,i,c,t,o,r)}else u&16?HL(n,e,r,t,i,o):Da(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function uf(n,e,t,r,i,o){D_(t,r,n.firstChild,e,i,o,!1)}function HL(n,e,t,r,i,o){let s=t[Sn],c=s[jn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];Da(e,n,t[ui],i,h,r,o,t)}else{let u=c,h=s[xt];mS(r)&&(u.flags|=128),D_(n,e,u,h,i,o,!0)}}function zL(n,e,t,r,i,o,s){let a=r[eo],c=Un(r);a!==c&&Da(e,n,t,o,a,i,s);for(let u=lt;u<r.length;u++){let h=r[u];uf(h[ae],h,n,e,o,a)}}function qL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ar.Important),n.setStyle(t,r,i,o))}}function QS(n,e,t,r,i){let o=di(),s=r&2;try{no(-1),s&&e.length>wt&&US(n,e,wt,!1),je(s?2:0,i,t),t(r,i)}finally{no(o),je(s?3:1,i,t)}}function T_(n,e,t){ZL(n,e,t),(t.flags&64)===64&&XL(n,e,t)}function S_(n,e,t=ir){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function WL(n,e,t,r){let o=r.get(CS,IS)||t===hi.ShadowDom,s=n.selectRootElement(e,o);return GL(s),s}function GL(n){JL(n)}var JL=()=>null;function KL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function YS(n,e,t,r,i,o){let s=e[ae];if(A_(n,s,e,t,r)){to(n)&&YL(e,n.index);return}n.type&3&&(t=KL(t)),QL(n,e,t,r,i,o)}function QL(n,e,t,r,i,o){if(n.type&3){let s=ir(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function YL(n,e){let t=Bn(e,n);t[pe]&16||(t[pe]|=64)}function ZL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;to(t)&&bL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||jh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Il(e,n,s,t);if(Sa(c,e),o!==null&&r2(e,s-r,c,a,t,o),Cr(a)){let u=Bn(t.index,e);u[gt]=Il(e,n,s,t)}}}function XL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=dT();try{no(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];_h(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&e2(c,u)}}finally{no(-1),_h(s)}}function e2(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ZS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];cL(e,o.selectors,!1)&&(r??=[],Cr(o)?r.unshift(o):r.push(o))}return r}function t2(n,e,t,r,i,o){let s=ir(n,e);n2(e[it],s,o,n.value,t,r,i)}function n2(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Qo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function r2(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Lv(r,t,c,u)}}function i2(n,e,t,r,i){let o=wt+t,s=e[ae],a=i(s,e,n,r,t);e[o]=a,Ia(n,!0);let c=n.type===2;return c?(LS(e[it],a,n),(XD()===0||pl(n))&&Sa(a,e),eT()):Sa(a,e),Ch()&&(!c||!h_(n))&&C_(s,e,a,n),n}function o2(n){let e=n;return ov()?sT():(e=e.parent,Ia(e,!1)),e}function s2(n,e){let t=n[ui];if(!t)return;let r;try{r=t.get(ln,null)}catch{r=null}r?.(e)}function A_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],h=s[c+1],g=e.data[u];Lv(g,t[u],h,i),a=!0}if(o)for(let c of o){let u=t[c],h=e.data[c];Lv(h,u,r,i),a=!0}return a}function a2(n,e){let t=Bn(e,n),r=t[ae];c2(r,t);let i=t[nr];i!==null&&t[va]===null&&(t[va]=DS(i,t[ui])),je(18),x_(r,t,t[gt]),je(19,t[gt])}function c2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function x_(n,e,t){Eh(e);try{let r=n.viewQuery;r!==null&&Fv(1,r,t);let i=n.template;i!==null&&QS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[wr]?.finishViewCreation(n),n.staticContentQueries&&TS(n,e),n.staticViewQueries&&Fv(2,n.viewQuery,t);let o=n.components;o!==null&&l2(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[pe]&=-5,wh()}}function l2(n,e){for(let t=0;t<e.length;t++)a2(n,e[t])}function df(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[pe]&4096?4096:16,c=y_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Xi]=u;let h=n[wr];return h!==null&&(c[wr]=h.createEmbeddedView(o)),x_(o,c,t),c}finally{fe(i)}}function Cl(n,e){return!e||e.firstChild===null||mS(n)}function Dl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Un(o)),rr(o)&&XS(o,r);let s=t.type;if(s&8)Dl(n,e,t.child,r);else if(s&32){let a=__(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=KS(e,t);if(Array.isArray(a))r.push(...a);else{let c=Qi(e[Sn]);Dl(c[ae],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XS(n,e){for(let t=lt;t<n.length;t++){let r=n[t],i=r[ae].firstChild;i!==null&&Dl(r[ae],r,i,e)}n[eo]!==n[nr]&&e.push(n[eo])}function eA(n){if(n[Xo]!==null){for(let e of n[Xo])e.impl.addSequence(e);n[Xo].length=0}}var tA=[];function u2(n){return n[An]??d2(n)}function d2(n){let e=tA.pop()??Object.create(f2);return e.lView=n,e}function h2(n){n.lView[An]!==n&&(n.lView=null,tA.push(n))}var f2=te(V({},Zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{wa(n.lView)},consumerOnSignalRead(){this.lView[An]=this}});function p2(n){let e=n[An]??Object.create(m2);return e.lView=n,e}var m2=te(V({},Zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Qi(n.lView);for(;e&&!nA(e[ae]);)e=Qi(e);e&&Xy(e)},consumerOnSignalRead(){this.lView[An]=this}});function nA(n){return n.type!==2}function rA(n){if(n[hl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[pe]&8192)}}var g2=100;function iA(n,e=0){let r=n[Er].rendererFactory,i=!1;i||r.begin?.();try{y2(n,e)}finally{i||r.end?.()}}function y2(n,e){let t=sv();try{av(!0),Bv(n,e);let r=0;for(;gl(n);){if(r===g2)throw new Q(103,!1);r++,Bv(n,1)}}finally{av(t)}}function v2(n,e,t,r){if(ns(e))return;let i=e[pe],o=!1,s=!1;Eh(e);let a=!0,c=null,u=null;o||(nA(n)?(u=u2(e),c=ea(u)):Pd()===null?(a=!1,u=p2(e),c=ea(u)):e[An]&&(Zc(e[An]),e[An]=null));try{Zy(e),cT(n.bindingStartIndex),t!==null&&QS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let E=n.preOrderCheckHooks;E!==null&&Rh(e,E,null)}else{let E=n.preOrderHooks;E!==null&&Ph(e,E,0,null),_v(e,0)}if(s||_2(e),rA(e),oA(e,0),n.contentQueries!==null&&TS(n,e),!o)if(h){let E=n.contentCheckHooks;E!==null&&Rh(e,E)}else{let E=n.contentHooks;E!==null&&Ph(e,E,1),_v(e,1)}E2(n,e);let g=n.components;g!==null&&aA(e,g,0);let v=n.viewQuery;if(v!==null&&Fv(2,v,r),!o)if(h){let E=n.viewCheckHooks;E!==null&&Rh(e,E)}else{let E=n.viewHooks;E!==null&&Ph(e,E,2),_v(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[gh]){for(let E of e[gh])E();e[gh]=null}o||(eA(e),e[pe]&=-73)}catch(h){throw o||wa(e),h}finally{u!==null&&(Qc(u,c),a&&h2(u)),wh()}}function oA(n,e){for(let t=yS(n);t!==null;t=vS(t))for(let r=lt;r<t.length;r++){let i=t[r];sA(i,e)}}function _2(n){for(let e=yS(n);e!==null;e=vS(e)){if(!(e[pe]&2))continue;let t=e[ts];for(let r=0;r<t.length;r++){let i=t[r];Xy(i)}}}function b2(n,e,t){je(18);let r=Bn(e,n);sA(r,t),je(19,r[gt])}function sA(n,e){yh(n)&&Bv(n,e)}function Bv(n,e){let r=n[ae],i=n[pe],o=n[An],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Yc(o)),s||=!1,o&&(o.dirty=!1),n[pe]&=-9217,s)v2(r,n,r.template,n[gt]);else if(i&8192){let a=fe(null);try{rA(n),oA(n,1);let c=r.components;c!==null&&aA(n,c,1),eA(n)}finally{fe(a)}}}function aA(n,e,t){for(let r=0;r<e.length;r++)b2(n,e[r],t)}function E2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)no(~i);else{let o=i,s=t[++r],a=t[++r];uT(s,o);let c=e[o];je(24,c),a(2,c),je(25,c)}}}finally{no(-1)}}function M_(n,e){let t=sv()?64:1088;for(n[Er].changeDetectionScheduler?.notify(e);n;){n[pe]|=t;let r=Qi(n);if(Ea(n)&&!r)return n;n=r}return null}function cA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function lA(n,e){let t=lt+e;if(t<n.length)return n[t]}function hf(n,e,t,r=!0){let i=e[ae];if(w2(i,e,n,t),r){let s=Uv(t,n),a=e[it],c=a.parentNode(n[eo]);c!==null&&NL(i,n[jn],a,e,c,s)}let o=e[va];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uA(n,e){let t=Tl(n,e);return t!==void 0&&lf(t[ae],t),t}function Tl(n,e){if(n.length<=lt)return;let t=lt+e,r=n[t];if(r){let i=r[Xi];i!==null&&i!==n&&I_(i,r),e>0&&(n[t-1][Vn]=r[Vn]);let o=cl(n,lt+e);PL(r[ae],r);let s=o[wr];s!==null&&s.detachView(o[ae]),r[xt]=null,r[Vn]=null,r[pe]&=-129}return r}function w2(n,e,t,r){let i=lt+r,o=t.length;r>0&&(t[i-1][Vn]=e),r<o-lt?(e[Vn]=t[i],Ly(t,lt+r,e)):(t.push(e),e[Vn]=null),e[xt]=t;let s=e[Xi];s!==null&&t!==s&&dA(s,e);let a=e[wr];a!==null&&a.insertView(n),vh(e),e[pe]|=128}function dA(n,e){let t=n[ts],r=e[xt];if(Ir(r))n[pe]|=2;else{let i=r[xt][Sn];e[Sn]!==i&&(n[pe]|=2)}t===null?n[ts]=[e]:t.push(e)}var ro=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ae];return Dl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return ns(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(rr(e)){let t=e[fl],r=t?t.indexOf(this):-1;r>-1&&(Tl(e,r),cl(t,r))}this._attachedToViewContainer=!1}lf(this._lView[ae],this._lView)}onDestroy(e){ev(this._lView,e)}markForCheck(){M_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pe]&=-129}reattach(){vh(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,iA(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ea(this._lView),t=this._lView[Xi];t!==null&&!e&&I_(t,this._lView),JS(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=Ea(this._lView),r=this._lView[Xi];r!==null&&!t&&dA(r,this._lView),vh(this._lView)}};var as=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=I2;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=df(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ro(o)}}return n})();function I2(){return R_($t(),_e())}function R_(n,e){return n.type&4?new as(e,n,Ma(n,e)):null}function ff(n,e,t,r,i){let o=n.data[e];if(o===null)o=C2(n,e,t,r,i),lT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=oT();o.injectorIndex=s===null?-1:s.injectorIndex}return Ia(o,!0),o}function C2(n,e,t,r,i){let o=iv(),s=ov(),a=s?o:o&&o.parent,c=n.data[e]=T2(n,a,t,e,r,i);return D2(n,c,o,s),c}function D2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function T2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return nT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var _Z=new RegExp(`^(\\d+)*(${QF}|${KF})*(.*)`);function S2(n){let e=n[Gy]??[],r=n[xt][it],i=[];for(let o of e)o.data[wS]!==void 0?i.push(o):A2(o,r);n[Gy]=i}function A2(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[ES];for(;t<i;){let o=r.nextSibling;FS(e,r,!1),r=o,t++}}}var x2=()=>null,M2=()=>null;function $v(n,e){return x2(n,e)}function hA(n,e,t){return M2(n,e,t)}var fA=class{},pf=class{},Hv=class{resolveComponentFactory(e){throw new Q(917,!1)}},Pl=class{static NULL=new Hv},cs=class{},Hn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>R2()}return n})();function R2(){let n=_e(),e=$t(),t=Bn(e.index,n);return(Ir(t)?t:n)[it]}var pA=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>null})}return n})();var kh={},zv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,kh,r);return i!==kh||t===kh?i:this.parentInjector.get(e,t,r)}};function LT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Sy(i,a);else if(o==2){let c=a,u=e[++s];r=Sy(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function de(n,e=0){let t=_e();if(t===null)return ue(n,e);let r=$t();return hS(r,t,Bt(n),e)}function P_(){let n="invalid";throw new Error(n)}function mA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,u]=h.resolveHostDirectives(s);break}k2(n,e,t,a,o,c,u)}o!==null&&r!==null&&P2(t,r,o)}function P2(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}function N2(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function k2(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let v=0;v<a;v++){let E=r[v];!c&&Cr(E)&&(c=!0,N2(n,t,v)),Pv(jh(t,e),n,E.type)}U2(t,n.data.length,a);for(let v=0;v<a;v++){let E=r[v];E.providersResolver&&E.providersResolver(E)}let u=!1,h=!1,g=jS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let E=r[v];if(t.mergedAttrs=wl(t.mergedAttrs,E.hostAttrs),F2(n,t,e,g,E),j2(g,E,i),s!==null&&s.has(E)){let[F,O]=s.get(E);t.directiveToIndex.set(E.type,[g,F+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(E))&&t.directiveToIndex.set(E.type,g);E.contentQueries!==null&&(t.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(t.flags|=64);let x=E.type.prototype;!u&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),g++}O2(n,t,o)}function O2(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))VT(0,e,i,r),VT(1,e,i,r),UT(e,r,!1);else{let o=t.get(i);jT(0,e,o,r),jT(1,e,o,r),UT(e,r,!0)}}}function VT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),gA(e,o)}}function jT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),gA(e,s)}}function gA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function UT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||m_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let h of u)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function F2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ki(i.type,!0)),s=new os(o,Cr(i),de,null);n.blueprint[r]=s,t[r]=s,L2(n,e,r,jS(n,t,i.hostVars,Mn),i)}function L2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;V2(s)!=a&&s.push(a),s.push(t,r,o)}}function V2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function j2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Cr(e)&&(t[""]=n)}}function U2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function yA(n,e,t,r,i,o,s,a){let c=e[ae],u=c.consts,h=Dr(u,s),g=ff(c,n,t,r,h);return o&&mA(c,e,g,Dr(u,a),i),g.mergedAttrs=wl(g.mergedAttrs,g.attrs),g.attrs!==null&&LT(g,g.attrs,!1),g.mergedAttrs!==null&&LT(g,g.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,g),g}function vA(n,e){rS(n,e),Jy(e)&&n.queries.elementEnd(e)}function mf(n,e,t){return n[e]=t}function B2(n,e){return n[e]}function sr(n,e,t){if(t===Mn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function N_(n,e,t,r){let i=sr(n,e,t);return sr(n,e+1,r)||i}function $2(n,e,t,r,i){let o=N_(n,e,t,r);return sr(n,e+2,i)||o}function wv(n,e,t){return function r(i){let o=to(n)?Bn(n.index,e):e;M_(o,5);let s=e[gt],a=BT(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=BT(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function BT(n,e,t,r){let i=fe(null);try{return je(6,e,t),t(r)!==!1}catch(o){return s2(n,o),!1}finally{je(7,e,t),fe(i)}}function H2(n,e,t,r,i,o,s,a){let c=pl(n),u=!1,h=null;if(!r&&c&&(h=q2(e,t,o,n.index)),h!==null){let g=h.__ngLastListenerFn__||h;g.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,u=!0}else{let g=ir(n,t),v=r?r(g):g;ZF(t,v,o,a);let E=i.listen(v,o,a);if(!z2(o)){let x=r?F=>r(Un(F[n.index])):n.index;_A(x,e,t,o,a,E,!1)}}return u}function z2(n){return n.startsWith("animation")||n.startsWith("transition")}function q2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[_a],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function _A(n,e,t,r,i,o,s){let a=e.firstCreatePass?nv(e):null,c=tv(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function $T(n,e,t,r,i,o){let s=e[t],a=e[ae],u=a.data[t].outputs[r],g=s[u].subscribe(o);_A(n.index,a,e,i,o,g,!0)}var qv=Symbol("BINDING");var Wh=class extends Pl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=li(e);return new ls(t,this.ngModule)}};function W2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&af.SignalBased)!==0};return i&&(o.transform=i),o})}function G2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function J2(n,e,t){let r=e instanceof mt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new zv(t,r):t}function K2(n){let e=n.get(cs,null);if(e===null)throw new Q(407,!1);let t=n.get(pA,null),r=n.get(si,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Q2(n,e){let t=bA(n);return kS(e,t,t==="svg"?WD:t==="math"?GD:null)}function bA(n){return(n.selectors[0][0]||"div").toLowerCase()}var ls=class extends pf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=W2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=G2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){je(22);let a=fe(null);try{let c=this.componentDef,u=Y2(r,c,s,o),h=J2(c,i||this.ngModule,e),g=K2(h),v=g.rendererFactory.createRenderer(null,c),E=r?WL(v,r,c.encapsulation,h):Q2(c,v),x=s?.some(HT)||o?.some(q=>typeof q!="function"&&q.bindings.some(HT)),F=y_(null,u,null,512|VS(c),null,null,g,v,h,null,DS(E,h,!0));F[wt]=E,Eh(F);let O=null;try{let q=yA(wt,F,2,"#host",()=>u.directiveRegistry,!0,0);LS(v,E,q),Sa(E,F),T_(u,F,q),SS(u,q,F),vA(u,q),t!==void 0&&X2(q,this.ngContentSelectors,t),O=Bn(q.index,F),F[gt]=O[gt],x_(u,F,null)}catch(q){throw O!==null&&kv(O),kv(F),q}finally{je(23),wh()}return new Gh(this.componentType,F,!!x)}finally{fe(a)}}};function Y2(n,e,t,r){let i=n?["ng-version","20.3.13"]:fL(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[qv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let g=r[h];if(typeof g!="function")for(let v of g.bindings){a+=v[qv].requiredVars;let E=h+1;v.create&&(v.targetIdx=E,(o??=[]).push(v)),v.update&&(v.targetIdx=E,(s??=[]).push(v))}}let c=[e];if(r)for(let h of r){let g=typeof h=="function"?h:h.type,v=By(g);c.push(v)}return g_(0,null,Z2(o,s),1,a,c,null,null,null,[i],null)}function Z2(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function HT(n){let e=n[qv].kind;return e==="input"||e==="twoWay"}var Gh=class extends fA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ml(t[ae],wt),this.location=Ma(this._tNode,t),this.instance=Bn(this._tNode.index,t)[gt],this.hostView=this.changeDetectorRef=new ro(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=A_(r,i[ae],i,e,t);this.previousInputValues.set(e,t);let s=Bn(r.index,i);M_(s,1)}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function X2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var io=(()=>{class n{static __NG_ELEMENT_ID__=eV}return n})();function eV(){let n=$t();return wA(n,_e())}var tV=io,EA=class extends tV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ma(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){let e=c_(this._hostTNode,this._hostLView);if(sS(e)){let t=Lh(e,this._hostLView),r=Fh(e),i=t[ae].data[r+8];return new is(i,t)}else return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=zT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$v(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Cl(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!IF(e),u;if(c)u=t;else{let O=t||{};u=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef,s=O.directives,a=O.bindings}let h=c?e:new ls(li(e)),g=r||this.parentInjector;if(!o&&h.ngModule==null){let q=(c?g:this.parentInjector).get(mt,null);q&&(o=q)}let v=li(h.componentType??{}),E=$v(this._lContainer,v?.id??null),x=E?.firstChild??null,F=h.create(g,i,x,o,s,a);return this.insertImpl(F.hostView,u,Cl(this._hostTNode,E)),F}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(KD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xt],u=new EA(c,c[jn],c[xt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return hf(s,i,o,r),e.attachToViewContainerRef(),Ly(Iv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=zT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Tl(this._lContainer,t);r&&(cl(Iv(this._lContainer),t),lf(r[ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=Tl(this._lContainer,t);return r&&cl(Iv(this._lContainer),t)!=null?new ro(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function zT(n){return n[fl]}function Iv(n){return n[fl]||(n[fl]=[])}function wA(n,e){let t,r=e[n.index];return rr(r)?t=r:(t=cA(r,e,null,n),e[n.index]=t,v_(e,t)),rV(t,e,n,r),new EA(t,n,e)}function nV(n,e){let t=n[it],r=t.createComment(""),i=ir(e,n),o=t.parentNode(i);return $h(t,o,r,t.nextSibling(i),!1),r}var rV=sV,iV=()=>!1;function oV(n,e,t){return iV(n,e,t)}function sV(n,e,t,r){if(n[eo])return;let i;t.type&8?i=Un(r):i=nV(e,t),n[eo]=i}var Wv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Gv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)k_(e,t).matches!==null&&this.queries[t].setDirty()}},Jv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=pV(e):this.predicate=e}},Kv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,aV(t,o)),this.matchTNodeWithReadOption(e,t,Nh(t,e,o,!1,!1))}else r===as?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Nh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Qt||i===io||i===as&&t.type&4)this.addMatch(t.index,-2);else{let o=Nh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function aV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function cV(n,e){return n.type&11?Ma(n,e):n.type&4?R_(n,e):null}function lV(n,e,t,r){return t===-1?cV(e,n):t===-2?uV(n,e,r):Il(n,n[ae],t,e)}function uV(n,e,t){if(t===Qt)return Ma(e,n);if(t===as)return R_(e,n);if(t===io)return wA(e,n)}function IA(n,e,t,r){let i=e[wr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let h=o[u];a.push(lV(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Yv(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=IA(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-c];for(let g=lt;g<h.length;g++){let v=h[g];v[Xi]===v[xt]&&Yv(v[ae],v,u,r)}if(h[ts]!==null){let g=h[ts];for(let v=0;v<g.length;v++){let E=g[v];Yv(E[ae],E,u,r)}}}}}return r}function dV(n,e){return n[wr].queries[e].queryList}function hV(n,e,t){let r=new Uh((t&4)===4);return ZD(n,e,r,r.destroy),(e[wr]??=new Gv).queries.push(new Wv(r))-1}function fV(n,e,t,r){let i=Mt();if(i.firstCreatePass){let o=$t();mV(i,new Jv(e,t,r),o.index),gV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return hV(i,_e(),t)}function pV(n){return n.split(",").map(e=>e.trim())}function mV(n,e,t){n.queries===null&&(n.queries=new Kv),n.queries.track(new Qv(e,t))}function gV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function k_(n,e){return n.queries.getByIndex(e)}function yV(n,e){let t=n[ae],r=k_(t,e);return r.crossesNgTemplate?Yv(t,n,e,[]):IA(t,n,r,e)}var us=class{},gf=class{};var Jh=class extends us{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Uy(e);this._bootstrapComponents=PS(o.bootstrap),this._r3Injector=hv(e,t,[{provide:us,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver},...r],oi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kh=class extends gf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jh(this.moduleType,e,[])}};var Sl=class extends us{injector;componentFactoryResolver=new Wh(this);instance=null;constructor(e){super();let t=new Jo([...e.providers,{provide:us,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver}],e.parent||ul(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ra(n,e,t=null){return new Sl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var vV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=$y(!1,t.type),i=r.length>0?Ra([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:n,providedIn:"environment",factory:()=>new n(ue(mt))})}return n})();function Qe(n){return xa(()=>{let e=CA(n),t=te(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===l_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(vV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hi.Emulated,styles:n.styles||Tn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ar("NgStandalone"),DA(t);let r=n.dependencies;return t.directiveDefs=qT(r,_V),t.pipeDefs=qT(r,VD),t.id=wV(t),t})}function _V(n){return li(n)||By(n)}function xr(n){return xa(()=>({type:n.type,bootstrap:n.bootstrap||Tn,declarations:n.declarations||Tn,imports:n.imports||Tn,exports:n.exports||Tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bV(n,e){if(n==null)return Zi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=af.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function EV(n){if(n==null)return Zi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ot(n){return xa(()=>{let e=CA(n);return DA(e),e})}function yf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function CA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Zi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:bV(n.inputs,e),outputs:EV(n.outputs),debugInfo:null}}function DA(n){n.features?.forEach(e=>e(n))}function qT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function wV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function IV(n){return Object.getPrototypeOf(n.prototype).constructor}function zn(n){let e=IV(n.type),t=!0,r=[n];for(;e;){let i;if(Cr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Cv(n.inputs),s.declaredInputs=Cv(n.declaredInputs),s.outputs=Cv(n.outputs);let a=i.hostBindings;a&&AV(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&TV(n,c),u&&SV(n,u),CV(n,i),AD(n.outputs,i.outputs),Cr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===zn&&(t=!1)}}e=Object.getPrototypeOf(e)}DV(r)}function CV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function DV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wl(i.hostAttrs,t=wl(t,i.hostAttrs))}}function Cv(n){return n===Zi?{}:n===Tn?[]:n}function TV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function SV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function AV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function TA(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=wl(n.mergedAttrs,n.attrs);let h=n.tView=g_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ia(n,!1);let c=MV(t,e,n,r);Ch()&&C_(t,e,c,n),Sa(c,e);let u=cA(c,e,c,n);e[r+wt]=u,v_(e,u),oV(u,n,e)}function xV(n,e,t,r,i,o,s,a,c,u,h){let g=t+wt,v;return e.firstCreatePass?(v=ff(e,g,4,s||null,a||null),rv()&&mA(e,n,v,Dr(e.consts,u),ZS),rS(e,v)):v=e.data[g],TA(v,n,e,t,r,i,o,c),pl(v)&&T_(e,n,v),u!=null&&S_(n,v,h),v}function Qh(n,e,t,r,i,o,s,a,c,u,h){let g=t+wt,v;if(e.firstCreatePass){if(v=ff(e,g,4,s||null,a||null),u!=null){let E=Dr(e.consts,u);v.localNames=[];for(let x=0;x<E.length;x+=2)v.localNames.push(E[x],-1)}}else v=e.data[g];return TA(v,n,e,t,r,i,o,c),u!=null&&S_(n,v,h),v}function vf(n,e,t,r,i,o,s,a){let c=_e(),u=Mt(),h=Dr(u.consts,o);return xV(c,u,n,e,t,r,i,h,void 0,s,a),vf}var MV=RV;function RV(n,e,t,r){return Dh(!0),e[it].createComment("")}var O_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var F_=new Z("");function oo(n){return!!n&&typeof n.then=="function"}function L_(n){return!!n&&typeof n.subscribe=="function"}var V_=new Z("");function _f(n){return vn([{provide:V_,multi:!0,useValue:n}])}var j_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(V_,{optional:!0})??[];injector=R(ct);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Et(this.injector,i);if(oo(o))t.push(o);else if(L_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nl=new Z("");function SA(){Gg(()=>{let n="";throw new Q(600,n)})}function AA(n){return n.isBoundToModule}var PV=10;var mi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(ln);afterRenderManager=R(w_);zonelessEnabled=R(vl);rootEffectScheduler=R(vv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ft;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(Tr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(xe(t=>!t))}constructor(){R(fs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ct.NULL){return this._injector.get(ke).run(()=>{je(10);let s=t instanceof pf;if(!this._injector.get(j_).done){let x="";throw new Q(405,x)}let c;s?c=t:c=this._injector.get(Pl).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=AA(c)?void 0:this._injector.get(us),h=r||c.selector,g=c.create(i,[],h,u),v=g.location.nativeElement,E=g.injector.get(F_,null);return E?.registerApplication(v),g.onDestroy(()=>{this.detachView(g.hostView),El(this.components,g),E?.unregisterApplication(v)}),this._loadComponent(g),je(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(cf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(cs,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<PV;)je(14),this.synchronizeOnce(),je(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!gl(i))continue;let o=r&&!this.zonelessEnabled?0:1;iA(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>gl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;El(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Nl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>El(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function El(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kl(n,e,t,r){let i=_e(),o=rs();if(sr(i,o,e)){let s=Mt(),a=Ih();t2(a,i,n,e,t,r)}return kl}var TZ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Zv=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Dv(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function NV(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=n.at(o),h=e[o],g=Dv(o,u,o,h,t);if(g!==0){g<0&&n.updateValue(o,h),o++;continue}let v=n.at(s),E=e[c],x=Dv(s,v,c,E,t);if(x!==0){x<0&&n.updateValue(s,E),s--,c--;continue}let F=t(o,u),O=t(s,v),q=t(o,h);if(Object.is(q,O)){let oe=t(c,E);Object.is(oe,F)?(n.swap(o,s),n.updateValue(s,E),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Yh,i??=GT(n,o,s,t),Xv(n,r,o,q))n.updateValue(o,h),o++,s++;else if(i.has(q))r.set(F,n.detach(o)),s--;else{let oe=n.create(o,e[o]);n.attach(o,oe),o++,s++}}for(;o<=c;)WT(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let h=n.at(o),g=u.value,v=Dv(o,h,o,g,t);if(v!==0)v<0&&n.updateValue(o,g),o++,u=c.next();else{r??=new Yh,i??=GT(n,o,s,t);let E=t(o,g);if(Xv(n,r,o,E))n.updateValue(o,g),o++,s++,u=c.next();else if(!i.has(E))n.attach(o,n.create(o,g)),o++,s++,u=c.next();else{let x=t(o,h);r.set(x,n.detach(o)),s--}}}for(;!u.done;)WT(n,r,t,n.length,u.value),u=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Xv(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function WT(n,e,t,r,i){if(Xv(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function GT(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Yh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function G(n,e,t,r,i,o,s,a){ar("NgControlFlow");let c=_e(),u=Mt(),h=Dr(u.consts,o);return Qh(c,u,n,e,t,r,i,h,256,s,a),U_}function U_(n,e,t,r,i,o,s,a){ar("NgControlFlow");let c=_e(),u=Mt(),h=Dr(u.consts,o);return Qh(c,u,n,e,t,r,i,h,512,s,a),U_}function J(n,e){ar("NgControlFlow");let t=_e(),r=rs(),i=t[r]!==Mn?t[r]:-1,o=i!==-1?Zh(t,wt+i):void 0,s=0;if(sr(t,r,n)){let a=fe(null);try{if(o!==void 0&&uA(o,s),n!==-1){let c=wt+n,u=Zh(t,c),h=r_(t[ae],c),g=hA(u,h,t),v=df(t,h,e,{dehydratedView:g});hf(u,v,s,Cl(h,g))}}finally{fe(a)}}else if(o!==void 0){let a=lA(o,s);a!==void 0&&(a[gt]=e)}}var e_=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-lt}};function gi(n){return n}function Ol(n,e){return e}var t_=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function qe(n,e,t,r,i,o,s,a,c,u,h,g,v){ar("NgControlFlow");let E=_e(),x=Mt(),F=c!==void 0,O=_e(),q=a?s.bind(O[Sn][gt]):s,oe=new t_(F,q);O[wt+n]=oe,Qh(E,x,n+1,e,t,r,i,Dr(x.consts,o),256),F&&Qh(E,x,n+2,c,u,h,g,Dr(x.consts,v),512)}var n_=class extends Zv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-lt}at(e){return this.getLView(e)[gt].$implicit}attach(e,t){let r=t[va];this.needsIndexUpdate||=e!==this.length,hf(this.lContainer,t,e,Cl(this.templateTNode,r)),kV(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,OV(this.lContainer,e),FV(this.lContainer,e)}create(e,t){let r=$v(this.lContainer,this.templateTNode.tView.ssrId),i=df(this.hostLView,this.templateTNode,new e_(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){lf(e[ae],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[gt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[gt].$index=e}getLView(e){return LV(this.lContainer,e)}};function We(n){let e=fe(null),t=di();try{let r=_e(),i=r[ae],o=r[t],s=t+1,a=Zh(r,s);if(o.liveCollection===void 0){let u=r_(i,s);o.liveCollection=new n_(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(NV(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=rs(),h=c.length===0;if(sr(r,u,h)){let g=t+2,v=Zh(r,g);if(h){let E=r_(i,g),x=hA(v,E,r),F=df(r,E,void 0,{dehydratedView:x});hf(v,F,0,Cl(E,x))}else i.firstUpdatePass&&S2(v),uA(v,0)}}}finally{fe(e)}}function Zh(n,e){return n[e]}function kV(n,e){if(n.length<=lt)return;let t=lt+e,r=n[t],i=r?r[es]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[ui];ML(o,i),ss.delete(r),i.detachedLeaveAnimationFns=void 0}}function OV(n,e){if(n.length<=lt)return;let t=lt+e,r=n[t],i=r?r[es]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function FV(n,e){return Tl(n,e)}function LV(n,e){return lA(n,e)}function r_(n,e){return ml(n,e)}function W(n,e,t){let r=_e(),i=rs();if(sr(r,i,e)){let o=Mt(),s=Ih();YS(s,r,n,e,r[it],t)}return W}function JT(n,e,t,r,i){A_(e,n,t,i?"class":"style",r)}function p(n,e,t,r){let i=_e(),o=i[ae],s=n+wt,a=o.firstCreatePass?yA(s,i,2,e,ZS,rv(),t,r):o.data[s];if(i2(a,i,n,e,VV),pl(a)){let c=i[ae];T_(c,i,a),SS(c,a,i)}return r!=null&&S_(i,a),p}function m(){let n=Mt(),e=$t(),t=o2(e);return n.firstCreatePass&&vA(n,t),rT(t)&&iT(),tT(),t.classesWithoutHost!=null&&xF(t)&&JT(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&MF(t)&&JT(n,t,_e(),t.stylesWithoutHost,!1),m}function ne(n,e,t,r){return p(n,e,t,r),m(),ne}var VV=(n,e,t,r,i)=>(Dh(!0),kS(e[it],r,yT()));function ce(){return _e()}var xh=void 0;function jV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var UV=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xh,"{1} 'at' {0}",xh],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jV],Tv={};function Rn(n){let e=BV(n),t=KT(e);if(t)return t;let r=e.split("-")[0];if(t=KT(r),t)return t;if(r==="en")return UV;throw new Q(701,!1)}function KT(n){return n in Tv||(Tv[n]=ai.ng&&ai.ng.common&&ai.ng.common.locales&&ai.ng.common.locales[n]),Tv[n]}var _t=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(_t||{});function BV(n){return n.toLowerCase().replace(/_/g,"-")}var Fl="en-US";var $V=Fl;function xA(n){typeof n=="string"&&($V=n.toLowerCase().replace(/_/g,"-"))}function B(n,e,t){let r=_e(),i=Mt(),o=$t();return MA(i,r,r[it],o,n,e,t),B}function MA(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=wv(r,e,o),H2(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let v=h[g],E=h[g+1];c??=wv(r,e,o),$T(r,e,v,E,i,c)}if(u&&u.length)for(let g of u)c??=wv(r,e,o),$T(r,e,g,i,i,c)}}function P(n=1){return gT(n)}function B_(n,e,t,r){fV(n,e,t,r)}function $_(n){let e=_e(),t=Mt(),r=lv();bh(r+1);let i=k_(t,r);if(n.dirty&&JD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=yV(e,r);n.reset(o,HF),n.notifyOnChanges()}return!0}return!1}function H_(){return dV(_e(),lv())}function Mh(n,e){return n<<17|e<<2}function ds(n){return n>>17&32767}function HV(n){return(n&2)==2}function zV(n,e){return n&131071|e<<17}function i_(n){return n|2}function Aa(n){return(n&131068)>>2}function Sv(n,e){return n&-131069|e<<2}function qV(n){return(n&1)===1}function o_(n){return n|1}function WV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ds(s),c=Aa(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let g=t;h=g[1],(h===null||ya(g,h)>0)&&(u=!0)}else h=t;if(i)if(c!==0){let v=ds(n[a+1]);n[r+1]=Mh(v,a),v!==0&&(n[v+1]=Sv(n[v+1],r)),n[a+1]=zV(n[a+1],r)}else n[r+1]=Mh(a,0),a!==0&&(n[a+1]=Sv(n[a+1],r)),a=r;else n[r+1]=Mh(c,0),a===0?a=r:n[c+1]=Sv(n[c+1],r),c=r;u&&(n[r+1]=i_(n[r+1])),QT(n,h,r,!0),QT(n,h,r,!1),GV(e,h,n,r,o),s=Mh(a,c),o?e.classBindings=s:e.styleBindings=s}function GV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ya(o,e)>=0&&(t[r+1]=o_(t[r+1]))}function QT(n,e,t,r){let i=n[t+1],o=e===null,s=r?ds(i):Aa(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];JV(c,e)&&(a=!0,n[s+1]=r?o_(u):i_(u)),s=r?ds(u):Aa(u)}a&&(n[t+1]=r?i_(i):o_(i))}function JV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ya(n,e)>=0:!1}function It(n,e){return KV(n,e,null,!0),It}function KV(n,e,t,r){let i=_e(),o=Mt(),s=cv(2);if(o.firstUpdatePass&&YV(o,n,s,r),e!==Mn&&sr(i,s,e)){let a=o.data[di()];nj(o,a,i,i[it],n,i[s+1]=rj(e,t),r,s)}}function QV(n,e){return e>=n.expandoStartIndex}function YV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[di()],s=QV(n,t);ij(o,r)&&e===null&&!s&&(e=!1),e=ZV(i,o,e,r),WV(i,o,e,t,s,r)}}function ZV(n,e,t,r){let i=hT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Av(null,n,e,t,r),t=Al(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Av(i,n,e,t,r),o===null){let c=XV(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Av(null,n,e,c[1],r),c=Al(c,e.attrs,r),ej(n,e,r,c))}else o=tj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function XV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Aa(r)!==0)return n[ds(r)]}function ej(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ds(i)]=r}function tj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Al(r,s,t)}return Al(r,e.attrs,t)}function Av(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Al(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Al(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),LD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function nj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],h=qV(u)?YT(c,e,t,i,Aa(u),s):void 0;if(!Xh(h)){Xh(o)||HV(u)&&(o=YT(c,null,t,i,a,s));let g=Ky(di(),t);qL(r,s,g,i,o)}}function YT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),h=u?c[1]:c,g=h===null,v=t[i+1];v===Mn&&(v=g?Tn:void 0);let E=g?mh(v,r):h===r?v:void 0;if(u&&!Xh(E)&&(E=mh(c,r)),Xh(E)&&(a=E,s))return a;let x=n[i+1];i=s?ds(x):Aa(x)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=mh(c,r))}return a}function Xh(n){return n!==void 0}function rj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=oi(Ml(n)))),n}function ij(n,e){return(n.flags&(e?8:16))!==0}function y(n,e=""){let t=_e(),r=Mt(),i=n+wt,o=r.firstCreatePass?ff(r,i,1,e,null):r.data[i],s=oj(r,t,o,e,n);t[i]=s,Ch()&&C_(r,t,s,o),Ia(o,!1)}var oj=(n,e,t,r,i)=>(Dh(!0),pL(e[it],r));function sj(n,e,t,r=""){return sr(n,rs(),t)?e+Qo(t)+r:Mn}function aj(n,e,t,r,i,o=""){let s=aT(),a=N_(n,s,t,i);return cv(2),a?e+Qo(t)+r+Qo(i)+o:Mn}function H(n){return Ce("",n),H}function Ce(n,e,t){let r=_e(),i=sj(r,n,e,t);return i!==Mn&&RA(r,di(),i),Ce}function _n(n,e,t,r,i){let o=_e(),s=aj(o,n,e,t,r,i);return s!==Mn&&RA(o,di(),s),_n}function RA(n,e,t){let r=Ky(e,n);mL(n[it],r,t)}function be(n,e,t){mv(e)&&(e=e());let r=_e(),i=rs();if(sr(r,i,e)){let o=Mt(),s=Ih();YS(s,r,n,e,r[it],t)}return be}function we(n,e){let t=mv(n);return t&&n.set(e),t}function Ee(n,e){let t=_e(),r=Mt(),i=$t();return MA(r,t,t[it],i,n,e),Ee}function cj(n,e,t){let r=Mt();if(r.firstCreatePass){let i=Cr(n);s_(t,r.data,r.blueprint,i,!0),s_(e,r.data,r.blueprint,i,!1)}}function s_(n,e,t,r,i){if(n=Bt(n),Array.isArray(n))for(let o=0;o<n.length;o++)s_(n[o],e,t,r,i);else{let o=Mt(),s=_e(),a=$t(),c=Go(n)?n:Bt(n.provide),u=zy(n),h=a.providerIndexes&1048575,g=a.directiveStart,v=a.providerIndexes>>20;if(Go(n)||!n.multi){let E=new os(u,i,de,null),x=Mv(c,e,i?h:h+v,g);x===-1?(Pv(jh(a,s),o,c),xv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(E),s.push(E)):(t[x]=E,s[x]=E)}else{let E=Mv(c,e,h+v,g),x=Mv(c,e,h,h+v),F=E>=0&&t[E],O=x>=0&&t[x];if(i&&!O||!i&&!F){Pv(jh(a,s),o,c);let q=dj(i?uj:lj,t.length,i,r,u,n);!i&&O&&(t[x].providerFactory=q),xv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(q),s.push(q)}else{let q=PA(t[i?x:E],u,!i&&r);xv(o,n,E>-1?E:x,q)}!i&&r&&O&&t[x].componentProviders++}}}function xv(n,e,t,r){let i=Go(e),o=HD(e);if(i||o){let c=(o?Bt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,c]):u[h+1].push(r,c)}else u.push(t,c)}}}function PA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Mv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function lj(n,e,t,r,i){return a_(this.multi,[])}function uj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Il(r,r[ae],this.providerFactory.index,i);s=c.slice(0,a),a_(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],a_(o,s);return s}function a_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function dj(n,e,t,r,i,o){let s=new os(n,t,de,null);return s.multi=[],s.index=e,s.componentProviders=0,PA(s,i,r&&!t),s}function so(n,e=[]){return t=>{t.providersResolver=(r,i)=>cj(r,i?i(n):n,e)}}function ps(n,e,t){let r=yl()+n,i=_e();return i[r]===Mn?mf(i,r,t?e.call(t):e()):B2(i,r)}function bf(n,e,t,r,i,o){return pj(_e(),yl(),n,e,t,r,i,o)}function z_(n,e){let t=n[e];return t===Mn?void 0:t}function hj(n,e,t,r,i,o){let s=e+t;return sr(n,s,i)?mf(n,s+1,o?r.call(o,i):r(i)):z_(n,s+1)}function fj(n,e,t,r,i,o,s){let a=e+t;return N_(n,a,i,o)?mf(n,a+2,s?r.call(s,i,o):r(i,o)):z_(n,a+2)}function pj(n,e,t,r,i,o,s,a){let c=e+t;return $2(n,c,i,o,s)?mf(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):z_(n,c+3)}function qn(n,e){let t=Mt(),r,i=n+wt;t.firstCreatePass?(r=mj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ki(r.type,!0)),s,a=cn(de);try{let c=Vh(!1),u=o();return Vh(c),Yy(t,_e(),i,u),u}finally{cn(a)}}function mj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Pa(n,e,t){let r=n+wt,i=_e(),o=Qy(i,r);return NA(i,r)?hj(i,yl(),e,o.transform,t,o):o.transform(t)}function ao(n,e,t,r){let i=n+wt,o=_e(),s=Qy(o,i);return NA(o,i)?fj(o,yl(),e,s.transform,t,r,s):s.transform(t,r)}function NA(n,e){return n[ae].data[e].pure}var ef=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},q_=(()=>{class n{compileModuleSync(t){return new Kh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Uy(t),o=PS(i.declarations).reduce((s,a)=>{let c=li(a);return c&&s.push(new ls(c)),s},[]);return new ef(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gj=(()=>{class n{zone=R(ke);changeDetectionScheduler=R(si);applicationRef=R(mi);applicationErrorHandler=R(ln);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kA=new Z("",{factory:()=>!1});function W_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ke(te(V({},J_()),{scheduleInRootZone:t})),[{provide:ke,useFactory:n},{provide:ci,multi:!0,useFactory:()=>{let r=R(gj,{optional:!0});return()=>r.initialize()}},{provide:ci,multi:!0,useFactory:()=>{let r=R(yj);return()=>{r.initialize()}}},e===!0?{provide:gv,useValue:!0}:[],{provide:yv,useValue:t??BS},{provide:ln,useFactory:()=>{let r=R(ke),i=R(mt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Xn),o.handleError(s))})}}}]}function G_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=W_({ngZoneFactory:()=>{let i=J_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ar("NgZone_CoalesceEvent"),new ke(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return vn([{provide:kA,useValue:!0},{provide:vl,useValue:!1},r])}function J_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var yj=(()=>{class n{subscription=new at;initialized=!1;zone=R(ke);pendingTasks=R(Tr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var OA=(()=>{class n{applicationErrorHandler=R(ln);appRef=R(mi);taskService=R(Tr);ngZone=R(ke);zonelessEnabled=R(vl);tracing=R(fs,{optional:!0});disableScheduling=R(gv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new at;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(yv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?RT:$S;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vj(){return typeof $localize<"u"&&$localize.locale||Fl}var Ll=new Z("",{providedIn:"root",factory:()=>R(Ll,{optional:!0,skipSelf:!0})||vj()});function Nt(n){return DD(n)}function bn(n,e){return Fd(n,e?.equal)}var FA=class{[Kt];constructor(e){this[Kt]=e}destroy(){this[Kt].destroy()}};var jA=Symbol("InputSignalNode#UNSET"),Mj=te(V({},Ld),{transformFn:void 0,applyValueToInputSignal(n,e){na(n,e)}});function UA(n,e){let t=Object.create(Mj);t.value=n,t.transformFn=e?.transform;function r(){if(Xs(t),t.value===jA){let i=null;throw new Q(-950,i)}return t.value}return r[Kt]=t,r}var wf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>xl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Rj=new Z("");Rj.__NG_ELEMENT_ID__=n=>{let e=$t();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Q(204,!1)};function LA(n,e){return UA(n,e)}function Pj(n){return UA(jA,n)}var BA=(LA.required=Pj,LA);var K_=new Z(""),Nj=new Z("");function Vl(n){return!n.moduleRef}function kj(n){let e=Vl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ke);return t.run(()=>{Vl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ln),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Vl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(K_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(K_);s.add(o),n.moduleRef.onDestroy(()=>{El(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Fj(r,t,()=>{let o=e.get(Tr),s=o.add(),a=e.get(j_);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Ll,Fl);if(xA(c||Fl),!e.get(Nj,!0))return Vl(n)?e.get(mi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Vl(n)){let h=e.get(mi);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return Oj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var Oj;function Fj(n,e,t){try{let r=t();return oo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Ef=null;function Lj(n=[],e){return ct.create({name:e,providers:[{provide:ll,useValue:"platform"},{provide:K_,useValue:new Set([()=>Ef=null])},...n]})}function Vj(n=[]){if(Ef)return Ef;let e=Lj(n);return Ef=e,SA(),jj(e),e}function jj(n){let e=n.get(nf,null);Et(n,()=>{e?.forEach(t=>t())})}function Q_(){return!1}var yi=(()=>{class n{static __NG_ELEMENT_ID__=Uj}return n})();function Uj(n){return Bj($t(),_e(),(n&16)===16)}function Bj(n,e,t){if(to(n)&&!t){let r=Bn(n.index,e);return new ro(r,r)}else if(n.type&175){let r=e[Sn];return new ro(r,e)}return null}function $A(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;je(8);try{let o=i?.injector??Vj(r),s=[W_({}),{provide:si,useExisting:OA},_T,...t||[]],a=new Sl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return kj({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{je(9)}}function ms(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function HA(n){let e=li(n);if(!e)return null;let t=new ls(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var WA=null;function Wn(){return WA}function Y_(n){WA??=n}var jl=class{},Ul=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>R(GA),providedIn:"platform"})}return n})(),Z_=new Z(""),GA=(()=>{class n extends Ul{_location;_history;_doc=R(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wn().getBaseHref(this._doc)}onPopState(t){let r=Wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function If(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function zA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function lr(n){return n&&n[0]!=="?"?`?${n}`:n}var ur=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>R(Df),providedIn:"root"})}return n})(),Cf=new Z(""),Df=(()=>{class n extends ur{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return If(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ue(Ul),ue(Cf,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),co=(()=>{class n{_subject=new ft;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=zj(zA(qA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lr(r))}normalize(t){return n.stripTrailingSlash(Hj(this._basePath,qA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=lr;static joinWithSlash=If;static stripTrailingSlash=zA;static \u0275fac=function(r){return new(r||n)(ue(ur))};static \u0275prov=X({token:n,factory:()=>$j(),providedIn:"root"})}return n})();function $j(){return new co(ue(ur))}function Hj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function qA(n){return n.replace(/\/index.html$/,"")}function zj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var r0=(()=>{class n extends ur{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=If(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ue(Ul),ue(Cf,8))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();var Yt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Yt||{}),Ue=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ue||{}),En=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(En||{}),_i={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function YA(n){return Rn(n)[_t.LocaleId]}function ZA(n,e,t){let r=Rn(n),i=[r[_t.DayPeriodsFormat],r[_t.DayPeriodsStandalone]],o=Gn(i,e);return Gn(o,t)}function XA(n,e,t){let r=Rn(n),i=[r[_t.DaysFormat],r[_t.DaysStandalone]],o=Gn(i,e);return Gn(o,t)}function ex(n,e,t){let r=Rn(n),i=[r[_t.MonthsFormat],r[_t.MonthsStandalone]],o=Gn(i,e);return Gn(o,t)}function tx(n,e){let r=Rn(n)[_t.Eras];return Gn(r,e)}function Bl(n,e){let t=Rn(n);return Gn(t[_t.DateFormat],e)}function $l(n,e){let t=Rn(n);return Gn(t[_t.TimeFormat],e)}function Hl(n,e){let r=Rn(n)[_t.DateTimeFormat];return Gn(r,e)}function zl(n,e){let t=Rn(n),r=t[_t.NumberSymbols][e];if(typeof r>"u"){if(e===_i.CurrencyDecimal)return t[_t.NumberSymbols][_i.Decimal];if(e===_i.CurrencyGroup)return t[_t.NumberSymbols][_i.Group]}return r}function nx(n){if(!n[_t.ExtraData])throw new Q(2303,!1)}function rx(n){let e=Rn(n);return nx(e),(e[_t.ExtraData][2]||[]).map(r=>typeof r=="string"?X_(r):[X_(r[0]),X_(r[1])])}function ix(n,e,t){let r=Rn(n);nx(r);let i=[r[_t.ExtraData][0],r[_t.ExtraData][1]],o=Gn(i,e)||[];return Gn(o,t)||[]}function Gn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Q(2304,!1)}function X_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var qj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tf={},Wj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ox(n,e,t,r){let i=tU(n);e=vi(t,e)||e;let s=[],a;for(;e;)if(a=Wj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=ax(r,c),i=eU(i,r));let u="";return s.forEach(h=>{let g=Zj(h);u+=g?g(i,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Rf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function vi(n,e){let t=YA(n);if(Tf[t]??={},Tf[t][e])return Tf[t][e];let r="";switch(e){case"shortDate":r=Bl(n,En.Short);break;case"mediumDate":r=Bl(n,En.Medium);break;case"longDate":r=Bl(n,En.Long);break;case"fullDate":r=Bl(n,En.Full);break;case"shortTime":r=$l(n,En.Short);break;case"mediumTime":r=$l(n,En.Medium);break;case"longTime":r=$l(n,En.Long);break;case"fullTime":r=$l(n,En.Full);break;case"short":let i=vi(n,"shortTime"),o=vi(n,"shortDate");r=Sf(Hl(n,En.Short),[i,o]);break;case"medium":let s=vi(n,"mediumTime"),a=vi(n,"mediumDate");r=Sf(Hl(n,En.Medium),[s,a]);break;case"long":let c=vi(n,"longTime"),u=vi(n,"longDate");r=Sf(Hl(n,En.Long),[c,u]);break;case"full":let h=vi(n,"fullTime"),g=vi(n,"fullDate");r=Sf(Hl(n,En.Full),[h,g]);break}return r&&(Tf[t][e]=r),r}function Sf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function dr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Gj(n,e){return dr(n,3).substring(0,e)}function Ct(n,e,t=0,r=!1,i=!1){return function(o,s){let a=Jj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Gj(a,e);let c=zl(s,_i.MinusSign);return dr(a,e,c,r,i)}}function Jj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Q(2301,!1)}}function Ge(n,e,t=Yt.Format,r=!1){return function(i,o){return Kj(i,o,n,e,t,r)}}function Kj(n,e,t,r,i,o){switch(t){case 2:return ex(e,i,r)[n.getMonth()];case 1:return XA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=rx(e),h=ix(e,i,r),g=u.findIndex(v=>{if(Array.isArray(v)){let[E,x]=v,F=s>=E.hours&&a>=E.minutes,O=s<x.hours||s===x.hours&&a<x.minutes;if(E.hours<x.hours){if(F&&O)return!0}else if(F||O)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(g!==-1)return h[g]}return ZA(e,i,r)[s<12?0:1];case 3:return tx(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Q(2302,!1)}}function Af(n){return function(e,t,r){let i=-1*r,o=zl(t,_i.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+dr(s,2,o)+dr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+dr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+dr(s,2,o)+":"+dr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+dr(s,2,o)+":"+dr(Math.abs(i%60),2,o);default:throw new Q(2310,!1)}}}var Qj=0,Mf=4;function Yj(n){let e=Rf(n,Qj,1).getDay();return Rf(n,0,1+(e<=Mf?Mf:Mf+7)-e)}function sx(n){let e=n.getDay(),t=e===0?-3:Mf-e;return Rf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function e0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=sx(t),s=Yj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return dr(i,n,zl(r,_i.MinusSign))}}function xf(n,e=!1){return function(t,r){let o=sx(t).getFullYear();return dr(o,n,zl(r,_i.MinusSign),e)}}var t0={};function Zj(n){if(t0[n])return t0[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ge(3,Ue.Abbreviated);break;case"GGGG":e=Ge(3,Ue.Wide);break;case"GGGGG":e=Ge(3,Ue.Narrow);break;case"y":e=Ct(0,1,0,!1,!0);break;case"yy":e=Ct(0,2,0,!0,!0);break;case"yyy":e=Ct(0,3,0,!1,!0);break;case"yyyy":e=Ct(0,4,0,!1,!0);break;case"Y":e=xf(1);break;case"YY":e=xf(2,!0);break;case"YYY":e=xf(3);break;case"YYYY":e=xf(4);break;case"M":case"L":e=Ct(1,1,1);break;case"MM":case"LL":e=Ct(1,2,1);break;case"MMM":e=Ge(2,Ue.Abbreviated);break;case"MMMM":e=Ge(2,Ue.Wide);break;case"MMMMM":e=Ge(2,Ue.Narrow);break;case"LLL":e=Ge(2,Ue.Abbreviated,Yt.Standalone);break;case"LLLL":e=Ge(2,Ue.Wide,Yt.Standalone);break;case"LLLLL":e=Ge(2,Ue.Narrow,Yt.Standalone);break;case"w":e=e0(1);break;case"ww":e=e0(2);break;case"W":e=e0(1,!0);break;case"d":e=Ct(2,1);break;case"dd":e=Ct(2,2);break;case"c":case"cc":e=Ct(7,1);break;case"ccc":e=Ge(1,Ue.Abbreviated,Yt.Standalone);break;case"cccc":e=Ge(1,Ue.Wide,Yt.Standalone);break;case"ccccc":e=Ge(1,Ue.Narrow,Yt.Standalone);break;case"cccccc":e=Ge(1,Ue.Short,Yt.Standalone);break;case"E":case"EE":case"EEE":e=Ge(1,Ue.Abbreviated);break;case"EEEE":e=Ge(1,Ue.Wide);break;case"EEEEE":e=Ge(1,Ue.Narrow);break;case"EEEEEE":e=Ge(1,Ue.Short);break;case"a":case"aa":case"aaa":e=Ge(0,Ue.Abbreviated);break;case"aaaa":e=Ge(0,Ue.Wide);break;case"aaaaa":e=Ge(0,Ue.Narrow);break;case"b":case"bb":case"bbb":e=Ge(0,Ue.Abbreviated,Yt.Standalone,!0);break;case"bbbb":e=Ge(0,Ue.Wide,Yt.Standalone,!0);break;case"bbbbb":e=Ge(0,Ue.Narrow,Yt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(0,Ue.Abbreviated,Yt.Format,!0);break;case"BBBB":e=Ge(0,Ue.Wide,Yt.Format,!0);break;case"BBBBB":e=Ge(0,Ue.Narrow,Yt.Format,!0);break;case"h":e=Ct(3,1,-12);break;case"hh":e=Ct(3,2,-12);break;case"H":e=Ct(3,1);break;case"HH":e=Ct(3,2);break;case"m":e=Ct(4,1);break;case"mm":e=Ct(4,2);break;case"s":e=Ct(5,1);break;case"ss":e=Ct(5,2);break;case"S":e=Ct(6,1);break;case"SS":e=Ct(6,2);break;case"SSS":e=Ct(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Af(0);break;case"ZZZZZ":e=Af(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Af(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Af(2);break;default:return null}return t0[n]=e,e}function ax(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Xj(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function eU(n,e,t){let i=n.getTimezoneOffset(),o=ax(e,i);return Xj(n,-1*(o-i))}function tU(n){if(JA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Rf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(qj))return nU(r)}let e=new Date(n);if(!JA(e))throw new Q(2311,!1);return e}function nU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function JA(n){return n instanceof Date&&!isNaN(n.valueOf())}var n0=/\s+/,KA=[],bi=(()=>{class n{_ngEl;_renderer;initialClasses=KA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(n0):KA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(n0):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(n0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(de(Qt),de(Hn))};static \u0275dir=ot({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var i0=(()=>{class n{_viewContainer;_context=new Pf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){QA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){QA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(de(io),de(as))};static \u0275dir=ot({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Pf=class{$implicit=null;ngIf=null};function QA(n,e){if(n&&!n.createEmbeddedView)throw new Q(2020,!1)}function cx(n,e){return new Q(2100,!1)}var rU=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,ql=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw cx(n,t);return t.replace(rU,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=yf({name:"titlecase",type:n,pure:!0})}return n})();var iU="mediumDate",lx=new Z(""),ux=new Z(""),Wl=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??iU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ox(t,s,o||this.locale,a)}catch(s){throw cx(n,s.message)}}static \u0275fac=function(r){return new(r||n)(de(Ll,16),de(lx,24),de(ux,24))};static \u0275pipe=yf({name:"date",type:n,pure:!0})}return n})();var ut=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=tr({})}return n})();function o0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Gl=class{};var dx="browser";var hx=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>new s0(R(yt),window)})}return n})(),s0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(te(V({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=sU(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Yi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(te(V({},t),{left:i-s[0],top:o-s[1]}))}};function sU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Kl=class{_doc;constructor(e){this._doc=e}manager},Nf=(()=>{class n extends Kl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ue(yt))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),Of=new Z(""),d0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Nf));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Nf);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ue(Of),ue(ke))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),a0="ng-app-id";function fx(n){for(let e of n)e.remove()}function px(n,e){let t=e.createElement("style");return t.textContent=n,t}function aU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${a0}="${e}"],link[${a0}="${e}"]`);if(i)for(let o of i)o.removeAttribute(a0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function l0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var h0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,aU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,px);r?.forEach(i=>this.addUsage(i,this.external,l0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(fx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])fx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,px(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,l0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ue(yt),ue(tf),ue(rf,8),ue(hs))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),c0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},f0=/%COMP%/g;var gx="%COMP%",cU=`_nghost-${gx}`,lU=`_ngcontent-${gx}`,uU=!0,dU=new Z("",{providedIn:"root",factory:()=>uU});function hU(n){return lU.replace(f0,n)}function fU(n){return cU.replace(f0,n)}function yx(n,e){return e.map(t=>t.replace(f0,n))}var p0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Ql(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof kf?i.applyToHost(t):i instanceof Yl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case hi.Emulated:o=new kf(c,u,r,this.appId,h,s,a,g,v);break;case hi.ShadowDom:return new u0(c,u,t,r,s,a,this.nonce,g,v);default:o=new Yl(c,u,r,h,s,a,g,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ue(d0),ue(h0),ue(tf),ue(dU),ue(yt),ue(ke),ue(rf),ue(fs,8))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),Ql=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(c0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=c0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=c0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(t,r,i&Ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Wn().getGlobalEventTarget(this.doc,e),!e))throw new Q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function mx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var u0=class extends Ql{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=yx(i.id,h);for(let v of h){let E=document.createElement("style");a&&E.setAttribute("nonce",a),E.textContent=v,this.shadowRoot.appendChild(E)}let g=i.getExternalStyles?.();if(g)for(let v of g){let E=l0(v,o);a&&E.setAttribute("nonce",a),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yl=class extends Ql{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?yx(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ss.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},kf=class extends Yl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let h=i+"-"+r.id;super(e,t,r,o,s,a,c,u,h),this.contentAttr=hU(h),this.hostAttr=fU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ff=class n extends jl{supportsDOMEvents=!0;static makeCurrent(){Y_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=pU();return t==null?null:mU(t)}resetBaseElement(){Zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return o0(document.cookie,e)}},Zl=null;function pU(){return Zl=Zl||document.head.querySelector("base"),Zl?Zl.getAttribute("href"):null}function mU(n){return new URL(n,document.baseURI).pathname}var gU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),vx=["alt","control","meta","shift"],yU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},_x=(()=>{class n extends Kl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),vx.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=yU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),vx.forEach(s=>{if(s!==i){let a=vU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ue(yt))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function m0(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},_U(e));return $A(r)}function _U(n){return{appProviders:[...CU,...n?.providers??[]],platformProviders:IU}}function bU(){Ff.makeCurrent()}function EU(){return new Xn}function wU(){return u_(document),document}var IU=[{provide:hs,useValue:dx},{provide:nf,useValue:bU,multi:!0},{provide:yt,useFactory:wU}];var CU=[{provide:ll,useValue:"root"},{provide:Xn,useFactory:EU},{provide:Of,useClass:Nf,multi:!0,deps:[yt]},{provide:Of,useClass:_x,multi:!0,deps:[yt]},p0,h0,d0,{provide:cs,useExisting:p0},{provide:Gl,useClass:gU},[]];var bx=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ue(yt))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var me="primary",du=Symbol("RouteTitle"),b0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vs(n){return new b0(n)}function Ax(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function TU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mr(n[t],e[t]))return!1;return!0}function Mr(n,e){let t=n?E0(n):void 0,r=e?E0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xx(n[i],e[i]))return!1;return!0}function E0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Mx(n){return n.length>0?n[n.length-1]:null}function Ei(n){return ly(n)?n:oo(n)?Ke(Promise.resolve(n)):se(n)}var SU={exact:Px,subset:Nx},Rx={exact:AU,subset:xU,ignored:()=>!0};function Ex(n,e,t){return SU[t.paths](n.root,e.root,t.matrixParams)&&Rx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function AU(n,e){return Mr(n,e)}function Px(n,e,t){if(!gs(n.segments,e.segments)||!jf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Px(n.children[r],e.children[r],t))return!1;return!0}function xU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xx(n[t],e[t]))}function Nx(n,e,t){return kx(n,e,e.segments,t)}function kx(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!gs(i,t)||e.hasChildren()||!jf(i,t,r))}else if(n.segments.length===t.length){if(!gs(n.segments,t)||!jf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Nx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!gs(n.segments,i)||!jf(n.segments,i,r)||!n.children[me]?!1:kx(n.children[me],e,o,r)}}function jf(n,e,t){return e.every((r,i)=>Rx[t](n[i].parameters,r.parameters))}var Pr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return PU.serialize(this)}},Oe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}},lo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return Fx(this)}};function MU(n,e){return gs(n,e)&&n.every((t,r)=>Mr(t.parameters,e[r].parameters))}function gs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function RU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(t=t.concat(e(i,r)))}),t}var _s=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>new uo,providedIn:"root"})}return n})(),uo=class{parse(e){let t=new I0(e);return new Pr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Xl(e.root,!0)}`,r=OU(e.queryParams),i=typeof e.fragment=="string"?`#${NU(e.fragment)}`:"";return`${t}${r}${i}`}},PU=new uo;function Uf(n){return n.segments.map(e=>Fx(e)).join("/")}function Xl(n,e){if(!n.hasChildren())return Uf(n);if(e){let t=n.children[me]?Xl(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Xl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=RU(n,(r,i)=>i===me?[Xl(n.children[me],!1)]:[`${i}:${Xl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${Uf(n)}/${t[0]}`:`${Uf(n)}/(${t.join("//")})`}}function Ox(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lf(n){return Ox(n).replace(/%3B/gi,";")}function NU(n){return encodeURI(n)}function w0(n){return Ox(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(n){return decodeURIComponent(n)}function wx(n){return Bf(n.replace(/\+/g,"%20"))}function Fx(n){return`${w0(n.path)}${kU(n.parameters)}`}function kU(n){return Object.entries(n).map(([e,t])=>`;${w0(e)}=${w0(t)}`).join("")}function OU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Lf(t)}=${Lf(i)}`).join("&"):`${Lf(t)}=${Lf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var FU=/^[^\/()?;#]+/;function g0(n){let e=n.match(FU);return e?e[0]:""}var LU=/^[^\/()?;=#]+/;function VU(n){let e=n.match(LU);return e?e[0]:""}var jU=/^[^=?&#]+/;function UU(n){let e=n.match(jU);return e?e[0]:""}var BU=/^[^&#]+/;function $U(n){let e=n.match(BU);return e?e[0]:""}var I0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new Oe(e,t)),r}parseSegment(){let e=g0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new lo(Bf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=VU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=g0(this.remaining);i&&(r=i,this.capture(r))}e[Bf(t)]=Bf(r)}parseQueryParam(e){let t=UU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=$U(this.remaining);s&&(r=s,this.capture(r))}let i=wx(t),o=wx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=g0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();t[o??me]=Object.keys(s).length===1&&s[me]?s[me]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function Lx(n){return n.segments.length>0?new Oe([],{[me]:n}):n}function Vx(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Vx(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Oe(n.segments,e);return HU(t)}function HU(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new Oe(n.segments.concat(e.segments),e.children)}return n}function ho(n){return n instanceof Pr}function jx(n,e,t=null,r=null){let i=Ux(n);return Bx(i,e,t,r)}function Ux(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Oe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Lx(r);return e??i}function Bx(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return y0(i,i,i,t,r);let o=zU(e);if(o.toRoot())return y0(i,i,new Oe([],{}),t,r);let s=qU(o,i,n),a=s.processChildren?tu(s.segmentGroup,s.index,o.commands):Hx(s.segmentGroup,s.index,o.commands);return y0(i,s.segmentGroup,a,t,r)}function $f(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ru(n){return typeof n=="object"&&n!=null&&n.outlets}function y0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=$x(n,e,t);let a=Lx(Vx(s));return new Pr(a,o,i)}function $x(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=$x(o,e,t)}),new Oe(n.segments,r)}var Hf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$f(r[0]))throw new Q(4003,!1);let i=r.find(ru);if(i&&i!==Mx(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Hf(t,e,r)}var Oa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function qU(n,e,t){if(n.isAbsolute)return new Oa(e,!0,0);if(!t)return new Oa(e,!1,NaN);if(t.parent===null)return new Oa(t,!0,0);let r=$f(n.commands[0])?0:1,i=t.segments.length-1+r;return WU(t,i,n.numberOfDoubleDots)}function WU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Oa(r,!1,i-o)}function GU(n){return ru(n[0])?n[0].outlets:{[me]:n}}function Hx(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return tu(n,e,t);let r=JU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new Oe(n.segments.slice(r.pathIndex),n.children),tu(o,0,i)}else return r.match&&i.length===0?new Oe(n.segments,{}):r.match&&!n.hasChildren()?C0(n,e,t):r.match?tu(n,0,i):C0(n,e,t)}function tu(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let r=GU(t),i={};if(Object.keys(r).some(o=>o!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let o=tu(n.children[me],e,t);return new Oe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Hx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(n.segments,i)}}function JU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ru(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Cx(c,u,s))return o;r+=2}else{if(!Cx(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function C0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ru(o)){let c=KU(o.outlets);return new Oe(r,c)}if(i===0&&$f(t[0])){let c=n.segments[e];r.push(new lo(c.path,Ix(t[0]))),i++;continue}let s=ru(o)?o.outlets[me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$f(a)?(r.push(new lo(s,Ix(a))),i+=2):(r.push(new lo(s,{})),i++)}return new Oe(r,{})}function KU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=C0(new Oe([],{}),0,r))}),e}function Ix(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Cx(n,e,t){return n==t.path&&Mr(e,t.parameters)}var Fa="imperative",Rt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Rt||{}),Nn=class{id;url;constructor(e,t){this.id=e,this.url=t}},fo=class extends Nn{type=Rt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends Nn{urlAfterRedirects;type=Rt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(un||{}),Va=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Va||{}),Rr=class extends Nn{reason;code;type=Rt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nr=class extends Nn{reason;code;type=Rt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ja=class extends Nn{error;target;type=Rt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},iu=class extends Nn{urlAfterRedirects;state;type=Rt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class extends Nn{urlAfterRedirects;state;type=Rt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends Nn{urlAfterRedirects;state;shouldActivate;type=Rt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wf=class extends Nn{urlAfterRedirects;state;type=Rt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gf=class extends Nn{urlAfterRedirects;state;type=Rt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class{route;type=Rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kf=class{route;type=Rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qf=class{snapshot;type=Rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{snapshot;type=Rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zf=class{snapshot;type=Rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xf=class{snapshot;type=Rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ua=class{routerEvent;position;anchor;type=Rt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ou=class{},Ba=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function QU(n){return!(n instanceof ou)&&!(n instanceof Ba)}function YU(n,e){return n.providers&&!n._injector&&(n._injector=Ra(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hr(n){return n.outlet||me}function ZU(n,e){let t=n.filter(r=>hr(r)===e);return t.push(...n.filter(r=>hr(r)!==e)),t}function za(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ep=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return za(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new bs(this.rootInjector)}},bs=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ep(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ue(mt))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=D0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=D0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=T0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return T0(e,this._root).map(t=>t.value)}};function D0(n,e){if(n===e.value)return e;for(let t of e.children){let r=D0(n,t);if(r)return r}return null}function T0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=T0(n,t);if(r.length)return r.unshift(e),r}return[]}var Pn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ka(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var su=class extends tp{snapshot;constructor(e,t){super(e),this.snapshot=t,k0(this,e)}toString(){return this.snapshot.toString()}};function zx(n){let e=XU(n),t=new Ut([new lo("",{})]),r=new Ut({}),i=new Ut({}),o=new Ut({}),s=new Ut(""),a=new kr(t,r,o,s,i,me,n,e.root);return a.snapshot=e.root,new su(new Pn(a,[]),e)}function XU(n){let e={},t={},r={},o=new ys([],e,r,"",t,me,n,null,{});return new au("",new Pn(o,[]))}var kr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(u=>u[du]))??se(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xe(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xe(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function np(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&Wx(i)&&(r.resolve[du]=i.title),r}var ys=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[du]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},au=class extends tp{url;constructor(e,t){super(t),this.url=e,k0(this,t)}toString(){return qx(this._root)}};function k0(n,e){e.value._routerState=n,e.children.forEach(t=>k0(n,t))}function qx(n){let e=n.children.length>0?` { ${n.children.map(qx).join(", ")} } `:"";return`${n.value}${e}`}function v0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Mr(e.params,t.params)||n.paramsSubject.next(t.params),TU(e.url,t.url)||n.urlSubject.next(t.url),Mr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function S0(n,e){let t=Mr(n.params,e.params)&&MU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||S0(n.parent,e.parent))}function Wx(n){return typeof n.title=="string"||n.title===null}var Gx=new Z(""),hu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=BA();parentContexts=R(bs);location=R(io);changeDetector=R(yi);inputBinder=R(fu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new A0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fi]})}return n})(),A0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===kr?this.route:e===bs?this.childContexts:e===Gx?this.outletData:this.parent.get(e,t)}},fu=new Z(""),O0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=tl([r.queryParams,r.params,r.data]).pipe(an(([o,s,a],c)=>(a=V(V(V({},o),s),a),c===0?se(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=HA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),F0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Qe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[hu],encapsulation:2})}return n})();function L0(n){let e=n.children&&n.children.map(L0),t=e?te(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=F0),t}function e3(n,e,t){let r=cu(n,e._root,t?t._root:void 0);return new su(r,e)}function cu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=t3(n,e,t);return new Pn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>cu(n,a)),s}}let r=n3(e.value),i=e.children.map(o=>cu(n,o));return new Pn(r,i)}}function t3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return cu(n,r,i);return cu(n,r)})}function n3(n){return new kr(new Ut(n.url),new Ut(n.params),new Ut(n.queryParams),new Ut(n.fragment),new Ut(n.data),n.outlet,n.component,n)}var $a=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Jx="ngNavigationCancelingError";function rp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Kx(!1,un.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Kx(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Jx]=!0,t.cancellationCode=e,t}function r3(n){return Qx(n)&&ho(n.url)}function Qx(n){return!!n&&n[Jx]}var i3=(n,e,t,r)=>xe(i=>(new x0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),x0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),v0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ka(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ka(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(v0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),v0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ip=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},La=class{component;route;constructor(e,t){this.component=e,this.route=t}};function o3(n,e,t){let r=n._root,i=e?e._root:null;return eu(r,i,t,[r.value])}function s3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function qa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!xy(n)?n:e.get(n):r}function eu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ka(e);return n.children.forEach(s=>{a3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nu(a,t.getContext(s),i)),i}function a3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=c3(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ip(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?eu(n,e,a?a.children:null,r,i):eu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new La(a.outlet.component,s))}else s&&nu(e,a,i),i.canActivateChecks.push(new ip(r)),o.component?eu(n,null,a?a.children:null,r,i):eu(n,null,t,r,i);return i}function c3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!gs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!gs(n.url,e.url)||!Mr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S0(n,e)||!Mr(n.queryParams,e.queryParams);case"paramsChange":default:return!S0(n,e)}}function nu(n,e,t){let r=ka(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?nu(s,e.children.getContext(o),t):nu(s,null,t):nu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new La(e.outlet.component,i)):t.canDeactivateChecks.push(new La(null,i)):t.canDeactivateChecks.push(new La(null,i))}function pu(n){return typeof n=="function"}function l3(n){return typeof n=="boolean"}function u3(n){return n&&pu(n.canLoad)}function d3(n){return n&&pu(n.canActivate)}function h3(n){return n&&pu(n.canActivateChild)}function f3(n){return n&&pu(n.canDeactivate)}function p3(n){return n&&pu(n.canMatch)}function Yx(n){return n instanceof ei||n?.name==="EmptyError"}var Vf=Symbol("INITIAL_VALUE");function Ha(){return an(n=>tl(n.map(e=>e.pipe(ni(1),fy(Vf)))).pipe(xe(e=>{for(let t of e)if(t!==!0){if(t===Vf)return Vf;if(t===!1||m3(t))return t}return!0}),yn(e=>e!==Vf),ni(1)))}function m3(n){return ho(n)||n instanceof $a}function g3(n,e){return pt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?se(te(V({},t),{guardsResult:!0})):y3(s,r,i,n).pipe(pt(a=>a&&l3(a)?v3(r,o,n,e):se(a)),xe(a=>te(V({},t),{guardsResult:a})))})}function y3(n,e,t,r){return Ke(n).pipe(pt(i=>I3(i.component,i.route,t,e,r)),ri(i=>i!==!0,!0))}function v3(n,e,t,r){return Ke(e).pipe(Wi(i=>pa(b3(i.route.parent,r),_3(i.route,r),w3(n,i.path,t),E3(n,i.route,t))),ri(i=>i!==!0,!0))}function _3(n,e){return n!==null&&e&&e(new Zf(n)),se(!0)}function b3(n,e){return n!==null&&e&&e(new Qf(n)),se(!0)}function E3(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>nl(()=>{let s=za(e)??t,a=qa(o,s),c=d3(a)?a.canActivate(e,n):Et(s,()=>a(e,n));return Ei(c).pipe(ri())}));return se(i).pipe(Ha())}function w3(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>s3(s)).filter(s=>s!==null).map(s=>nl(()=>{let a=s.guards.map(c=>{let u=za(s.node)??t,h=qa(c,u),g=h3(h)?h.canActivateChild(r,n):Et(u,()=>h(r,n));return Ei(g).pipe(ri())});return se(a).pipe(Ha())}));return se(o).pipe(Ha())}function I3(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let c=za(e)??i,u=qa(a,c),h=f3(u)?u.canDeactivate(n,e,t,r):Et(c,()=>u(n,e,t,r));return Ei(h).pipe(ri())});return se(s).pipe(Ha())}function C3(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=qa(s,n),c=u3(a)?a.canLoad(e,t):Et(n,()=>a(e,t));return Ei(c)});return se(o).pipe(Ha(),Zx(r))}function Zx(n){return ty(Pt(e=>{if(typeof e!="boolean")throw rp(n,e)}),xe(e=>e===!0))}function D3(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=qa(s,n),c=p3(a)?a.canMatch(e,t):Et(n,()=>a(e,t));return Ei(c)});return se(o).pipe(Ha(),Zx(r))}var lu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},uu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Na(n){return fa(new lu(n))}function T3(n){return fa(new Q(4e3,!1))}function S3(n){return fa(Kx(!1,un.GuardRejected))}var M0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[me])return T3(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,t,r,i,o){return A3(t,i,o).pipe(xe(s=>{if(s instanceof Pr)throw new uu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new uu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Oe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function A3(n,e,t){if(typeof n=="string")return se(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:h,title:g}=e;return Ei(Et(t,()=>r({params:u,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:g})))}var R0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x3(n,e,t,r,i){let o=Xx(n,e,t);return o.matched?(r=YU(e,r),D3(r,e,t,i).pipe(xe(s=>s===!0?o:V({},R0)))):se(o)}function Xx(n,e,t){if(e.path==="**")return M3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},R0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ax)(t,n,e);if(!i)return V({},R0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function M3(n){return{matched:!0,parameters:n.length>0?Mx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Dx(n,e,t,r){return t.length>0&&N3(n,t,r)?{segmentGroup:new Oe(e,P3(r,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&k3(n,t,r)?{segmentGroup:new Oe(n.segments,R3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function R3(n,e,t,r){let i={};for(let o of t)if(sp(n,e,o)&&!r[hr(o)]){let s=new Oe([],{});i[hr(o)]=s}return V(V({},r),i)}function P3(n,e){let t={};t[me]=e;for(let r of n)if(r.path===""&&hr(r)!==me){let i=new Oe([],{});t[hr(r)]=i}return t}function N3(n,e,t){return t.some(r=>sp(n,e,r)&&hr(r)!==me)}function k3(n,e,t){return t.some(r=>sp(n,e,r))}function sp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function O3(n,e,t){return e.length===0&&!n.children[t]}var P0=class{};function F3(n,e,t,r,i,o,s="emptyOnly"){return new N0(n,e,t,r,i,s,o).recognize()}var L3=31,N0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new M0(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=Dx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xe(({children:t,rootSnapshot:r})=>{let i=new Pn(r,t),o=new au("",i),s=jx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ys([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(xe(r=>({children:r,rootSnapshot:t})),ti(r=>{if(r instanceof uu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof lu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(xe(s=>s instanceof Pn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ke(o).pipe(Wi(s=>{let a=r.children[s],c=ZU(t,s);return this.processSegmentGroup(e,c,a,s,i)}),hy((s,a)=>(s.push(...a),s)),Gi(null),dy(),pt(s=>{if(s===null)return Na(r);let a=e1(s);return V3(a),se(a)}))}processSegment(e,t,r,i,o,s,a){return Ke(t).pipe(Wi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ti(u=>{if(u instanceof lu)return se(null);throw u}))),ri(c=>!!c),ti(c=>{if(Yx(c))return O3(r,i,o)?se(new P0):Na(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return hr(r)!==s&&(s===me||!sp(i,o,r))?Na(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Na(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:g,remainingSegments:v}=Xx(t,i,o);if(!c)return Na(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>L3&&(this.allowRedirects=!1));let E=new ys(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Tx(i),hr(i),i.component??i._loadedComponent??null,i,Sx(i)),x=np(E,a,this.paramsInheritanceStrategy);return E.params=Object.freeze(x.params),E.data=Object.freeze(x.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,g,E,e).pipe(an(O=>this.applyRedirects.lineralizeSegments(i,O)),pt(O=>this.processSegment(e,r,t,O.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=x3(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(an(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(an(({routes:u})=>{let h=r._loadedInjector??e,{parameters:g,consumedSegments:v,remainingSegments:E}=c,x=new ys(v,g,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Tx(r),hr(r),r.component??r._loadedComponent??null,r,Sx(r)),F=np(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(F.params),x.data=Object.freeze(F.data);let{segmentGroup:O,slicedSegments:q}=Dx(t,v,E,u);if(q.length===0&&O.hasChildren())return this.processChildren(h,u,O,x).pipe(xe(he=>new Pn(x,he)));if(u.length===0&&q.length===0)return se(new Pn(x,[]));let oe=hr(r)===o;return this.processSegment(h,u,O,q,oe?me:o,!0,x).pipe(xe(he=>new Pn(x,he instanceof Pn?[he]:[])))}))):Na(t)))}getChildConfig(e,t,r){return t.children?se({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?se({routes:t._loadedRoutes,injector:t._loadedInjector}):C3(e,t,r,this.urlSerializer).pipe(pt(i=>i?this.configLoader.loadChildren(e,t).pipe(Pt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):S3(t))):se({routes:[],injector:e})}};function V3(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function j3(n){let e=n.value.routeConfig;return e&&e.path===""}function e1(n){let e=[],t=new Set;for(let r of n){if(!j3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=e1(r.children);e.push(new Pn(r.value,i))}return e.filter(r=>!t.has(r))}function Tx(n){return n.data||{}}function Sx(n){return n.resolve||{}}function U3(n,e,t,r,i,o){return pt(s=>F3(n,e,t,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:c})=>te(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function B3(n,e){return pt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of t1(c))s.add(u);let a=0;return Ke(s).pipe(Wi(c=>o.has(c)?$3(c,r,n,e):(c.data=np(c,c.parent,n).resolve,se(void 0))),Pt(()=>a++),ma(1),pt(c=>a===s.size?se(t):mn))})}function t1(n){let e=n.children.map(t=>t1(t)).flat();return[n,...e]}function $3(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Wx(i)&&(o[du]=i.title),nl(()=>(n.data=np(n,n.parent,t).resolve,H3(o,n,e,r).pipe(xe(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function H3(n,e,t,r){let i=E0(n);if(i.length===0)return se({});let o={};return Ke(i).pipe(pt(s=>z3(n[s],e,t,r).pipe(ri(),Pt(a=>{if(a instanceof $a)throw rp(new uo,a);o[s]=a}))),ma(1),xe(()=>o),ti(s=>Yx(s)?mn:fa(s)))}function z3(n,e,t,r){let i=za(e)??r,o=qa(n,i),s=o.resolve?o.resolve(e,t):Et(i,()=>o(e,t));return Ei(s)}function _0(n){return an(e=>{let t=n(e);return t?Ke(t).pipe(xe(()=>e)):se(e)})}var V0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[du]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>R(n1),providedIn:"root"})}return n})(),n1=(()=>{class n extends V0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ue(bx))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),po=new Z("",{providedIn:"root",factory:()=>({})}),Es=new Z(""),ap=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(q_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ei(Et(t,()=>r.loadComponent())).pipe(xe(i1),an(o1),Pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),rl(()=>{this.componentLoaders.delete(r)})),o=new la(i,()=>new ft).pipe(ca());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=r1(r,this.compiler,t,this.onLoadEndListener).pipe(rl(()=>{this.childrenLoaders.delete(r)})),s=new la(o,()=>new ft).pipe(ca());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function r1(n,e,t,r){return Ei(Et(t,()=>n.loadChildren())).pipe(xe(i1),an(o1),pt(i=>i instanceof gf||Array.isArray(i)?se(i):Ke(e.compileModuleAsync(i))),xe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Es,[],{optional:!0,self:!0}).flat()),{routes:s.map(L0),injector:o}}))}function q3(n){return n&&typeof n=="object"&&"default"in n}function i1(n){return q3(n)?n.default:n}function o1(n){return se(n)}var cp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>R(W3),providedIn:"root"})}return n})(),W3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j0=new Z(""),U0=new Z("");function s1(n,e,t){let r=n.get(U0),i=n.get(yt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),G3(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&Et(n,()=>c({transition:a,from:e,to:t})),s}function G3(n){return new Promise(e=>{Rl({read:()=>setTimeout(e)},{injector:n})})}var B0=new Z(""),lp=(()=>{class n{currentNavigation=ee(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ft;transitionAbortWithErrorSubject=new ft;configLoader=R(ap);environmentInjector=R(mt);destroyRef=R($n);urlSerializer=R(_s);rootContexts=R(bs);location=R(co);inputBindingEnabled=R(fu,{optional:!0})!==null;titleStrategy=R(V0);options=R(po,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(cp);createViewTransition=R(j0,{optional:!0});navigationErrorHandler=R(B0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>se(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Jf(i)),r=i=>this.events.next(new Kf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Nt(()=>{this.transitions?.next(te(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ut(null),this.transitions.pipe(yn(r=>r!==null),an(r=>{let i=!1;return se(r).pipe(an(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",un.SupersededByNewNavigation),mn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?te(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Nr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Va.IgnoredSameUrlNavigation)),o.resolve(!1),mn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return se(o).pipe(an(c=>(this.events.next(new fo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?mn:Promise.resolve(c))),U3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Pt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=c.urlAfterRedirects,h));let u=new iu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:h,restoredState:g,extras:v}=o,E=new fo(c,this.urlSerializer.serialize(u),h,g);this.events.next(E);let x=zx(this.rootComponentType).snapshot;return this.currentTransition=r=te(V({},o),{targetSnapshot:x,urlAfterRedirects:u,extras:te(V({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(F=>(F.finalUrl=u,F)),se(r)}else return this.events.next(new Nr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Va.IgnoredByUrlHandlingStrategy)),o.resolve(!1),mn}),Pt(o=>{let s=new zf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),xe(o=>(this.currentTransition=r=te(V({},o),{guards:o3(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),g3(this.environmentInjector,o=>this.events.next(o)),Pt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw rp(this.urlSerializer,o.guardsResult);let s=new qf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),yn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",un.GuardRejected),!1)),_0(o=>{if(o.guards.canActivateChecks.length!==0)return se(o).pipe(Pt(s=>{let a=new Wf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),an(s=>{let a=!1;return se(s).pipe(B3(this.paramsInheritanceStrategy,this.environmentInjector),Pt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",un.NoDataFromResolver)}}))}),Pt(s=>{let a=new Gf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),_0(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=za(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Pt(h=>{a.component=h}),xe(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return tl(s(o.targetSnapshot.root)).pipe(Gi(null),ni(1))}),_0(()=>this.afterPreactivation()),an(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ke(a).pipe(xe(()=>r)):se(r)}),xe(o=>{let s=e3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=te(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Pt(()=>{this.events.next(new ou)}),i3(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ni(1),ah(new Ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(yn(()=>!i&&!r.targetRouterState),Pt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",un.Aborted)}))),Pt({next:o=>{i=!0,this.lastSuccessfulNavigation=Nt(this.currentNavigation),this.events.next(new kn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ah(this.transitionAbortWithErrorSubject.pipe(Pt(o=>{throw o}))),rl(()=>{i||this.cancelNavigationTransition(r,"",un.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ti(o=>{if(this.destroyed)return r.resolve(!1),mn;if(i=!0,Qx(o))this.events.next(new Rr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),r3(o)?this.events.next(new Ba(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ja(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof $a){let{message:c,cancellationCode:u}=rp(this.urlSerializer,a);this.events.next(new Rr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Ba(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return mn}))}))}cancelNavigationTransition(t,r,i){let o=new Rr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Nt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J3(n){return n!==Fa}var a1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>R(K3),providedIn:"root"})}return n})(),op=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},K3=(()=>{class n extends op{static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c1=(()=>{class n{urlSerializer=R(_s);options=R(po,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(co);urlHandlingStrategy=R(cp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Pr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=zx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>R(Q3),providedIn:"root"})}return n})(),Q3=(()=>{class n extends c1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof fo?this.updateStateMemento():t instanceof Nr?this.commitTransition(r):t instanceof iu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ou?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Rr&&t.code!==un.SupersededByNewNavigation&&t.code!==un.Redirect?this.restoreHistory(r):t instanceof ja?this.restoreHistory(r,!0):t instanceof kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function up(n,e){n.events.pipe(yn(t=>t instanceof kn||t instanceof Rr||t instanceof ja||t instanceof Nr),xe(t=>t instanceof kn||t instanceof Nr?0:(t instanceof Rr?t.code===un.Redirect||t.code===un.SupersededByNewNavigation:!1)?2:1),yn(t=>t!==2),ni(1)).subscribe(()=>{e()})}var Y3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ze=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(O_);stateManager=R(c1);options=R(po,{optional:!0})||{};pendingTasks=R(Tr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(lp);urlSerializer=R(_s);location=R(co);urlHandlingStrategy=R(cp);injector=R(mt);_events=new ft;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(a1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(Es,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(fu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new at;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Nt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rr&&r.code!==un.Redirect&&r.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kn)this.navigated=!0;else if(r instanceof Ba){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||J3(i.source)},s);this.scheduleNavigation(a,Fa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}QU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=V({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(ln)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(L0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=Ux(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return Bx(g,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ho(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fa,null,r)}navigate(t,r={skipLocationChange:!1}){return X3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Yi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},Y3):r===!1?i=V({},Z3):i=r,ho(t))return Ex(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Ex(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((g,v)=>{a=g,c=v});let h=this.pendingTasks.add();return up(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Q(4008,!1)}var Or=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ee(null);get href(){return Nt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ft;applicationErrorHandler=R(ln);options=R(po,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(R(new wf("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof kn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ho(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ho(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(de(Ze),de(kr),xl("tabindex"),de(Hn),de(Qt),de(ur))};static \u0275dir=ot({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&B("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&kl("href",i.reactiveHref(),p_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ms],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ms],replaceUrl:[2,"replaceUrl","replaceUrl",ms],routerLink:"routerLink"},features:[fi]})}return n})(),H0=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new vt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof kn&&this.update()})}ngAfterContentInit(){se(this.links.changes,se(null)).pipe(qi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ke(t).pipe(qi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=eB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(de(Ze),de(Qt),de(Hn),de(yi),de(Or,8))};static \u0275dir=ot({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&B_(o,Or,5),r&2){let s;$_(s=H_())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[fi]})}return n})();function eB(n){return!!n.paths}var mu=class{};var l1=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(yn(t=>t instanceof kn),Wi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ra(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ke(i).pipe(qi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=se(null);let o=i.pipe(pt(s=>s===null?se(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Ke([o,s]).pipe(qi())}else return o})}static \u0275fac=function(r){return new(r||n)(ue(Ze),ue(mt),ue(mu),ue(ap))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u1=new Z(""),tB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Fa;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Nr&&t.code===Va.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Ua))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ua(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){P_()};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function z0(n,...e){return vn([{provide:Es,multi:!0,useValue:n},[],{provide:kr,useFactory:d1,deps:[Ze]},{provide:Nl,multi:!0,useFactory:h1},e.map(t=>t.\u0275providers)])}function d1(n){return n.routerState.root}function gu(n,e){return{\u0275kind:n,\u0275providers:e}}function h1(){let n=R(ct);return e=>{let t=n.get(mi);if(e!==t.components[0])return;let r=n.get(Ze),i=n.get(f1);n.get(q0)===1&&r.initialNavigation(),n.get(g1,null,{optional:!0})?.setUpPreloading(),n.get(u1,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var f1=new Z("",{factory:()=>new ft}),q0=new Z("",{providedIn:"root",factory:()=>1});function p1(){let n=[{provide:d_,useValue:!0},{provide:q0,useValue:0},_f(()=>{let e=R(ct);return e.get(Z_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ze),o=e.get(f1);up(i,()=>{r(!0)}),e.get(lp).afterPreactivation=()=>(r(!0),o.closed?se(void 0):o),i.initialNavigation()}))})];return gu(2,n)}function m1(){let n=[_f(()=>{R(Ze).setUpLocationChangeListener()}),{provide:q0,useValue:2}];return gu(3,n)}var g1=new Z("");function y1(n){return gu(0,[{provide:g1,useExisting:l1},{provide:mu,useExisting:n}])}function v1(){return gu(8,[O0,{provide:fu,useExisting:O0}])}function _1(n){ar("NgRouterViewTransitions");let e=[{provide:j0,useValue:s1},{provide:U0,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return gu(9,e)}var b1=[co,{provide:_s,useClass:uo},Ze,bs,{provide:kr,useFactory:d1,deps:[Ze]},ap,[]],wi=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[b1,[],{provide:Es,multi:!0,useValue:t},[],r?.errorHandler?{provide:B0,useValue:r.errorHandler}:[],{provide:po,useValue:r||{}},r?.useHash?rB():iB(),nB(),r?.preloadingStrategy?y1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?oB(r):[],r?.bindToComponentInputs?v1().\u0275providers:[],r?.enableViewTransitions?_1().\u0275providers:[],sB()]}}static forChild(t){return{ngModule:n,providers:[{provide:Es,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=tr({})}return n})();function nB(){return{provide:u1,useFactory:()=>{let n=R(hx),e=R(ke),t=R(po),r=R(lp),i=R(_s);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tB(i,r,n,e,t)}}}function rB(){return{provide:ur,useClass:r0}}function iB(){return{provide:ur,useClass:Df}}function oB(n){return[n.initialNavigation==="disabled"?m1().\u0275providers:[],n.initialNavigation==="enabledBlocking"?p1().\u0275providers:[]]}var $0=new Z("");function sB(){return[{provide:$0,useFactory:h1},{provide:Nl,multi:!0,useExisting:$0}]}var E1=()=>{};var C1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,h=o>>2,g=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,E=u&63;c||(E=64,s||(v=64)),r.push(t[h],t[g],t[v],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||g==null)throw new J0;let v=o<<2|a>>4;if(r.push(v),u!==64){let E=a<<4&240|u>>2;if(r.push(E),g!==64){let x=u<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},J0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cB=function(n){let e=C1(n);return dp.encodeByteArray(e,!0)},vu=function(n){return cB(n).replace(/\./g,"")},hp=function(n){try{return dp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Q0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lB=()=>Q0().__FIREBASE_DEFAULTS__,uB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&hp(n[1]);return e&&JSON.parse(e)},fp=()=>{try{return E1()||lB()||uB()||dB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Y0=n=>{var e,t;return(t=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},D1=n=>{let e=Y0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Z0=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config},X0=n=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${n}`]};var ws=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function mo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function pp(n){return b(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function T1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vu(JSON.stringify(t)),vu(JSON.stringify(s)),""].join(".")}var yu={};function hB(){let n={prod:[],emulator:[]};for(let e of Object.keys(yu))yu[e]?n.emulator.push(e):n.prod.push(e);return n}function fB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var w1=!1;function mp(n,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||yu[n]===e||yu[n]||w1)return;yu[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=hB().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{w1=!0,s()},v}function h(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){let v=fB(r),E=t("text"),x=document.getElementById(E)||document.createElement("span"),F=t("learnmore"),O=document.getElementById(F)||document.createElement("a"),q=t("preprendIcon"),oe=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let he=v.element;a(he),h(O,F);let $e=u();c(oe,q),he.append(oe,x,O,$e),document.body.appendChild(he)}o?(x.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function pB(){var n;let e=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R1(){let n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P1(){return!pB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _u(){try{return typeof indexedDB=="object"}catch{return!1}}function N1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var mB="FirebaseError",On=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fr.prototype.create)}},fr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new On(i,a,r)}};function gB(n,e){return n.replace(yB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yB=/\{\$([^}]+)}/g;function k1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(I1(o)&&I1(s)){if(!Jn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function I1(n){return n!==null&&typeof n=="object"}function bu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ga(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function O1(n,e){let t=new K0(n,e);return t.subscribe.bind(t)}var K0=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=G0),i.error===void 0&&(i.error=G0),i.complete===void 0&&(i.complete=G0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function G0(){}var Tae=14400*1e3;function Xe(n){return n&&n._delegate?n._delegate:n}var dn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Is="[DEFAULT]";var eb=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ws;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bB(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_B(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _B(n){return n===Is?void 0:n}function bB(n){return n.instantiationMode==="EAGER"}var gp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new eb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var EB=[],Se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Se||{}),wB={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},IB=Se.INFO,CB={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},DB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=CB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fr=class{constructor(e){this.name=e,this._logLevel=IB,this._logHandler=DB,this._userLogHandler=null,EB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var TB=(n,e)=>e.some(t=>n instanceof t),F1,L1;function SB(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AB(){return L1||(L1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var V1=new WeakMap,nb=new WeakMap,j1=new WeakMap,tb=new WeakMap,ib=new WeakMap;function xB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Lr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&V1.set(t,n)}).catch(()=>{}),ib.set(e,n),e}function MB(n){if(nb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});nb.set(n,e)}var rb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||j1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function U1(n){rb=n(rb)}function RB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(yp(this),e,...t);return j1.set(r,e.sort?e.sort():[e]),Lr(r)}:AB().includes(n)?function(...e){return n.apply(yp(this),e),Lr(V1.get(this))}:function(...e){return Lr(n.apply(yp(this),e))}}function PB(n){return typeof n=="function"?RB(n):(n instanceof IDBTransaction&&MB(n),TB(n,SB())?new Proxy(n,rb):n)}function Lr(n){if(n instanceof IDBRequest)return xB(n);if(tb.has(n))return tb.get(n);let e=PB(n);return e!==n&&(tb.set(n,e),ib.set(e,n)),e}var yp=n=>ib.get(n);function $1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Lr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Lr(s.result),c.oldVersion,c.newVersion,Lr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var NB=["get","getKey","getAll","getAllKeys","count"],kB=["put","add","delete","clear"],ob=new Map;function B1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ob.get(e))return ob.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=kB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NB.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return ob.set(e,o),o}U1(n=>te(V({},n),{get:(e,t,r)=>B1(e,t)||n.get(e,t,r),has:(e,t)=>!!B1(e,t)||n.has(e,t)}));var ab=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function OB(n){let e=n.getComponent();return e?.type==="VERSION"}var cb="@firebase/app",H1="0.13.2";var Ii=new Fr("@firebase/app"),FB="@firebase/app-compat",LB="@firebase/analytics-compat",VB="@firebase/analytics",jB="@firebase/app-check-compat",UB="@firebase/app-check",BB="@firebase/auth",$B="@firebase/auth-compat",HB="@firebase/database",zB="@firebase/data-connect",qB="@firebase/database-compat",WB="@firebase/functions",GB="@firebase/functions-compat",JB="@firebase/installations",KB="@firebase/installations-compat",QB="@firebase/messaging",YB="@firebase/messaging-compat",ZB="@firebase/performance",XB="@firebase/performance-compat",e4="@firebase/remote-config",t4="@firebase/remote-config-compat",n4="@firebase/storage",r4="@firebase/storage-compat",i4="@firebase/firestore",o4="@firebase/ai",s4="@firebase/firestore-compat",a4="firebase",c4="11.10.0";var lb="[DEFAULT]",l4={[cb]:"fire-core",[FB]:"fire-core-compat",[VB]:"fire-analytics",[LB]:"fire-analytics-compat",[UB]:"fire-app-check",[jB]:"fire-app-check-compat",[BB]:"fire-auth",[$B]:"fire-auth-compat",[HB]:"fire-rtdb",[zB]:"fire-data-connect",[qB]:"fire-rtdb-compat",[WB]:"fire-fn",[GB]:"fire-fn-compat",[JB]:"fire-iid",[KB]:"fire-iid-compat",[QB]:"fire-fcm",[YB]:"fire-fcm-compat",[ZB]:"fire-perf",[XB]:"fire-perf-compat",[e4]:"fire-rc",[t4]:"fire-rc-compat",[n4]:"fire-gcs",[r4]:"fire-gcs-compat",[i4]:"fire-fst",[s4]:"fire-fst-compat",[o4]:"fire-vertex","fire-js":"fire-js",[a4]:"fire-js-all"};var Eu=new Map,u4=new Map,ub=new Map;function z1(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pr(n){let e=n.name;if(ub.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;ub.set(e,n);for(let t of Eu.values())z1(t,n);for(let t of u4.values())z1(t,n);return!0}function Ja(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hn(n){return n==null?!1:n.settings!==void 0}var d4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new fr("app","Firebase",d4);var db=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}};var yo=c4;function pb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:lb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw go.create("bad-app-name",{appName:String(i)});if(t||(t=Z0()),!t)throw go.create("no-options");let o=Eu.get(i);if(o){if(Jn(t,o.options)&&Jn(r,o.config))return o;throw go.create("duplicate-app",{appName:i})}let s=new gp(i);for(let c of ub.values())s.addComponent(c);let a=new db(t,r,s);return Eu.set(i,a),a}function Cs(n=lb){let e=Eu.get(n);if(!e&&n===lb&&Z0())return pb();if(!e)throw go.create("no-app",{appName:n});return e}function vp(){return Array.from(Eu.values())}function dt(n,e,t){var r;let i=(r=l4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}pr(new dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var h4="firebase-heartbeat-database",f4=1,wu="firebase-heartbeat-store",sb=null;function J1(){return sb||(sb=$1(h4,f4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wu)}catch(t){console.warn(t)}}}}).catch(n=>{throw go.create("idb-open",{originalErrorMessage:n.message})})),sb}function p4(n){return b(this,null,function*(){try{let t=(yield J1()).transaction(wu),r=yield t.objectStore(wu).get(K1(n));return yield t.done,r}catch(e){if(e instanceof On)Ii.warn(e.message);else{let t=go.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(t.message)}}})}function q1(n,e){return b(this,null,function*(){try{let r=(yield J1()).transaction(wu,"readwrite");yield r.objectStore(wu).put(e,K1(n)),yield r.done}catch(t){if(t instanceof On)Ii.warn(t.message);else{let r=go.create("idb-set",{originalErrorMessage:t?.message});Ii.warn(r.message)}}})}function K1(n){return`${n.name}!${n.options.appId}`}var m4=1024,g4=30,hb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new fb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=W1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>g4){let s=v4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ii.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=W1(),{heartbeatsToSend:r,unsentEntries:i}=y4(this._heartbeatsCache.heartbeats),o=vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ii.warn(t),""}})}};function W1(){return new Date().toISOString().substring(0,10)}function y4(n,e=m4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),G1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),G1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var fb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return _u()?N1().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield p4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return q1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return q1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function G1(n){return vu(JSON.stringify({version:2,heartbeats:n})).length}function v4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function _4(n){pr(new dn("platform-logger",e=>new ab(e),"PRIVATE")),pr(new dn("heartbeat",e=>new hb(e),"PRIVATE")),dt(cb,H1,n),dt(cb,H1,"esm2017"),dt("fire-js","")}_4("");var b4="firebase",E4="11.10.0";dt(b4,E4,"app");function Q1(n){n===void 0&&(n=R(ct));let e=n.get(Ca);return t=>new Ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var vo=new Ji("ANGULARFIRE2_VERSION");function Iu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Qa=(n,e)=>{let t=e?[e]:vp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ka=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ka||{}),Y1=Q_()&&typeof Zone<"u"?Ka.WARN:Ka.SILENT;var _p=class{zone;delegate;constructor(e,t=ay){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},_o=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(ke);this.outsideAngular=t.runOutsideAngular(()=>new _p(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new _p(typeof Zone>"u"?void 0:Zone.current,sy))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z1=!1;function w4(n,e){!Z1&&(Y1>Ka.SILENT||Q_())&&(Z1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Y1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function I4(n){let e=R(ke,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ds(n){let e=R(ke,{optional:!0});return e?e.run(()=>n()):n()}var C4=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Et(t,()=>Ds(()=>n.apply(void 0,r)))),et=(n,e,t)=>(t||=e?Ka.WARN:Ka.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=R(_o),s=R(Ca),a=R(mt)}catch{return w4(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Ds(()=>s.add())),i[u]=C4(i[u],r,a));let c=I4(()=>n.apply(this,i));return e?c instanceof Ie?c.pipe(zi(o.outsideAngular),Hi(o.insideAngular),Q1(a)):c instanceof Promise?Ds(()=>{let u=s.add();return new Promise((h,g)=>{c.then(v=>Et(a,()=>Ds(()=>h(v))),v=>Et(a,()=>Ds(()=>g(v)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ds(()=>c):c instanceof Ie?c.pipe(zi(o.outsideAngular),Hi(o.insideAngular)):Ds(()=>c)});var Ci=class{constructor(e){return e}},Ts=class{constructor(){return vp()}};function D4(n){return n&&n.length===1?n[0]:new Ci(Cs())}var mb=new Z("angularfire2._apps"),T4={provide:Ci,useFactory:D4,deps:[[new xn,mb]]},S4={provide:Ts,deps:[[new xn,mb]]};function A4(n){return(e,t)=>{let r=t.get(hs);dt("angularfire",vo.full,"core"),dt("angularfire",vo.full,"app"),dt("angular",Ty.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ci(i)}}function X1(n,...e){return vn([T4,S4,{provide:mb,useFactory:A4(n),multi:!0,deps:[ke,ct,_o,...e]}])}var eM=et(pb,!0);var x4=new Map,M4={activated:!1,tokenObservers:[]},R4={initialized:!1,enabled:!1};function mr(n){return x4.get(n)||Object.assign({},M4)}function iM(){return R4}var P4="https://content-firebaseappcheck.googleapis.com/v1";var N4="exchangeDebugToken",tM={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},xce=1440*60*1e3;var vb=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new ws,this.pending.promise.catch(t=>{}),yield k4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ws,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function k4(n){return new Promise(e=>{setTimeout(e,n)})}var O4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},bo=new fr("appCheck","AppCheck",O4);function oM(n){if(!mr(n).activated)throw bo.create("use-before-activation",{appName:n.name})}function sM(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let E=yield s.getHeartbeatsHeader();E&&(o["X-Firebase-Client"]=E)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(E){throw bo.create("fetch-network-error",{originalErrorMessage:E?.message})}if(c.status!==200)throw bo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(E){throw bo.create("fetch-parse-error",{originalErrorMessage:E?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let g=Number(h[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function aM(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${P4}/projects/${t}/apps/${r}:${N4}?key=${i}`,body:{debug_token:e}}}var F4="firebase-app-check-database",L4=1,_b="firebase-app-check-store";var bp=null;function V4(){return bp||(bp=new Promise((n,e)=>{try{let t=indexedDB.open(F4,L4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(bo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_b,{keyPath:"compositeKey"})}}}catch(t){e(bo.create("storage-open",{originalErrorMessage:t?.message}))}}),bp)}function j4(n,e){return U4(B4(n),e)}function U4(n,e){return b(this,null,function*(){let r=(yield V4()).transaction(_b,"readwrite"),o=r.objectStore(_b).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(bo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function B4(n){return`${n.options.appId}-${n.name}`}var Cu=new Fr("@firebase/app-check");function gb(n,e){return _u()?j4(n,e).catch(t=>{Cu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cM(){return iM().enabled}function lM(){return b(this,null,function*(){let n=iM();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var $4={error:"UNKNOWN_ERROR"};function H4(n){return dp.encodeString(JSON.stringify(n),!1)}function bb(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;oM(r);let i=mr(r),o=i.token,s;if(o&&!Du(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Du(u)?o=u:yield gb(r,void 0))}if(!e&&o&&Du(o))return{token:o.token};let a=!1;if(cM())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=sM(aM(r,yield lM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield gb(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Cu.warn(u.message):t&&Cu.error(u),yb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield mr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Cu.warn(u.message):t&&Cu.error(u),s=u}let c;return o?s?Du(o)?c={token:o.token,internalError:s}:c=yb(s):(c={token:o.token},i.token=o,yield gb(r,o)):c=yb(s),a&&G4(r,c),c})}function z4(n){return b(this,null,function*(){let e=n.app;oM(e);let{provider:t}=mr(e);if(cM()){let r=yield lM(),{token:i}=yield sM(aM(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function q4(n,e,t,r){let{app:i}=n,o=mr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Du(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),nM(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>nM(n))}function uM(n,e){let t=mr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function nM(n){let{app:e}=n,t=mr(e),r=t.tokenRefresher;r||(r=W4(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function W4(n){let{app:e}=n;return new vb(()=>b(null,null,function*(){let t=mr(e),r;if(t.token?r=yield bb(n,!0):r=yield bb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},tM.RETRIAL_MIN_WAIT,tM.RETRIAL_MAX_WAIT)}function G4(n,e){let t=mr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Du(n){return n.expireTimeMillis-Date.now()>0}function yb(n){return{token:H4($4),error:n}}var Eb=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=mr(this.app);for(let t of e)uM(this.app,t.next);return Promise.resolve()}};function J4(n,e){return new Eb(n,e)}function K4(n){return{getToken:e=>bb(n,e),getLimitedUseToken:()=>z4(n),addTokenListener:e=>q4(n,"INTERNAL",e),removeTokenListener:e=>uM(n.app,e)}}var Q4="@firebase/app-check",Y4="0.10.1";var Z4="app-check",rM="app-check-internal";function X4(){pr(new dn(Z4,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return J4(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rM).initialize()})),pr(new dn(rM,n=>{let e=n.getProvider("app-check").getImmediate();return K4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),dt(Q4,Y4)}X4();var e$="app-check";var Ya=class{constructor(){return Qa(e$)}};var t$=["localhost","0.0.0.0","127.0.0.1"],$ce=typeof window<"u"&&t$.includes(window.location.hostname);function TM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SM=TM,AM=new fr("auth","Firebase",TM());var Tp=new Fr("@firebase/auth");function n$(n,...e){Tp.logLevel<=Se.WARN&&Tp.warn(`Auth (${yo}): ${n}`,...e)}function wp(n,...e){Tp.logLevel<=Se.ERROR&&Tp.error(`Auth (${yo}): ${n}`,...e)}function Ur(n,...e){throw qb(n,...e)}function Ss(n,...e){return qb(n,...e)}function xM(n,e,t){let r=Object.assign(Object.assign({},SM()),{[e]:t});return new fr("auth","Firebase",r).create(e,{appName:n.name})}function Vr(n){return xM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qb(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return AM.create(n,...e)}function re(n,e,...t){if(!n)throw qb(e,...t)}function Di(n){let e="INTERNAL ASSERTION FAILED: "+n;throw wp(e),new Error(e)}function Io(n,e){n||Di(e)}function Db(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function r$(){return dM()==="http:"||dM()==="https:"}function dM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function i$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r$()||x1()||"connection"in navigator)?navigator.onLine:!0}function o$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var As=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Io(t>e,"Short delay should be less than long delay!"),this.isMobile=S1()||M1()}get(){return i$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Wb(n,e){Io(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Sp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var s$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var a$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c$=new As(3e4,6e4);function Si(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Br(o,s,a,c){return b(this,arguments,function*(n,e,t,r,i={}){return MM(n,i,()=>b(null,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let g=bu(Object.assign({key:n.config.apiKey},h)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let E=Object.assign({method:e,headers:v},u);return A1()||(E.referrerPolicy="no-referrer"),n.emulatorConfig&&mo(n.emulatorConfig.host)&&(E.credentials="include"),Sp.fetch()(yield RM(n,n.config.apiHost,t,g),E)}))})}function MM(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},s$),e);try{let i=new Tb(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ep(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ep(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ep(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ep(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xM(n,h,u);Ur(n,h)}}catch(i){if(i instanceof On)throw i;Ur(n,"network-request-failed",{message:String(i)})}})}function Nu(o,s,a,c){return b(this,arguments,function*(n,e,t,r,i={}){let u=yield Br(n,e,t,r,i);return"mfaPendingCredential"in u&&Ur(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function RM(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Wb(n.config,i):`${n.config.apiScheme}://${i}`;return a$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function l$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Tb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ss(this.auth,"network-request-failed")),c$.get())})}};function Ep(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ss(n,e,r);return i.customData._tokenResponse=t,i}function hM(n){return n!==void 0&&n.enterprise!==void 0}var Sb=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return l$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function u$(n,e){return b(this,null,function*(){return Br(n,"GET","/v2/recaptchaConfig",Si(n,e))})}function d$(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:delete",e)})}function Ap(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:lookup",e)})}function Su(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Gb(n,e=!1){return b(this,null,function*(){let t=Xe(n),r=yield t.getIdToken(e),i=Jb(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Su(wb(i.auth_time)),issuedAtTime:Su(wb(i.iat)),expirationTime:Su(wb(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function wb(n){return Number(n)*1e3}function Jb(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wp("JWT malformed, contained fewer than 3 sections"),null;try{let i=hp(t);return i?JSON.parse(i):(wp("Failed to decode base64 JWT payload"),null)}catch(i){return wp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fM(n){let e=Jb(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Za(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof On&&h$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function h$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Ab=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xp(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Za(n,Ap(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PM(o.providerUserInfo):[],a=f$(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=c?u:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,g)})}function Kb(n){return b(this,null,function*(){let e=Xe(n);yield xp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function f$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PM(n){return n.map(e=>{var{providerId:t}=e,r=cy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function p$(n,e){return b(this,null,function*(){let t=yield MM(n,{},()=>b(null,null,function*(){let r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield RM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&mo(n.emulatorConfig.host)&&(c.credentials="include"),Sp.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function m$(n,e){return b(this,null,function*(){return Br(n,"POST","/v2/accounts:revokeToken",Si(n,e))})}var Au=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=fM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield p$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Di("not implemented")}};function Eo(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var wo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ab(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield Za(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Gb(this,e)}reload(){return Kb(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield xp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(hn(this.auth.app))return Promise.reject(Vr(this.auth));let e=yield this.getIdToken();return yield Za(this,d$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,h;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=t.photoURL)!==null&&s!==void 0?s:void 0,F=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,q=(u=t.createdAt)!==null&&u!==void 0?u:void 0,oe=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:he,emailVerified:$e,isAnonymous:rn,providerData:Ve,stsTokenManager:S}=t;re(he&&S,e,"internal-error");let I=Au.fromJSON(this.name,S);re(typeof he=="string",e,"internal-error"),Eo(g,e.name),Eo(v,e.name),re(typeof $e=="boolean",e,"internal-error"),re(typeof rn=="boolean",e,"internal-error"),Eo(E,e.name),Eo(x,e.name),Eo(F,e.name),Eo(O,e.name),Eo(q,e.name),Eo(oe,e.name);let D=new n({uid:he,auth:e,email:v,emailVerified:$e,displayName:g,isAnonymous:rn,photoURL:x,phoneNumber:E,tenantId:F,stsTokenManager:I,createdAt:q,lastLoginAt:oe});return Ve&&Array.isArray(Ve)&&(D.providerData=Ve.map(T=>Object.assign({},T))),O&&(D._redirectEventId=O),D}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Au;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?PM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Au;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var pM=new Map;function Ti(n){Io(n instanceof Function,"Expected a class definition");let e=pM.get(n);return e?(Io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pM.set(n,e),e)}var g$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),xb=g$;function Ip(n,e,t){return`firebase:${n}:${e}:${t}`}var Mp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ip(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ip("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ap(this.auth,{idToken:e}).catch(()=>{});return t?wo._fromGetAccountInfoResponse(this.auth,t,e):null}return wo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(Ti(xb),e,r);let i=(yield Promise.all(t.map(u=>b(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Ti(xb),s=Ip(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let g;if(typeof h=="string"){let v=yield Ap(e,{idToken:h}).catch(()=>{});if(!v)break;g=yield wo._fromGetAccountInfoResponse(e,v,h)}else g=wo._fromJSON(e,h);u!==o&&(a=g),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>b(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function mM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VM(e))return"Blackberry";if(jM(e))return"Webos";if(kM(e))return"Safari";if((e.includes("chrome/")||OM(e))&&!e.includes("edge/"))return"Chrome";if(LM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function NM(n=kt()){return/firefox\//i.test(n)}function kM(n=kt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OM(n=kt()){return/crios\//i.test(n)}function FM(n=kt()){return/iemobile/i.test(n)}function LM(n=kt()){return/android/i.test(n)}function VM(n=kt()){return/blackberry/i.test(n)}function jM(n=kt()){return/webos/i.test(n)}function Qb(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function y$(n=kt()){var e;return Qb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v$(){return R1()&&document.documentMode===10}function UM(n=kt()){return Qb(n)||LM(n)||jM(n)||VM(n)||/windows phone/i.test(n)||FM(n)}function BM(n,e=[]){let t;switch(n){case"Browser":t=mM(kt());break;case"Worker":t=`${mM(kt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}var Mb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _$(t){return b(this,arguments,function*(n,e={}){return Br(n,"GET","/v2/passwordPolicy",Si(n,e))})}var b$=6,Rb=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:b$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Pb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rp(this),this.idTokenSubscription=new Rp(this),this.beforeStateQueue=new Mb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Mp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield Ap(this,{idToken:e}),r=yield wo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(hn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield xp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=o$()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(hn(this.app))return Promise.reject(Vr(this));let t=e?Xe(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return hn(this.app)?Promise.reject(Vr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hn(this.app)?Promise.reject(Vr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(Ti(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield _$(this),t=new Rb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield m$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ti(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield Mp.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&n$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Co(n){return Xe(n)}var Rp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=O1(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E$(n){jp=n}function $M(n){return jp.loadJS(n)}function w$(){return jp.recaptchaEnterpriseScript}function I$(){return jp.gapiScript}function HM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Nb=class{constructor(){this.enterprise=new kb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},kb=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var C$="recaptcha-enterprise",zM="NO_RECAPTCHA",Ob=class{constructor(e){this.type=C$,this.auth=Co(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(null,null,function*(){u$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Sb(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;hM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(zM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nb().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&hM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=w$();c.length!==0&&(c+=a),$M(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Tu(n,e,t,r=!1,i=!1){return b(this,null,function*(){let o=new Ob(n),s;if(i)s=zM;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Pp(n,e,t,r,i){return b(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Tu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>b(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Tu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Tu(n,e,t);return r(n,a).catch(c=>b(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Tu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)}))}else{let a=yield Tu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Yb(n,e){let t=Ja(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Jn(o,e??{}))return i;Ur(i,"already-initialized")}return t.initialize({options:e})}function D$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zb(n,e,t){let r=Co(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=qM(e),{host:s,port:a}=T$(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Jn(u,r.config.emulator)&&Jn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,mo(s)?(pp(`${o}//${s}${c}`),mp("Auth",!0)):i||S$()}function qM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function T$(n){let e=qM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:gM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:gM(s)}}}function gM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function S$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Mu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}};function A$(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:update",e)})}function x$(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:signUp",e)})}function M$(n,e){return b(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithPassword",Si(n,e))})}function R$(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:sendOobCode",Si(n,e))})}function P$(n,e){return b(this,null,function*(){return R$(n,e)})}function N$(n,e){return b(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Si(n,e))})}function k$(n,e){return b(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Si(n,e))})}var Ru=class n extends Mu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(e,t,"signInWithPassword",M$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return N$(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(e,r,"signUpPassword",x$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k$(e,{idToken:t,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ib(n,e){return b(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithIdp",Si(n,e))})}function O$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F$(n){let e=Wa(Ga(n)).link,t=e?Wa(Ga(e)).deep_link_id:null,r=Wa(Ga(n)).deep_link_id;return(r?Wa(Ga(r)).link:null)||r||t||e||n}var Np=class n{constructor(e){var t,r,i,o,s,a;let c=Wa(Ga(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,g=O$((i=c.mode)!==null&&i!==void 0?i:null);re(u&&h&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=F$(e);try{return new n(t)}catch{return null}}};var WM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ru._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Np.parseLink(r);return re(i,"argument-error"),Ru._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),kp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fb=class extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function L$(n,e){return b(this,null,function*(){return Nu(n,"POST","/v1/accounts:signUp",Si(n,e))})}var Xa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield wo._fromIdTokenResponse(e,r,i),s=yM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=yM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function yM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Lb=class n extends On{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function GM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lb._fromErrorAndOperation(n,o,e,r):o})}function V$(n,e,t=!1){return b(this,null,function*(){let r=yield Za(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xa._forOperation(n,"link",r)})}function j$(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(hn(r.app))return Promise.reject(Vr(r));let i="reauthenticate";try{let o=yield Za(n,GM(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=Jb(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),Xa._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ur(r,"user-mismatch"),o}})}function JM(n,e,t=!1){return b(this,null,function*(){if(hn(n.app))return Promise.reject(Vr(n));let r="signIn",i=yield GM(n,r,e),o=yield Xa._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Xb(n,e){return b(this,null,function*(){return JM(Co(n),e)})}function U$(n,e,t){var r;re(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),re(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),re(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(re(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(re(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function KM(n){return b(this,null,function*(){let e=Co(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function eE(n,e,t){return b(this,null,function*(){let r=Co(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&U$(r,i,t),yield Pp(r,i,"getOobCode",P$,"EMAIL_PASSWORD_PROVIDER")})}function tE(n,e,t){return b(this,null,function*(){if(hn(n.app))return Promise.reject(Vr(n));let r=Co(n),s=yield Pp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L$,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&KM(n),c}),a=yield Xa._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function nE(n,e,t){return hn(n.app)?Promise.reject(Vr(n)):Xb(Xe(n),WM.credential(e,t)).catch(r=>b(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&KM(n),r}))}function rE(n,e){let t=Xe(n);return hn(t.auth.app)?Promise.reject(Vr(t.auth)):QM(t,e,null)}function iE(n,e){return QM(Xe(n),null,e)}function QM(n,e,t){return b(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield Za(n,A$(r,o));yield n._updateTokensIfNecessary(s,!0)})}function Up(n,e){return Xe(n).setPersistence(e)}function oE(n,e,t,r){return Xe(n).onIdTokenChanged(e,t,r)}function sE(n,e,t){return Xe(n).beforeAuthStateChanged(e,t)}function aE(n,e,t,r){return Xe(n).onAuthStateChanged(e,t,r)}function cE(n){return Xe(n).signOut()}var Op="__sak";var Fp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var B$=1e3,$$=10,H$=(()=>{class n extends Fp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);v$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},B$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Bi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Bi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Bi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Bp=H$;var z$=(()=>{class n extends Fp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),lE=z$;function q$(n){return Promise.all(n.map(e=>b(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var W$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>b(this,null,function*(){return h(r.origin,s)})),u=yield q$(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function YM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Vb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=YM("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function jr(){return window}function G$(n){jr().location.href=n}function ZM(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}function J$(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function K$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Q$(){return ZM()?self:null}var XM="firebaseLocalStorageDb",Y$=1,Lp="firebaseLocalStorage",eR="fbase_key",xs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function $p(n,e){return n.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function Z$(){let n=indexedDB.deleteDatabase(XM);return new xs(n).toPromise()}function jb(){let n=indexedDB.open(XM,Y$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Lp,{keyPath:eR})}catch(i){t(i)}}),n.addEventListener("success",()=>b(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),yield Z$(),e(yield jb()))}))})}function vM(n,e,t){return b(this,null,function*(){let r=$p(n,!0).put({[eR]:e,value:t});return new xs(r).toPromise()})}function X$(n,e){return b(this,null,function*(){let t=$p(n,!1).get(e),r=yield new xs(t).toPromise();return r===void 0?null:r.value})}function _M(n,e){let t=$p(n,!0).delete(e);return new xs(t).toPromise()}var e5=800,t5=3,n5=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield jb(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>t5)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return ZM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=W$._getInstance(Q$()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield J$(),!this.activeServiceWorker)return;this.sender=new Vb(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||K$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield jb();return yield vM(t,Op,"1"),yield _M(t,Op),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>vM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>X$(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>_M(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=$p(o,!1).getAll();return new xs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),e5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),tR=n5;var Qce=HM("rcb"),Yce=new As(3e4,6e4);function r5(n,e){return e?Ti(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Pu=class extends Mu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ib(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ib(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ib(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function i5(n){return JM(n.auth,new Pu(n),n.bypassAuthState)}function o5(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),j$(t,new Pu(n),n.bypassAuthState)}function s5(n){return b(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),V$(t,new Pu(n),n.bypassAuthState)})}var Ub=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i5;case"linkViaPopup":case"linkViaRedirect":return s5;case"reauthViaPopup":case"reauthViaRedirect":return o5;default:Ur(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Zce=new As(2e3,1e4);var a5="pendingRedirect",Cp=new Map,Bb=class n extends Ub{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=Cp.get(this.auth._key());if(!e){try{let r=(yield c5(this.resolver,this.auth))?yield Bi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Cp.set(this.auth._key(),e)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Bi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Bi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function c5(n,e){return b(this,null,function*(){let t=d5(e),r=u5(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function l5(n,e){Cp.set(n._key(),e)}function u5(n){return Ti(n._redirectPersistence)}function d5(n){return Ip(a5,n.config.apiKey,n.name)}function h5(n,e,t=!1){return b(this,null,function*(){if(hn(n.app))return Promise.reject(Vr(n));let r=Co(n),i=r5(r,e),s=yield new Bb(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var f5=600*1e3,$b=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!nR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ss(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bM(e))}saveEventToCache(e){this.cachedEventUids.add(bM(e)),this.lastProcessedEventTime=Date.now()}};function bM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function p5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nR(n);default:return!1}}function m5(t){return b(this,arguments,function*(n,e={}){return Br(n,"GET","/v1/projects",e)})}var g5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y5=/^https?/;function v5(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield m5(n);for(let t of e)try{if(_5(t))return}catch{}Ur(n,"unauthorized-domain")})}function _5(n){let e=Db(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!y5.test(t))return!1;if(g5.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var b5=new As(3e4,6e4);function EM(){let n=jr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function E5(n){return new Promise((e,t)=>{var r,i,o;function s(){EM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EM(),t(Ss(n,"network-request-failed"))},timeout:b5.get()})}if(!((i=(r=jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=jr().gapi)===null||o===void 0)&&o.load)s();else{let a=HM("iframefcb");return jr()[a]=()=>{gapi.load?s():t(Ss(n,"network-request-failed"))},$M(`${I$()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Dp=null,e})}var Dp=null;function w5(n){return Dp=Dp||E5(n),Dp}var I5=new As(5e3,15e3),C5="__/auth/iframe",D5="emulator/auth/iframe",T5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A5(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Wb(e,D5):`https://${n.config.authDomain}/${C5}`,r={apiKey:e.apiKey,appName:n.name,v:yo},i=S5.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${bu(r).slice(1)}`}function x5(n){return b(this,null,function*(){let e=yield w5(n),t=jr().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:A5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T5,dontclear:!0},r=>new Promise((i,o)=>b(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ss(n,"network-request-failed"),a=jr().setTimeout(()=>{o(s)},I5.get());function c(){jr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var M5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R5=500,P5=600,N5="_blank",k5="http://localhost",Vp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function O5(n,e,t,r=R5,i=P5){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},M5),{width:r.toString(),height:i.toString(),top:o,left:s}),u=kt().toLowerCase();t&&(a=OM(u)?N5:t),NM(u)&&(e=e||k5,c.scrollbars="yes");let h=Object.entries(c).reduce((v,[E,x])=>`${v}${E}=${x},`,"");if(y$(u)&&a!=="_self")return F5(e||"",a),new Vp(null);let g=window.open(e||"",a,h);re(g,n,"popup-blocked");try{g.focus()}catch{}return new Vp(g)}function F5(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var L5="__/auth/handler",V5="emulator/auth/handler",j5=encodeURIComponent("fac");function wM(n,e,t,r,i,o){return b(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yo,eventId:i};if(e instanceof kp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",k1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,g]of Object.entries(o||{}))s[h]=g}if(e instanceof Fb){let h=e.getScopes().filter(g=>g!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),u=c?`#${j5}=${encodeURIComponent(c)}`:"";return`${U5(n)}?${bu(a).slice(1)}${u}`})}function U5({config:n}){return n.emulator?Wb(n,V5):`https://${n.authDomain}/${L5}`}var Cb="webStorageSupport",Hb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=h5,this._overrideRedirectResult=l5}_openPopup(e,t,r,i){return b(this,null,function*(){var o;Io((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield wM(e,t,r,Db(),i);return O5(e,s,YM())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield wM(e,t,r,Db(),i);return G$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Io(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield x5(e),r=new $b(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cb,{type:Cb},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Cb];s!==void 0&&t(!!s),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=v5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UM()||kM()||Qb()}},rR=Hb;var IM="@firebase/auth",CM="1.10.8";var zb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function B5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $5(n){pr(new dn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BM(n)},u=new Pb(r,i,o,c);return D$(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pr(new dn("auth-internal",e=>{let t=Co(e.getProvider("auth").getImmediate());return(r=>new zb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(IM,CM,B5(n)),dt(IM,CM,"esm2017")}var H5=300,z5=X0("authIdTokenMaxAge")||H5,DM=null,q5=n=>e=>b(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>z5)return;let i=t?.token;DM!==i&&(DM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function uE(n=Cs()){let e=Ja(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Yb(n,{popupRedirectResolver:rR,persistence:[tR,Bp,lE]}),r=X0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=q5(o.toString());sE(t,s,()=>s(t.currentUser)),oE(t,a=>s(a))}}let i=Y0("auth");return i&&Zb(t,`http://${i}`),t}function W5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}E$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ss("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",W5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$5("Browser");var iR="auth",Ai=class{constructor(e){return e}},ku=class{constructor(){return Qa(iR)}};var dE=new Z("angularfire2.auth-instances");function MH(n,e){let t=Iu(iR,n,e);return t&&new Ai(t)}function RH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ai(r)}}var PH={provide:ku,deps:[[new xn,dE]]},NH={provide:Ai,useFactory:MH,deps:[[new xn,dE],Ci]};function oR(n,...e){return dt("angularfire",vo.full,"auth"),vn([NH,PH,{provide:dE,useFactory:RH(n),multi:!0,deps:[ke,ct,_o,Ts,[new xn,Ya],...e]}])}var Hp=et(tE,!0,2);var sR=et(uE,!0);var aR=et(aE,!0);var cR=et(eE,!0,2);var lR=et(nE,!0,2);var uR=et(cE,!0,2);var dR=et(rE,!0,2),hR=et(iE,!0,2);var fR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pR={};var xi,hE;(function(){var n;function e(S,I){function D(){}D.prototype=I.prototype,S.D=I.prototype,S.prototype=new D,S.prototype.constructor=S,S.C=function(T,A,N){for(var C=Array(arguments.length-2),Yr=2;Yr<arguments.length;Yr++)C[Yr-2]=arguments[Yr];return I.prototype[A].apply(T,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,D){D||(D=0);var T=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)T[A]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(A=0;16>A;++A)T[A]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=S.g[0],D=S.g[1],A=S.g[2];var N=S.g[3],C=I+(N^D&(A^N))+T[0]+3614090360&4294967295;I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[1]+3905402710&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[2]+606105819&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[3]+3250441966&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(N^D&(A^N))+T[4]+4118548399&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[5]+1200080426&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[6]+2821735955&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[7]+4249261313&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(N^D&(A^N))+T[8]+1770035416&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[9]+2336552879&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[10]+4294925233&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[11]+2304563134&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(N^D&(A^N))+T[12]+1804603682&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[13]+4254626195&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[14]+2792965006&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[15]+1236535329&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(A^N&(D^A))+T[1]+4129170786&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[6]+3225465664&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[11]+643717713&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[0]+3921069994&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(A^N&(D^A))+T[5]+3593408605&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[10]+38016083&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[15]+3634488961&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[4]+3889429448&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(A^N&(D^A))+T[9]+568446438&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[14]+3275163606&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[3]+4107603335&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[8]+1163531501&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(A^N&(D^A))+T[13]+2850285829&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[2]+4243563512&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[7]+1735328473&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[12]+2368359562&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(D^A^N)+T[5]+4294588738&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[8]+2272392833&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[11]+1839030562&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[14]+4259657740&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(D^A^N)+T[1]+2763975236&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[4]+1272893353&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[7]+4139469664&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[10]+3200236656&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(D^A^N)+T[13]+681279174&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[0]+3936430074&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[3]+3572445317&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[6]+76029189&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(D^A^N)+T[9]+3654602809&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[12]+3873151461&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[15]+530742520&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[2]+3299628645&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(A^(D|~N))+T[0]+4096336452&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[7]+1126891415&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[14]+2878612391&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[5]+4237533241&4294967295,D=A+(C<<21&4294967295|C>>>11),C=I+(A^(D|~N))+T[12]+1700485571&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[3]+2399980690&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[10]+4293915773&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[1]+2240044497&4294967295,D=A+(C<<21&4294967295|C>>>11),C=I+(A^(D|~N))+T[8]+1873313359&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[15]+4264355552&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[6]+2734768916&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[13]+1309151649&4294967295,D=A+(C<<21&4294967295|C>>>11),C=I+(A^(D|~N))+T[4]+4149444226&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[11]+3174756917&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[2]+718787259&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var D=I-this.blockSize,T=this.B,A=this.h,N=0;N<I;){if(A==0)for(;N<=D;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<I;)if(T[A++]=S.charCodeAt(N++),A==this.blockSize){i(this,T),A=0;break}}else for(;N<I;)if(T[A++]=S[N++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var D=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=D&255,D/=256;for(this.u(S),S=Array(16),I=D=0;4>I;++I)for(var T=0;32>T;T+=8)S[D++]=this.g[I]>>>T&255;return S};function o(S,I){var D=a;return Object.prototype.hasOwnProperty.call(D,S)?D[S]:D[S]=I(S)}function s(S,I){this.h=I;for(var D=[],T=!0,A=S.length-1;0<=A;A--){var N=S[A]|0;T&&N==I||(D[A]=N,T=!1)}this.g=D}var a={};function c(S){return-128<=S&&128>S?o(S,function(I){return new s([I|0],0>I?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return O(u(-S));for(var I=[],D=1,T=0;S>=D;T++)I[T]=S/D|0,D*=4294967296;return new s(I,0)}function h(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return O(h(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(I,8)),T=g,A=0;A<S.length;A+=8){var N=Math.min(8,S.length-A),C=parseInt(S.substring(A,A+N),I);8>N?(N=u(Math.pow(I,N)),T=T.j(N).add(u(C))):(T=T.j(D),T=T.add(u(C)))}return T}var g=c(0),v=c(1),E=c(16777216);n=s.prototype,n.m=function(){if(F(this))return-O(this).m();for(var S=0,I=1,D=0;D<this.g.length;D++){var T=this.i(D);S+=(0<=T?T:4294967296+T)*I,I*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(F(this))return"-"+O(this).toString(S);for(var I=u(Math.pow(S,6)),D=this,T="";;){var A=$e(D,I).g;D=q(D,A.j(I));var N=((0<D.g.length?D.g[0]:D.h)>>>0).toString(S);if(D=A,x(D))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function F(S){return S.h==-1}n.l=function(S){return S=q(this,S),F(S)?-1:x(S)?0:1};function O(S){for(var I=S.g.length,D=[],T=0;T<I;T++)D[T]=~S.g[T];return new s(D,~S.h).add(v)}n.abs=function(){return F(this)?O(this):this},n.add=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0,A=0;A<=I;A++){var N=T+(this.i(A)&65535)+(S.i(A)&65535),C=(N>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);T=C>>>16,N&=65535,C&=65535,D[A]=C<<16|N}return new s(D,D[D.length-1]&-2147483648?-1:0)};function q(S,I){return S.add(O(I))}n.j=function(S){if(x(this)||x(S))return g;if(F(this))return F(S)?O(this).j(O(S)):O(O(this).j(S));if(F(S))return O(this.j(O(S)));if(0>this.l(E)&&0>S.l(E))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,D=[],T=0;T<2*I;T++)D[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<S.g.length;A++){var N=this.i(T)>>>16,C=this.i(T)&65535,Yr=S.i(A)>>>16,Mc=S.i(A)&65535;D[2*T+2*A]+=C*Mc,oe(D,2*T+2*A),D[2*T+2*A+1]+=N*Mc,oe(D,2*T+2*A+1),D[2*T+2*A+1]+=C*Yr,oe(D,2*T+2*A+1),D[2*T+2*A+2]+=N*Yr,oe(D,2*T+2*A+2)}for(T=0;T<I;T++)D[T]=D[2*T+1]<<16|D[2*T];for(T=I;T<2*I;T++)D[T]=0;return new s(D,0)};function oe(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function he(S,I){this.g=S,this.h=I}function $e(S,I){if(x(I))throw Error("division by zero");if(x(S))return new he(g,g);if(F(S))return I=$e(O(S),I),new he(O(I.g),O(I.h));if(F(I))return I=$e(S,O(I)),new he(O(I.g),I.h);if(30<S.g.length){if(F(S)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var D=v,T=I;0>=T.l(S);)D=rn(D),T=rn(T);var A=Ve(D,1),N=Ve(T,1);for(T=Ve(T,2),D=Ve(D,2);!x(T);){var C=N.add(T);0>=C.l(S)&&(A=A.add(D),N=C),T=Ve(T,1),D=Ve(D,1)}return I=q(S,A.j(I)),new he(A,I)}for(A=g;0<=S.l(I);){for(D=Math.max(1,Math.floor(S.m()/I.m())),T=Math.ceil(Math.log(D)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=u(D),C=N.j(I);F(C)||0<C.l(S);)D-=T,N=u(D),C=N.j(I);x(N)&&(N=v),A=A.add(N),S=q(S,C)}return new he(A,S)}n.A=function(S){return $e(this,S).h},n.and=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)&S.i(T);return new s(D,this.h&S.h)},n.or=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)|S.i(T);return new s(D,this.h|S.h)},n.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)^S.i(T);return new s(D,this.h^S.h)};function rn(S){for(var I=S.g.length+1,D=[],T=0;T<I;T++)D[T]=S.i(T)<<1|S.i(T-1)>>>31;return new s(D,S.h)}function Ve(S,I){var D=I>>5;I%=32;for(var T=S.g.length-D,A=[],N=0;N<T;N++)A[N]=0<I?S.i(N+D)>>>I|S.i(N+D+1)<<32-I:S.i(N+D);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hE=pR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,xi=pR.Integer=s}).apply(typeof fR<"u"?fR:typeof self<"u"?self:typeof window<"u"?window:{});var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mi={};var fE,kH,ec,pE,Ou,qp,mE,gE,yE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,d){if(d)e:{var f=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var M=l[_];if(!(M in f))break e;f=f[M]}l=l[l.length-1],_=f[l],d=d(_),d!=_&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var f=0,_=!1,M={next:function(){if(!_&&f<l.length){var k=f++;return{value:d(k,l[k]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function g(l,d,f){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function v(l,d,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,v.apply(null,arguments)}function E(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function x(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(_,M,k){for(var z=Array(arguments.length-2),He=2;He<arguments.length;He++)z[He-2]=arguments[He];return d.prototype[M].apply(_,z)}}function F(l){let d=l.length;if(0<d){let f=Array(d);for(let _=0;_<d;_++)f[_]=l[_];return f}return[]}function O(l,d){for(let f=1;f<arguments.length;f++){let _=arguments[f];if(c(_)){let M=l.length||0,k=_.length||0;l.length=M+k;for(let z=0;z<k;z++)l[M+z]=_[z]}else l.push(_)}}class q{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function oe(l){return/^[\s\xa0]*$/.test(l)}function he(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function $e(l){return $e[" "](l),l}$e[" "]=function(){};var rn=he().indexOf("Gecko")!=-1&&!(he().toLowerCase().indexOf("webkit")!=-1&&he().indexOf("Edge")==-1)&&!(he().indexOf("Trident")!=-1||he().indexOf("MSIE")!=-1)&&he().indexOf("Edge")==-1;function Ve(l,d,f){for(let _ in l)d.call(f,l[_],_,l)}function S(l,d){for(let f in l)d.call(void 0,l[f],f,l)}function I(l){let d={};for(let f in l)d[f]=l[f];return d}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,d){let f,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(f in _)l[f]=_[f];for(let k=0;k<D.length;k++)f=D[k],Object.prototype.hasOwnProperty.call(_,f)&&(l[f]=_[f])}}function A(l){var d=1;l=l.split(":");let f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function N(l){a.setTimeout(()=>{throw l},0)}function C(){var l=yg;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Yr{constructor(){this.h=this.g=null}add(d,f){let _=Mc.get();_.set(d,f),this.h?this.h.next=_:this.g=_,this.h=_}}var Mc=new q(()=>new xk,l=>l.reset());class xk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Rc,Pc=!1,yg=new Yr,zI=()=>{let l=a.Promise.resolve(void 0);Rc=()=>{l.then(Mk)}};var Mk=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(f){N(f)}var d=Mc;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}Pc=!1};function Li(){this.s=this.s,this.C=this.C}Li.prototype.s=!1,Li.prototype.ma=function(){this.s||(this.s=!0,this.N())},Li.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function zt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Rk=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l})();function Nc(l,d){if(zt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(rn){e:{try{$e(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pk[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Nc.aa.h.call(this)}}x(Nc,zt);var Pk={2:"touch",3:"pen",4:"mouse"};Nc.prototype.h=function(){Nc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var kc="closure_listenable_"+(1e6*Math.random()|0),Nk=0;function kk(l,d,f,_,M){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!_,this.ha=M,this.key=++Nk,this.da=this.fa=!1}function ud(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function dd(l){this.src=l,this.g={},this.h=0}dd.prototype.add=function(l,d,f,_,M){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var z=_g(l,d,_,M);return-1<z?(d=l[z],f||(d.fa=!1)):(d=new kk(d,this.src,k,!!_,M),d.fa=f,l.push(d)),d};function vg(l,d){var f=d.type;if(f in l.g){var _=l.g[f],M=Array.prototype.indexOf.call(_,d,void 0),k;(k=0<=M)&&Array.prototype.splice.call(_,M,1),k&&(ud(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function _g(l,d,f,_){for(var M=0;M<l.length;++M){var k=l[M];if(!k.da&&k.listener==d&&k.capture==!!f&&k.ha==_)return M}return-1}var bg="closure_lm_"+(1e6*Math.random()|0),Eg={};function qI(l,d,f,_,M){if(_&&_.once)return GI(l,d,f,_,M);if(Array.isArray(d)){for(var k=0;k<d.length;k++)qI(l,d[k],f,_,M);return null}return f=Dg(f),l&&l[kc]?l.K(d,f,u(_)?!!_.capture:!!_,M):WI(l,d,f,!1,_,M)}function WI(l,d,f,_,M,k){if(!d)throw Error("Invalid event type");var z=u(M)?!!M.capture:!!M,He=Ig(l);if(He||(l[bg]=He=new dd(l)),f=He.add(d,f,_,z,k),f.proxy)return f;if(_=Ok(),f.proxy=_,_.src=l,_.listener=f,l.addEventListener)Rk||(M=z),M===void 0&&(M=!1),l.addEventListener(d.toString(),_,M);else if(l.attachEvent)l.attachEvent(KI(d.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ok(){function l(f){return d.call(l.src,l.listener,f)}let d=Fk;return l}function GI(l,d,f,_,M){if(Array.isArray(d)){for(var k=0;k<d.length;k++)GI(l,d[k],f,_,M);return null}return f=Dg(f),l&&l[kc]?l.L(d,f,u(_)?!!_.capture:!!_,M):WI(l,d,f,!0,_,M)}function JI(l,d,f,_,M){if(Array.isArray(d))for(var k=0;k<d.length;k++)JI(l,d[k],f,_,M);else _=u(_)?!!_.capture:!!_,f=Dg(f),l&&l[kc]?(l=l.i,d=String(d).toString(),d in l.g&&(k=l.g[d],f=_g(k,f,_,M),-1<f&&(ud(k[f]),Array.prototype.splice.call(k,f,1),k.length==0&&(delete l.g[d],l.h--)))):l&&(l=Ig(l))&&(d=l.g[d.toString()],l=-1,d&&(l=_g(d,f,_,M)),(f=-1<l?d[l]:null)&&wg(f))}function wg(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[kc])vg(d.i,l);else{var f=l.type,_=l.proxy;d.removeEventListener?d.removeEventListener(f,_,l.capture):d.detachEvent?d.detachEvent(KI(f),_):d.addListener&&d.removeListener&&d.removeListener(_),(f=Ig(d))?(vg(f,l),f.h==0&&(f.src=null,d[bg]=null)):ud(l)}}}function KI(l){return l in Eg?Eg[l]:Eg[l]="on"+l}function Fk(l,d){if(l.da)l=!0;else{d=new Nc(d,this);var f=l.listener,_=l.ha||l.src;l.fa&&wg(l),l=f.call(_,d)}return l}function Ig(l){return l=l[bg],l instanceof dd?l:null}var Cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dg(l){return typeof l=="function"?l:(l[Cg]||(l[Cg]=function(d){return l.handleEvent(d)}),l[Cg])}function qt(){Li.call(this),this.i=new dd(this),this.M=this,this.F=null}x(qt,Li),qt.prototype[kc]=!0,qt.prototype.removeEventListener=function(l,d,f,_){JI(this,l,d,f,_)};function on(l,d){var f,_=l.F;if(_)for(f=[];_;_=_.F)f.push(_);if(l=l.M,_=d.type||d,typeof d=="string")d=new zt(d,l);else if(d instanceof zt)d.target=d.target||l;else{var M=d;d=new zt(_,l),T(d,M)}if(M=!0,f)for(var k=f.length-1;0<=k;k--){var z=d.g=f[k];M=hd(z,_,!0,d)&&M}if(z=d.g=l,M=hd(z,_,!0,d)&&M,M=hd(z,_,!1,d)&&M,f)for(k=0;k<f.length;k++)z=d.g=f[k],M=hd(z,_,!1,d)&&M}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],_=0;_<f.length;_++)ud(f[_]);delete l.g[d],l.h--}}this.F=null},qt.prototype.K=function(l,d,f,_){return this.i.add(String(l),d,!1,f,_)},qt.prototype.L=function(l,d,f,_){return this.i.add(String(l),d,!0,f,_)};function hd(l,d,f,_){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,k=0;k<d.length;++k){var z=d[k];if(z&&!z.da&&z.capture==f){var He=z.listener,jt=z.ha||z.src;z.fa&&vg(l.i,z),M=He.call(jt,_)!==!1&&M}}return M&&!_.defaultPrevented}function QI(l,d,f){if(typeof l=="function")f&&(l=v(l,f));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function YI(l){l.g=QI(()=>{l.g=null,l.i&&(l.i=!1,YI(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class Lk extends Li{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:YI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(l){Li.call(this),this.h=l,this.g={}}x(Oc,Li);var ZI=[];function XI(l){Ve(l.g,function(d,f){this.g.hasOwnProperty(f)&&wg(d)},l),l.g={}}Oc.prototype.N=function(){Oc.aa.N.call(this),XI(this)},Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tg=a.JSON.stringify,Vk=a.JSON.parse,jk=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Sg(){}Sg.prototype.h=null;function eC(l){return l.h||(l.h=l.i())}function tC(){}var Fc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ag(){zt.call(this,"d")}x(Ag,zt);function xg(){zt.call(this,"c")}x(xg,zt);var Lo={},nC=null;function fd(){return nC=nC||new qt}Lo.La="serverreachability";function rC(l){zt.call(this,Lo.La,l)}x(rC,zt);function Lc(l){let d=fd();on(d,new rC(d))}Lo.STAT_EVENT="statevent";function iC(l,d){zt.call(this,Lo.STAT_EVENT,l),this.stat=d}x(iC,zt);function sn(l){let d=fd();on(d,new iC(d,l))}Lo.Ma="timingevent";function oC(l,d){zt.call(this,Lo.Ma,l),this.size=d}x(oC,zt);function Vc(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function jc(){this.g=!0}jc.prototype.xa=function(){this.g=!1};function Uk(l,d,f,_,M,k){l.info(function(){if(l.g)if(k)for(var z="",He=k.split("&"),jt=0;jt<He.length;jt++){var Ne=He[jt].split("=");if(1<Ne.length){var Wt=Ne[0];Ne=Ne[1];var Gt=Wt.split("_");z=2<=Gt.length&&Gt[1]=="type"?z+(Wt+"="+Ne+"&"):z+(Wt+"=redacted&")}}else z=null;else z=k;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+d+`
`+f+`
`+z})}function Bk(l,d,f,_,M,k,z){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+d+`
`+f+`
`+k+" "+z})}function Gs(l,d,f,_){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Hk(l,f)+(_?" "+_:"")})}function $k(l,d){l.info(function(){return"TIMEOUT: "+d})}jc.prototype.info=function(){};function Hk(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var _=f[l];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var k=M[0];if(k!="noop"&&k!="stop"&&k!="close")for(var z=1;z<M.length;z++)M[z]=""}}}}return Tg(f)}catch{return d}}var pd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mg;function md(){}x(md,Sg),md.prototype.g=function(){return new XMLHttpRequest},md.prototype.i=function(){return{}},Mg=new md;function Vi(l,d,f,_){this.j=l,this.i=d,this.l=f,this.R=_||1,this.U=new Oc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aC}function aC(){this.i=null,this.g="",this.h=!1}var cC={},Rg={};function Pg(l,d,f){l.L=1,l.v=_d(Zr(d)),l.m=f,l.P=!0,lC(l,null)}function lC(l,d){l.F=Date.now(),gd(l),l.A=Zr(l.v);var f=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),IC(f.i,"t",_),l.C=0,f=l.j.J,l.h=new aC,l.g=BC(l.j,f?d:null,!l.m),0<l.O&&(l.M=new Lk(v(l.Y,l,l.g),l.O)),d=l.U,f=l.g,_=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(ZI[0]=M.toString()),M=ZI);for(var k=0;k<M.length;k++){var z=qI(f,M[k],_||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Lc(),Uk(l.i,l.u,l.A,l.l,l.R,l.m)}Vi.prototype.ca=function(l){l=l.target;let d=this.M;d&&Xr(l)==3?d.j():this.Y(l)},Vi.prototype.Y=function(l){try{if(l==this.g)e:{let Gt=Xr(this.g);var d=this.g.Ba();let Qs=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||MC(this.g)))){this.J||Gt!=4||d==7||(d==8||0>=Qs?Lc(3):Lc(2)),Ng(this);var f=this.g.Z();this.X=f;t:if(uC(this)){var _=MC(this.g);l="";var M=_.length,k=Xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),Uc(this);var z="";break t}this.h.i=new a.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(_[d],{stream:!(k&&d==M-1)});_.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,Bk(this.i,this.u,this.A,this.l,this.R,Gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var He,jt=this.g;if((He=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(He)){var Ne=He;break t}}Ne=null}if(f=Ne)Gs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kg(this,f);else{this.o=!1,this.s=3,sn(12),Vo(this),Uc(this);break e}}if(this.P){f=!0;let Yn;for(;!this.J&&this.C<z.length;)if(Yn=zk(this,z),Yn==Rg){Gt==4&&(this.s=4,sn(14),f=!1),Gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==cC){this.s=4,sn(15),Gs(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else Gs(this.i,this.l,Yn,null),kg(this,Yn);if(uC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||z.length!=0||this.h.h||(this.s=1,sn(16),f=!1),this.o=this.o&&f,!f)Gs(this.i,this.l,z,"[Invalid Chunked Response]"),Vo(this),Uc(this);else if(0<z.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ug(Wt),Wt.M=!0,sn(11))}}else Gs(this.i,this.l,z,null),kg(this,z);Gt==4&&Vo(this),this.o&&!this.J&&(Gt==4?LC(this.j,this):(this.o=!1,gd(this)))}else aO(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Vo(this),Uc(this)}}}catch{}finally{}};function uC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function zk(l,d){var f=l.C,_=d.indexOf(`
`,f);return _==-1?Rg:(f=Number(d.substring(f,_)),isNaN(f)?cC:(_+=1,_+f>d.length?Rg:(d=d.slice(_,_+f),l.C=_+f,d)))}Vi.prototype.cancel=function(){this.J=!0,Vo(this)};function gd(l){l.S=Date.now()+l.I,dC(l,l.I)}function dC(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Vc(v(l.ba,l),d)}function Ng(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Vi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?($k(this.i,this.A),this.L!=2&&(Lc(),sn(17)),Vo(this),this.s=2,Uc(this)):dC(this,this.S-l)};function Uc(l){l.j.G==0||l.J||LC(l.j,l)}function Vo(l){Ng(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,XI(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function kg(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||Og(f.h,l))){if(!l.K&&Og(f.h,l)&&f.G==3){try{var _=f.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Cd(f),wd(f);else break e;jg(f),sn(18)}}else f.za=M[1],0<f.za-f.T&&37500>M[2]&&f.F&&f.v==0&&!f.C&&(f.C=Vc(v(f.Za,f),6e3));if(1>=pC(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Uo(f,11)}else if((l.K||f.g==l)&&Cd(f),!oe(d))for(M=f.Da.g.parse(d),d=0;d<M.length;d++){let Ne=M[d];if(f.T=Ne[0],Ne=Ne[1],f.G==2)if(Ne[0]=="c"){f.K=Ne[1],f.ia=Ne[2];let Wt=Ne[3];Wt!=null&&(f.la=Wt,f.j.info("VER="+f.la));let Gt=Ne[4];Gt!=null&&(f.Aa=Gt,f.j.info("SVER="+f.Aa));let Qs=Ne[5];Qs!=null&&typeof Qs=="number"&&0<Qs&&(_=1.5*Qs,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;let Yn=l.g;if(Yn){let Td=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Td){var k=_.h;k.g||Td.indexOf("spdy")==-1&&Td.indexOf("quic")==-1&&Td.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Fg(k,k.h),k.h=null))}if(_.D){let Bg=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bg&&(_.ya=Bg,Je(_.I,_.D,Bg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var z=l;if(_.qa=UC(_,_.J?_.ia:null,_.W),z.K){mC(_.h,z);var He=z,jt=_.L;jt&&(He.I=jt),He.B&&(Ng(He),gd(He)),_.g=z}else OC(_);0<f.i.length&&Id(f)}else Ne[0]!="stop"&&Ne[0]!="close"||Uo(f,7);else f.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Uo(f,7):Vg(f):Ne[0]!="noop"&&f.l&&f.l.ta(Ne),f.v=0)}}Lc(4)}catch{}}var qk=class{constructor(l,d){this.g=l,this.map=d}};function hC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pC(l){return l.h?1:l.g?l.g.size:0}function Og(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Fg(l,d){l.g?l.g.add(d):l.h=d}function mC(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}hC.prototype.cancel=function(){if(this.i=gC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function gC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let f of l.g.values())d=d.concat(f.D);return d}return F(l.i)}function Wk(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],f=l.length,_=0;_<f;_++)d.push(l[_]);return d}d=[],f=0;for(_ in l)d[f++]=l[_];return d}function Gk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(let _ in l)d[f++]=_;return d}}}function yC(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=Gk(l),_=Wk(l),M=_.length,k=0;k<M;k++)d.call(void 0,_[k],f&&f[k],l)}var vC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jk(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var _=l[f].indexOf("="),M=null;if(0<=_){var k=l[f].substring(0,_);M=l[f].substring(_+1)}else k=l[f];d(k,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function jo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof jo){this.h=l.h,yd(this,l.j),this.o=l.o,this.g=l.g,vd(this,l.s),this.l=l.l;var d=l.i,f=new Hc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),_C(this,f),this.m=l.m}else l&&(d=String(l).match(vC))?(this.h=!1,yd(this,d[1]||"",!0),this.o=Bc(d[2]||""),this.g=Bc(d[3]||"",!0),vd(this,d[4]),this.l=Bc(d[5]||"",!0),_C(this,d[6]||"",!0),this.m=Bc(d[7]||"")):(this.h=!1,this.i=new Hc(null,this.h))}jo.prototype.toString=function(){var l=[],d=this.j;d&&l.push($c(d,bC,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push($c(d,bC,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push($c(f,f.charAt(0)=="/"?Yk:Qk,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",$c(f,Xk)),l.join("")};function Zr(l){return new jo(l)}function yd(l,d,f){l.j=f?Bc(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function vd(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function _C(l,d,f){d instanceof Hc?(l.i=d,eO(l.i,l.h)):(f||(d=$c(d,Zk)),l.i=new Hc(d,l.h))}function Je(l,d,f){l.i.set(d,f)}function _d(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Bc(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function $c(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,Kk),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Kk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var bC=/[#\/\?@]/g,Qk=/[#\?:]/g,Yk=/[#\?]/g,Zk=/[#\?@]/g,Xk=/#/g;function Hc(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ji(l){l.g||(l.g=new Map,l.h=0,l.i&&Jk(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Hc.prototype,n.add=function(l,d){ji(this),this.i=null,l=Js(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function EC(l,d){ji(l),d=Js(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wC(l,d){return ji(l),d=Js(l,d),l.g.has(d)}n.forEach=function(l,d){ji(this),this.g.forEach(function(f,_){f.forEach(function(M){l.call(d,M,_,this)},this)},this)},n.na=function(){ji(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let _=0;_<d.length;_++){let M=l[_];for(let k=0;k<M.length;k++)f.push(d[_])}return f},n.V=function(l){ji(this);let d=[];if(typeof l=="string")wC(this,l)&&(d=d.concat(this.g.get(Js(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},n.set=function(l,d){return ji(this),this.i=null,l=Js(this,l),wC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},n.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function IC(l,d,f){EC(l,d),0<f.length&&(l.i=null,l.g.set(Js(l,d),F(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var _=d[f];let k=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var M=k;z[_]!==""&&(M+="="+encodeURIComponent(String(z[_]))),l.push(M)}}return this.i=l.join("&")};function Js(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function eO(l,d){d&&!l.j&&(ji(l),l.i=null,l.g.forEach(function(f,_){var M=_.toLowerCase();_!=M&&(EC(this,_),IC(this,M,f))},l)),l.j=d}function tO(l,d){let f=new jc;if(a.Image){let _=new Image;_.onload=E(Ui,f,"TestLoadImage: loaded",!0,d,_),_.onerror=E(Ui,f,"TestLoadImage: error",!1,d,_),_.onabort=E(Ui,f,"TestLoadImage: abort",!1,d,_),_.ontimeout=E(Ui,f,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else d(!1)}function nO(l,d){let f=new jc,_=new AbortController,M=setTimeout(()=>{_.abort(),Ui(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:_.signal}).then(k=>{clearTimeout(M),k.ok?Ui(f,"TestPingServer: ok",!0,d):Ui(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Ui(f,"TestPingServer: error",!1,d)})}function Ui(l,d,f,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(f)}catch{}}function rO(){this.g=new jk}function iO(l,d,f){let _=f||"";try{yC(l,function(M,k){let z=M;u(M)&&(z=Tg(M)),d.push(_+k+"="+encodeURIComponent(z))})}catch(M){throw d.push(_+"type="+encodeURIComponent("_badmap")),M}}function zc(l){this.l=l.Ub||null,this.j=l.eb||!1}x(zc,Sg),zc.prototype.g=function(){return new bd(this.l,this.j)},zc.prototype.i=(function(l){return function(){return l}})({});function bd(l,d){qt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(bd,qt),n=bd.prototype,n.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Wc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qc(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Wc(this)),this.g&&(this.readyState=3,Wc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function CC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?qc(this):Wc(this),this.readyState==3&&CC(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,qc(this))},n.Qa=function(l){this.g&&(this.response=l,qc(this))},n.ga=function(){this.g&&qc(this)};function qc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Wc(l)}n.setRequestHeader=function(l,d){this.u.append(l,d)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function Wc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function DC(l){let d="";return Ve(l,function(f,_){d+=_,d+=":",d+=f,d+=`\r
`}),d}function Lg(l,d,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=DC(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Je(l,d,f))}function st(l){qt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(st,qt);var oO=/^https?$/i,sO=["POST","PUT"];n=st.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,d,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mg.g(),this.v=this.o?eC(this.o):eC(Mg),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(k){TC(this,k);return}if(l=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)f.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let k of _.keys())f.set(k,_.get(k));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sO,d,void 0))||_||M||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,z]of f)this.g.setRequestHeader(k,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xC(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){TC(this,k)}};function TC(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,SC(l),Ed(l)}function SC(l){l.A||(l.A=!0,on(l,"complete"),on(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,on(this,"complete"),on(this,"abort"),Ed(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ed(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?AC(this):this.bb())},n.bb=function(){AC(this)};function AC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Xr(l)!=4||l.Z()!=2)){if(l.u&&Xr(l)==4)QI(l.Ea,0,l);else if(on(l,"readystatechange"),Xr(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var _;if(_=z===0){var M=String(l.D).match(vC)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),_=!oO.test(M?M.toLowerCase():"")}f=_}if(f)on(l,"complete"),on(l,"success");else{l.m=6;try{var k=2<Xr(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",SC(l)}}finally{Ed(l)}}}}function Ed(l,d){if(l.g){xC(l);let f=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||on(l,"ready");try{f.onreadystatechange=_}catch{}}}function xC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Xr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Vk(d)}};function MC(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function aO(l){let d={};l=(l.g&&2<=Xr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(oe(l[_]))continue;var f=A(l[_]);let M=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let k=d[M]||[];d[M]=k,k.push(f)}S(d,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gc(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function RC(l){this.Aa=0,this.i=[],this.j=new jc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gc("baseRetryDelayMs",5e3,l),this.cb=Gc("retryDelaySeedMs",1e4,l),this.Wa=Gc("forwardChannelMaxRetries",2,l),this.wa=Gc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hC(l&&l.concurrentRequestLimit),this.Da=new rO,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=RC.prototype,n.la=8,n.G=1,n.connect=function(l,d,f,_){sn(0),this.W=l,this.H=d||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=UC(this,null,this.W),Id(this)};function Vg(l){if(PC(l),l.G==3){var d=l.U++,f=Zr(l.I);if(Je(f,"SID",l.K),Je(f,"RID",d),Je(f,"TYPE","terminate"),Jc(l,f),d=new Vi(l,l.j,d),d.L=2,d.v=_d(Zr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=BC(d.j,null),d.g.ea(d.v)),d.F=Date.now(),gd(d)}jC(l)}function wd(l){l.g&&(Ug(l),l.g.cancel(),l.g=null)}function PC(l){wd(l),l.u&&(a.clearTimeout(l.u),l.u=null),Cd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Id(l){if(!fC(l.h)&&!l.s){l.s=!0;var d=l.Ga;Rc||zI(),Pc||(Rc(),Pc=!0),yg.add(d,l),l.B=0}}function cO(l,d){return pC(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Vc(v(l.Ga,l,d),VC(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let M=new Vi(this,this.j,l),k=this.o;if(this.S&&(k?(k=I(k),T(k,this.S)):k=this.S),this.m!==null||this.O||(M.H=k,k=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=kC(this,M,d),f=Zr(this.I),Je(f,"RID",l),Je(f,"CVER",22),this.D&&Je(f,"X-HTTP-Session-Id",this.D),Jc(this,f),k&&(this.O?d="headers="+encodeURIComponent(String(DC(k)))+"&"+d:this.m&&Lg(f,this.m,k)),Fg(this.h,M),this.Ua&&Je(f,"TYPE","init"),this.P?(Je(f,"$req",d),Je(f,"SID","null"),M.T=!0,Pg(M,f,null)):Pg(M,f,d),this.G=2}}else this.G==3&&(l?NC(this,l):this.i.length==0||fC(this.h)||NC(this))};function NC(l,d){var f;d?f=d.l:f=l.U++;let _=Zr(l.I);Je(_,"SID",l.K),Je(_,"RID",f),Je(_,"AID",l.T),Jc(l,_),l.m&&l.o&&Lg(_,l.m,l.o),f=new Vi(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=kC(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Fg(l.h,f),Pg(f,_,d)}function Jc(l,d){l.H&&Ve(l.H,function(f,_){Je(d,_,f)}),l.l&&yC({},function(f,_){Je(d,_,f)})}function kC(l,d,f){f=Math.min(l.i.length,f);var _=l.l?v(l.l.Na,l.l,l):null;e:{var M=l.i;let k=-1;for(;;){let z=["count="+f];k==-1?0<f?(k=M[0].g,z.push("ofs="+k)):k=0:z.push("ofs="+k);let He=!0;for(let jt=0;jt<f;jt++){let Ne=M[jt].g,Wt=M[jt].map;if(Ne-=k,0>Ne)k=Math.max(0,M[jt].g-100),He=!1;else try{iO(Wt,z,"req"+Ne+"_")}catch{_&&_(Wt)}}if(He){_=z.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,_}function OC(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Rc||zI(),Pc||(Rc(),Pc=!0),yg.add(d,l),l.v=0}}function jg(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Vc(v(l.Fa,l),VC(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,FC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Vc(v(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),wd(this),FC(this))};function Ug(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function FC(l){l.g=new Vi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Zr(l.qa);Je(d,"RID","rpc"),Je(d,"SID",l.K),Je(d,"AID",l.T),Je(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(d,"TO",l.ja),Je(d,"TYPE","xmlhttp"),Jc(l,d),l.m&&l.o&&Lg(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=_d(Zr(d)),f.m=null,f.P=!0,lC(f,l)}n.Za=function(){this.C!=null&&(this.C=null,wd(this),jg(this),sn(19))};function Cd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function LC(l,d){var f=null;if(l.g==d){Cd(l),Ug(l),l.g=null;var _=2}else if(Og(l.h,d))f=d.D,mC(l.h,d),_=1;else return;if(l.G!=0){if(d.o)if(_==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;_=fd(),on(_,new oC(_,f)),Id(l)}else OC(l);else if(M=d.s,M==3||M==0&&0<d.X||!(_==1&&cO(l,d)||_==2&&jg(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),M){case 1:Uo(l,5);break;case 4:Uo(l,10);break;case 3:Uo(l,6);break;default:Uo(l,2)}}}function VC(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function Uo(l,d){if(l.j.info("Error code "+d),d==2){var f=v(l.fb,l),_=l.Xa;let M=!_;_=new jo(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yd(_,"https"),_d(_),M?tO(_.toString(),f):nO(_.toString(),f)}else sn(2);l.G=0,l.l&&l.l.sa(d),jC(l),PC(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function jC(l){if(l.G=0,l.ka=[],l.l){let d=gC(l.h);(d.length!=0||l.i.length!=0)&&(O(l.ka,d),O(l.ka,l.i),l.h.i.length=0,F(l.i),l.i.length=0),l.l.ra()}}function UC(l,d,f){var _=f instanceof jo?Zr(f):new jo(f);if(_.g!="")d&&(_.g=d+"."+_.g),vd(_,_.s);else{var M=a.location;_=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var k=new jo(null);_&&yd(k,_),d&&(k.g=d),M&&vd(k,M),f&&(k.l=f),_=k}return f=l.D,d=l.ya,f&&d&&Je(_,f,d),Je(_,"VER",l.la),Jc(l,_),_}function BC(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new st(new zc({eb:f})):new st(l.pa),d.Ha(l.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $C(){}n=$C.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dd(){}Dd.prototype.g=function(l,d){return new Cn(l,d)};function Cn(l,d){qt.call(this),this.g=new RC(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!oe(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!oe(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ks(this)}x(Cn,qt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Vg(this.g)},Cn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Tg(l),l=f);d.i.push(new qk(d.Ya++,l)),d.G==3&&Id(d)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Vg(this.g),delete this.g,Cn.aa.N.call(this)};function HC(l){Ag.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}x(HC,Ag);function zC(){xg.call(this),this.status=1}x(zC,xg);function Ks(l){this.g=l}x(Ks,$C),Ks.prototype.ua=function(){on(this.g,"a")},Ks.prototype.ta=function(l){on(this.g,new HC(l))},Ks.prototype.sa=function(l){on(this.g,new zC)},Ks.prototype.ra=function(){on(this.g,"b")},Dd.prototype.createWebChannel=Dd.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,yE=Mi.createWebChannelTransport=function(){return new Dd},gE=Mi.getStatEventTarget=function(){return fd()},mE=Mi.Event=Lo,qp=Mi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pd.NO_ERROR=0,pd.TIMEOUT=8,pd.HTTP_ERROR=6,Ou=Mi.ErrorCode=pd,sC.COMPLETE="complete",pE=Mi.EventType=sC,tC.EventType=Fc,Fc.OPEN="a",Fc.CLOSE="b",Fc.ERROR="c",Fc.MESSAGE="d",qt.prototype.listen=qt.prototype.K,ec=Mi.WebChannel=tC,kH=Mi.FetchXmlHttpFactory=zc,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,fE=Mi.XhrIo=st}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});var mR="@firebase/firestore",gR="4.8.0";var Ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");var Ic="11.10.0";var ks=new Fr("@firebase/firestore");function tc(){return ks.logLevel}function Y(n,...e){if(ks.logLevel<=Se.DEBUG){let t=e.map(sI);ks.debug(`Firestore (${Ic}): ${n}`,...t)}}function Ri(n,...e){if(ks.logLevel<=Se.ERROR){let t=e.map(sI);ks.error(`Firestore (${Ic}): ${n}`,...t)}}function xo(n,...e){if(ks.logLevel<=Se.WARN){let t=e.map(sI);ks.warn(`Firestore (${Ic}): ${n}`,...t)}}function sI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,aP(n,r,t)}function aP(n,e,t){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ri(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||aP(e,i,r)}function ge(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends On{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}},IE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},CE=class{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>b(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new Zp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}},DE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},TE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},SE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function OH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function cP(){return new TextEncoder}var Bu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=OH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function AE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Te(r,i);{let o=cP(),s=FH(o.encode(yR(n,t)),o.encode(yR(e,t)));return s!==0?s:Te(r,i)}}t+=r>65535?2:1}return Te(n.length,e.length)}function yR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function FH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Te(n[t],e[t]);return Te(n.length,e.length)}function lc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var vR="__name__",em=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Te(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):AE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}},nt=class n extends em{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},LH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ln=class n extends em{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return LH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vR}static keyField(){return new n([vR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(nt.fromString(e))}static fromName(e){return new n(nt.fromString(e).popFirst(5))}static empty(){return new n(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new nt(e.slice()))}};function lP(n,e,t){if(!t)throw new K(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VH(n,e,t,r){if(e===!0&&r===!0)throw new K(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _R(n){if(!ie.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bR(n){if(ie.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le(12329,{type:typeof n})}function yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Om(n);throw new K(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function At(n,e){let t={typeString:n};return e&&(t.value=e),t}function Zu(n,e){if(!uP(n))throw new K(L.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new K(L.INVALID_ARGUMENT,t);return!0}var ER=-62135596800,wR=1e6,Be=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*wR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ER)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wR}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-ER;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:At("string",Be._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};var ve=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Be(0,0))}static max(){return new n(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $u=-1,xE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};xE.UNKNOWN_ID=-1;function jH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Be(t+1,0):new Be(t,r));return new Os(i,ie.empty(),e)}function UH(n){return new Os(n.readTime,n.key,$u)}var Os=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),ie.empty(),$u)}static max(){return new n(ve.max(),ie.empty(),$u)}};function BH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var $H="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ME=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cc(n){return b(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==$H)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function HH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dc(n){return n.name==="IndexedDbTransactionError"}var aI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),cI=-1;function Fm(n){return n==null}function Hu(n){return n===0&&1/n==-1/0}function zH(n){return typeof n=="number"&&Number.isInteger(n)&&!Hu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var dP="";function qH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IR(e)),e=WH(n.get(t),e);return IR(e)}function WH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case dP:t+="";break;default:t+=o}}return t}function IR(n){return n+dP+""}var GH="remoteDocuments",hP="owner";var fP="mutationQueues";var pP="mutations";var mP="documentMutations",JH="remoteDocumentsV14";var gP="remoteDocumentGlobal";var yP="targets";var vP="targetDocuments";var _P="targetGlobal",bP="collectionParents";var EP="clientMetadata";var wP="bundles";var IP="namedQueries";var KH="indexConfiguration";var QH="indexState";var YH="indexEntries";var CP="documentOverlays";var ZH="globals";var XH=[fP,pP,mP,GH,yP,hP,_P,vP,EP,gP,bP,wP,IP],Zle=[...XH,CP],e6=[fP,pP,mP,JH,yP,hP,_P,vP,EP,gP,bP,wP,IP,CP],t6=e6,n6=[...t6,KH,QH,YH];var Xle=[...n6,ZH];function CR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ht=class n{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}},oc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$r=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}};$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new $r(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ft=class n{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tm(this.data.getIterator())}getIteratorFrom(e){return new tm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Qn=class n{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ft(Ln.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var nm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nm("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xt.EMPTY_BYTE_STRING=new Xt("");var r6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=r6.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}var TP="server_timestamp",SP="__type__",AP="__previous_value__",xP="__local_write_time__";function lI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[SP])===null||t===void 0?void 0:t.stringValue)===TP}function Lm(n){let e=n.mapValue.fields[AP];return lI(e)?Lm(e):e}function zu(n){let e=Pi(n.mapValue.fields[xP].timestampValue);return new Be(e.seconds,e.nanos)}var RE=class{constructor(e,t,r,i,o,s,a,c,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}},rm="(default)",im=class n{constructor(e,t){this.projectId=e,this.database=t||rm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===rm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var uI="__type__",MP="__max__",Wp={mapValue:{fields:{__type__:{stringValue:MP}}}},dI="__vector__",uc="value";function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lI(n)?4:PP(n)?9007199254740991:RP(n)?10:11:le(28295,{value:n})}function Wr(n,e){if(n===e)return!0;let t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zu(n).isEqual(zu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pi(i.timestampValue),a=Pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ni(i.bytesValue).isEqual(Ni(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?Hu(s)===Hu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(CR(s)!==CR(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Wr(s[c],a[c])))return!1;return!0})(n,e);default:return le(52216,{left:n})}}function qu(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function dc(n,e){if(n===e)return 0;let t=Mo(n),r=Mo(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=tt(o.integerValue||o.doubleValue),c=tt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return DR(n.timestampValue,e.timestampValue);case 4:return DR(zu(n),zu(e));case 5:return AE(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ni(o),c=Ni(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=Te(a[u],c[u]);if(h!==0)return h}return Te(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Te(tt(o.latitude),tt(s.latitude));return a!==0?a:Te(tt(o.longitude),tt(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return TR(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,u,h;let g=o.fields||{},v=s.fields||{},E=(a=g[uc])===null||a===void 0?void 0:a.arrayValue,x=(c=v[uc])===null||c===void 0?void 0:c.arrayValue,F=Te(((u=E?.values)===null||u===void 0?void 0:u.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return F!==0?F:TR(E,x)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Wp.mapValue&&s===Wp.mapValue)return 0;if(o===Wp.mapValue)return 1;if(s===Wp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let g=0;g<c.length&&g<h.length;++g){let v=AE(c[g],h[g]);if(v!==0)return v;let E=dc(a[c[g]],u[h[g]]);if(E!==0)return E}return Te(c.length,h.length)})(n.mapValue,e.mapValue);default:throw le(23264,{le:t})}}function DR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Pi(n),r=Pi(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function TR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=dc(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function hc(n){return PE(n)}function PE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Pi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ni(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=PE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${PE(t.fields[s])}`;return i+"}"})(n.mapValue):le(61005,{value:n})}function Kp(n){switch(Mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Lm(n);return e?16+Kp(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Kp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Oo(r.fields,(o,s)=>{i+=o.length+Kp(s)}),i})(n.mapValue);default:throw le(13486,{value:n})}}function SR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function NE(n){return!!n&&"integerValue"in n}function hI(n){return!!n&&"arrayValue"in n}function AR(n){return!!n&&"nullValue"in n}function xR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qp(n){return!!n&&"mapValue"in n}function RP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uI])===null||t===void 0?void 0:t.stringValue)===dI}function Lu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MP}var tue={mapValue:{fields:{[uI]:{stringValue:dI},[uc]:{arrayValue:{}}}}};var Fn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=Ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Lu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Lu(this.value))}};function NP(n){let e=[];return Oo(n.fields,(t,r)=>{let i=new Ln([t]);if(Qp(r)){let o=NP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Qn(e)}var vr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),Fn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fc=class{constructor(e,t){this.position=e,this.inclusive=t}};function MR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=dc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}var pc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function i6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var om=class{},St=class n extends om{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OE(e,t,r):t==="array-contains"?new VE(e,r):t==="in"?new jE(e,r):t==="not-in"?new UE(e,r):t==="array-contains-any"?new BE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new FE(e,r):new LE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(dc(t,this.value)):t!==null&&Mo(this.value)===Mo(t)&&this.matchesComparison(dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_r=class n extends om{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return kP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function kP(n){return n.op==="and"}function OP(n){return o6(n)&&kP(n)}function o6(n){for(let e of n.filters)if(e instanceof _r)return!1;return!0}function kE(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+hc(n.value);if(OP(n))return n.filters.map(e=>kE(e)).join(",");{let e=n.filters.map(t=>kE(t)).join(",");return`${n.op}(${e})`}}function FP(n,e){return n instanceof St?(function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)})(n,e):n instanceof _r?(function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&FP(s,i.filters[a]),!0):!1})(n,e):void le(19439)}function LP(n){return n instanceof St?(function(t){return`${t.field.canonicalString()} ${t.op} ${hc(t.value)}`})(n):n instanceof _r?(function(t){return t.op.toString()+" {"+t.getFilters().map(LP).join(" ,")+"}"})(n):"Filter"}var OE=class extends St{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},FE=class extends St{constructor(e,t){super(e,"in",t),this.keys=VP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},LE=class extends St{constructor(e,t){super(e,"not-in",t),this.keys=VP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function VP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var VE=class extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return hI(t)&&qu(t.arrayValue,this.value)}},jE=class extends St{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&qu(this.value.arrayValue,t)}},UE=class extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qu(this.value.arrayValue,t)}},BE=class extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!hI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qu(this.value.arrayValue,r))}};var $E=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function PR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new $E(n,e,t,r,i,o,s)}function fI(n){let e=ge(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>kE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Fm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hc(r)).join(",")),e.Pe=t}return e.Pe}function pI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!i6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RR(n.startAt,e.startAt)&&RR(n.endAt,e.endAt)}function HE(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Fs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function s6(n,e,t,r,i,o,s,a){return new Fs(n,e,t,r,i,o,s,a)}function mI(n){return new Fs(n)}function NR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jP(n){return n.collectionGroup!==null}function Vu(n){let e=ge(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ft(Ln.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new pc(o,r))}),t.has(Ln.keyField().canonicalString())||e.Te.push(new pc(Ln.keyField(),r))}return e.Te}function Hr(n){let e=ge(n);return e.Ie||(e.Ie=a6(e,Vu(n))),e.Ie}function a6(n,e){if(n.limitType==="F")return PR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new pc(i.field,o)});let t=n.endAt?new fc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fc(n.startAt.position,n.startAt.inclusive):null;return PR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zE(n,e){let t=n.filters.concat([e]);return new Fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qE(n,e,t){return new Fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vm(n,e){return pI(Hr(n),Hr(e))&&n.limitType===e.limitType}function UP(n){return`${fI(Hr(n))}|lt:${n.limitType}`}function nc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>LP(i)).join(", ")}]`),Fm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>hc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>hc(i)).join(",")),`Target(${r})`})(Hr(n))}; limitType=${n.limitType})`}function jm(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Vu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let u=MR(s,a,c);return s.inclusive?u<=0:u<0})(r.startAt,Vu(r),i)||r.endAt&&!(function(s,a,c){let u=MR(s,a,c);return s.inclusive?u>=0:u>0})(r.endAt,Vu(r),i))})(n,e)}function c6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BP(n){return(e,t)=>{let r=!1;for(let i of Vu(n)){let o=l6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function l6(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?dc(c,u):le(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:n.dir})}}var ki=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return DP(this.inner)}size(){return this.innerSize}};var u6=new ht(ie.comparator);function Oi(){return u6}var $P=new ht(ie.comparator);function Fu(...n){let e=$P;for(let t of n)e=e.insert(t.key,t);return e}function HP(n){let e=$P;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ms(){return ju()}function zP(){return ju()}function ju(){return new ki(n=>n.toString(),(n,e)=>n.isEqual(e))}var d6=new ht(ie.comparator),h6=new Ft(ie.comparator);function Me(...n){let e=h6;for(let t of n)e=e.add(t);return e}var f6=new Ft(Te);function p6(){return f6}function gI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function qP(n){return{integerValue:""+n}}function m6(n,e){return zH(e)?qP(e):gI(n,e)}var mc=class{constructor(){this._=void 0}};function g6(n,e,t){return n instanceof gc?(function(i,o){let s={fields:{[SP]:{stringValue:TP},[xP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lI(o)&&(o=Lm(o)),o&&(s.fields[AP]=o),{mapValue:s}})(t,e):n instanceof Ro?GP(n,e):n instanceof Po?JP(n,e):(function(i,o){let s=WP(i,o),a=kR(s)+kR(i.Ee);return NE(s)&&NE(i.Ee)?qP(a):gI(i.serializer,a)})(n,e)}function y6(n,e,t){return n instanceof Ro?GP(n,e):n instanceof Po?JP(n,e):t}function WP(n,e){return n instanceof yc?(function(r){return NE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var gc=class extends mc{},Ro=class extends mc{constructor(e){super(),this.elements=e}};function GP(n,e){let t=KP(e);for(let r of n.elements)t.some(i=>Wr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Po=class extends mc{constructor(e){super(),this.elements=e}};function JP(n,e){let t=KP(e);for(let r of n.elements)t=t.filter(i=>!Wr(i,r));return{arrayValue:{values:t}}}var yc=class extends mc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function kR(n){return tt(n.integerValue||n.doubleValue)}function KP(n){return hI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var sm=class{constructor(e,t){this.field=e,this.transform=t}};function v6(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ro&&i instanceof Ro||r instanceof Po&&i instanceof Po?lc(r.elements,i.elements,Wr):r instanceof yc&&i instanceof yc?Wr(r.Ee,i.Ee):r instanceof gc&&i instanceof gc})(n.transform,e.transform)}var WE=class{constructor(e,t){this.version=e,this.transformResults=t}},zr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vc=class{};function QP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wu(n.key,zr.none()):new Ls(n.key,n.data,zr.none());{let t=n.data,r=Fn.empty(),i=new Ft(Ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gr(n.key,r,new Qn(i.toArray()),zr.none())}}function _6(n,e,t){n instanceof Ls?(function(i,o,s){let a=i.value.clone(),c=FR(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Gr?(function(i,o,s){if(!Yp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=FR(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(YP(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Uu(n,e,t,r){return n instanceof Ls?(function(o,s,a,c){if(!Yp(o.precondition,s))return a;let u=o.value.clone(),h=LR(o.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof Gr?(function(o,s,a,c){if(!Yp(o.precondition,s))return a;let u=LR(o.fieldTransforms,c,s),h=s.data;return h.setAll(YP(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(n,e,t,r):(function(o,s,a){return Yp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function b6(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=WP(r.transform,i||null);o!=null&&(t===null&&(t=Fn.empty()),t.set(r.field,o))}return t||null}function OR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lc(r,i,(o,s)=>v6(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ls=class extends vc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gr=class extends vc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function YP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function FR(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,y6(s,a,t[i]))}return r}function LR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,g6(o,s,e))}return r}var Wu=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},GE=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var JE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&_6(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Uu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=zP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=QP(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,r)=>OR(t,r))&&lc(this.baseMutations,e.baseMutations,(t,r)=>OR(t,r))}},KE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return d6})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var QE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var YE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Dt,Pe;function E6(n){switch(n){case L.OK:return le(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return le(15467,{code:n})}}function ZP(n){if(n===void 0)return Ri("GRPC error has no .code"),L.UNKNOWN;switch(n){case Dt.OK:return L.OK;case Dt.CANCELLED:return L.CANCELLED;case Dt.UNKNOWN:return L.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return L.INTERNAL;case Dt.UNAVAILABLE:return L.UNAVAILABLE;case Dt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Dt.NOT_FOUND:return L.NOT_FOUND;case Dt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Dt.ABORTED:return L.ABORTED;case Dt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Dt.DATA_LOSS:return L.DATA_LOSS;default:return le(39323,{code:n})}}(Pe=Dt||(Dt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var VR=null;var w6=new xi([4294967295,4294967295],0);function jR(n){let e=cP().encode(n),t=new hE;return t.update(e),new Uint8Array(t.digest())}function UR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xi([t,r],0),new xi([i,o],0)]}var ZE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rs(`Invalid padding: ${t}`);if(r<0)throw new Rs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rs(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=xi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(xi.fromNumber(r)));return i.compare(w6)===1&&(i=new xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=jR(e),[r,i]=UR(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=jR(e),[r,i]=UR(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Rs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var am=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new ht(Te),Oi(),Me())}},Gu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Me(),Me(),Me())}};var sc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},cm=class{constructor(e,t){this.targetId=e,this.De=t}},lm=class{constructor(e,t,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},um=class{constructor(){this.ve=0,this.Ce=BR(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),t=Me(),r=Me();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new Gu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=BR()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},XE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Oi(),this.je=Gp(),this.Je=Gp(),this.He=new ht(Te)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(HE(o))if(r===0){let s=new ie(o.path);this.Xe(t,s,vr.newNoDocument(s,ve.min()))}else Le(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}VR?.ct((function(h,g,v,E,x){var F,O,q,oe,he,$e;let rn={localCacheCount:h,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},Ve=g.unchangedNames;return Ve&&(rn.bloomFilter={applied:x===0,hashCount:(F=Ve?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(oe=(q=(O=Ve?.bits)===null||O===void 0?void 0:O.bitmap)===null||q===void 0?void 0:q.length)!==null&&oe!==void 0?oe:0,padding:($e=(he=Ve?.bits)===null||he===void 0?void 0:he.padding)!==null&&$e!==void 0?$e:0,mightContain:S=>{var I;return(I=E?.mightContain(S))!==null&&I!==void 0&&I}}),rn})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ni(r).toUint8Array()}catch(c){if(c instanceof nm)return xo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ZE(s,i,o)}catch(c){return xo(c instanceof Rs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&HE(a.target)){let c=new ie(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,vr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Me();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new am(e,t,this.He,this.ze,r);return this.ze=Oi(),this.je=Gp(),this.Je=Gp(),this.He=new ht(Te),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new um,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ft(Te),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ft(Te),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new um),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Gp(){return new ht(ie.comparator)}function BR(){return new ht(ie.comparator)}var I6={asc:"ASCENDING",desc:"DESCENDING"},C6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D6={and:"AND",or:"OR"},ew=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function tw(n,e){return n.useProto3Json||Fm(e)?e:{value:e}}function dm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T6(n,e){return dm(n,e.toTimestamp())}function qr(n){return Le(!!n,49232),ve.fromTimestamp((function(t){let r=Pi(t);return new Be(r.seconds,r.nanos)})(n))}function yI(n,e){return nw(n,e).canonicalString()}function nw(n,e){let t=(function(i){return new nt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function eN(n){let e=nt.fromString(n);return Le(oN(e),10190,{key:e.toString()}),e}function rw(n,e){return yI(n.databaseId,e.path)}function vE(n,e){let t=eN(e);if(t.get(1)!==n.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(nN(t))}function tN(n,e){return yI(n.databaseId,e)}function S6(n){let e=eN(n);return e.length===4?nt.emptyPath():nN(e)}function iw(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nN(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $R(n,e,t){return{name:rw(n,e),fields:t.value.mapValue.fields}}function A6(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string",58123),Xt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Xt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let h=u.code===void 0?L.UNKNOWN:ZP(u.code);return new K(h,u.message||"")})(s);t=new lm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vE(n,r.document.name),o=qr(r.document.updateTime),s=r.document.createTime?qr(r.document.createTime):ve.min(),a=new Fn({mapValue:{fields:r.document.fields}}),c=vr.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new sc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vE(n,r.document),o=r.readTime?qr(r.readTime):ve.min(),s=vr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new sc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vE(n,r.document),o=r.removedTargetIds||[];t=new sc([],o,i,null)}else{if(!("filter"in e))return le(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new YE(i,o),a=r.targetId;t=new cm(a,s)}}return t}function x6(n,e){let t;if(e instanceof Ls)t={update:$R(n,e.key,e.value)};else if(e instanceof Wu)t={delete:rw(n,e.key)};else if(e instanceof Gr)t={update:$R(n,e.key,e.data),updateMask:V6(e.fieldMask)};else{if(!(e instanceof GE))return le(16599,{Rt:e.type});t={verify:rw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof gc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw le(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:T6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)})(n,e.precondition)),t}function M6(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?qr(i.updateTime):qr(o);return s.isEqual(ve.min())&&(s=qr(o)),new WE(s,i.transformResults||[])})(t,e))):[]}function R6(n,e){return{documents:[tN(n,e.path)]}}function P6(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tN(n,i);let o=(function(u){if(u.length!==0)return iN(_r.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(h=>(function(v){return{field:rc(v.field),direction:O6(v.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=tw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function N6(n){let e=S6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(g){let v=rN(g);return v instanceof _r&&OP(v)?v.getFilters():[v]})(t.where));let s=[];t.orderBy&&(s=(function(g){return g.map(v=>(function(x){return new pc(ic(x.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v))})(t.orderBy));let a=null;t.limit&&(a=(function(g){let v;return v=typeof g=="object"?g.value:g,Fm(v)?null:v})(t.limit));let c=null;t.startAt&&(c=(function(g){let v=!!g.before,E=g.values||[];return new fc(E,v)})(t.startAt));let u=null;return t.endAt&&(u=(function(g){let v=!g.before,E=g.values||[];return new fc(E,v)})(t.endAt)),s6(e,i,s,o,a,"F",c,u)}function k6(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ic(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ic(t.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ic(t.unaryFilter.field);return St.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ic(t.unaryFilter.field);return St.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}})(n):n.fieldFilter!==void 0?(function(t){return St.create(ic(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _r.create(t.compositeFilter.filters.map(r=>rN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}})(t.compositeFilter.op))})(n):le(30097,{filter:n})}function O6(n){return I6[n]}function F6(n){return C6[n]}function L6(n){return D6[n]}function rc(n){return{fieldPath:n.canonicalString()}}function ic(n){return Ln.fromServerFormat(n.fieldPath)}function iN(n){return n instanceof St?(function(t){if(t.op==="=="){if(xR(t.value))return{unaryFilter:{field:rc(t.field),op:"IS_NAN"}};if(AR(t.value))return{unaryFilter:{field:rc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xR(t.value))return{unaryFilter:{field:rc(t.field),op:"IS_NOT_NAN"}};if(AR(t.value))return{unaryFilter:{field:rc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(t.field),op:F6(t.op),value:t.value}}})(n):n instanceof _r?(function(t){let r=t.getFilters().map(i=>iN(i));return r.length===1?r[0]:{compositeFilter:{op:L6(t.op),filters:r}}})(n):le(54877,{filter:n})}function V6(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ju=class n{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=Xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ow=class{constructor(e){this.gt=e}};function j6(n){let e=N6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qE(e,e.limit,"L"):e}var hm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(tt(e.integerValue));else if("doubleValue"in e){let r=tt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Hu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Pi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ni(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?PP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):RP(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):le(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=uc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(tt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ie.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};hm.Ut=new hm;var sw=class{constructor(){this.Dn=new aw}addToCollectionParentIndex(e,t){return this.Dn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Os.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},aw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ft(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(nt.comparator)).toArray()}};var nue=new Uint8Array(0);var HR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sN=41943040,Kn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(sN,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);var Ku=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var zR="LruGarbageCollector",U6=1048576;function qR([n,e],[t,r]){let i=Te(n,t);return i===0?Te(e,r):i}var cw=class{constructor(e){this.Tr=e,this.buffer=new Ft(qR),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();qR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},lw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Y(zR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dc(t)?Y(zR,"Ignoring IndexedDB error during garbage collection: ",t):yield Cc(t)}yield this.Rr(3e5)}))}},uw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return $.resolve(aI.ue);let r=new cw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(HR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HR):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),tc()<=Se.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function B6(n,e){return new uw(n,e)}var dw=class{constructor(){this.changes=new ki(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var fw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Uu(r.mutation,i,Qn.empty(),Be.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){let i=Ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Fu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Oi(),s=ju(),a=(function(){return ju()})();return t.forEach((c,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Gr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Uu(h.mutation,u,h.mutation.getFieldMask(),Be.now())):s.set(u.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var g;return a.set(u,new hw(h,(g=s.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ju(),i=new ht((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let h=r.get(c)||Qn.empty();h=a.applyToLocalView(u,h),r.set(c,h);let g=(i.get(a.batchId)||Me()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,g=zP();h.forEach(v=>{if(!o.has(v)){let E=QP(t.get(v),r.get(v));E!==null&&g.set(v,E),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(Ms()),a=$u,c=o;return s.next(u=>$.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Me())).next(h=>({batchId:a,changes:HP(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=Fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Fu();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,c=>{let u=(function(g,v){return new Fs(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,vr.newInvalidDocument(h)))});let a=Fu();return s.forEach((c,u)=>{let h=o.get(c);h!==void 0&&Uu(h.mutation,u,Qn.empty(),Be.now()),jm(t,u)&&(a=a.insert(c,u))}),a})}};var pw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return $.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}})(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:j6(i.bundledQuery),readTime:qr(i.readTime)}})(t)),$.resolve()}};var mw=class{constructor(){this.overlays=new ht(ie.comparator),this.kr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ms();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){let i=Ms(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ht((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Ms(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Ms(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return $.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QE(t,r));let o=this.kr.get(t);o===void 0&&(o=Me(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var gw=class{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var Qu=class{constructor(){this.qr=new Ft(Tt.Qr),this.$r=new Ft(Tt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Tt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Tt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ie(new nt([])),r=new Tt(t,e),i=new Tt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ie(new nt([])),r=new Tt(t,e),i=new Tt(t,e+1),o=Me();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Tt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Tt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ie.comparator(e.key,t.key)||Te(e.Hr,t.Hr)}static Ur(e,t){return Te(e.Hr,t.Hr)||ie.comparator(e.key,t.key)}};var yw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ft(Tt.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new JE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?cI:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Tt(t,0),i=new Tt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Te);return t.forEach(i=>{let o=new Tt(i,0),s=new Tt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),$.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new Tt(new ie(o),0),a=new Ft(Te);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),$.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $.forEach(t.mutations,i=>{let o=new Tt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Tt(t,0),i=this.Yr.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var vw=class{constructor(e){this.ni=e,this.docs=(function(){return new ht(ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vr.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Oi(),s=t.path,a=new ie(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||BH(UH(h),r)<=0||(i.has(h.key)||jm(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){le(9500)}ri(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _w(this)}getSize(e){return $.resolve(this.size)}},_w=class extends dw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var bw=class{constructor(e){this.persistence=e,this.ii=new ki(t=>fI(t),pI),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.si=0,this.oi=new Qu,this.targetCount=0,this._i=Ku.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),$.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Ku(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.hr(t),$.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.oi.containsKey(t))}};var fm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new aI(0),this.ci=!1,this.ci=!0,this.li=new gw,this.referenceDelegate=e(this),this.hi=new bw(this),this.indexManager=new sw,this.remoteDocumentCache=(function(i){return new vw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new ow(t),this.Ti=new pw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new yw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new Ew(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return $.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Ew=class extends ME{constructor(e){super(),this.currentSequenceNumber=e}},ww=class n{constructor(e){this.persistence=e,this.Ai=new Qu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw le(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),$.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,r=>{let i=ie.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return $.or([()=>$.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},pm=class n{constructor(e,t){this.persistence=e,this.gi=new ki(r=>qH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=B6(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return $.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?$.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ve.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kp(e.data.value)),t}Sr(e,t,r){return $.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Iw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Me(),i=Me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Cw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return P1()?8:HH(kt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Cw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(tc()<=Se.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",nc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(tc()<=Se.DEBUG&&Y("QueryEngine","Query:",nc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(tc()<=Se.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",nc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):$.resolve())}ps(e,t){if(NR(t))return $.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qE(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Me(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,qE(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return NR(t)||i.isEqual(ve.min())?$.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?$.resolve(null):(tc()<=Se.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nc(t)),this.vs(e,s,t,jH(i,$u)).next(a=>a))})}bs(e,t){let r=new Ft(BP(e));return t.forEach((i,o)=>{jm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return tc()<=Se.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",nc(t)),this.gs.getDocumentsMatchingQuery(e,t,Os.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vI="LocalStore",$6=3e8,Tw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ht(Te),this.Ms=new ki(o=>fI(o),pI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function H6(n,e,t,r){return new Tw(n,e,t,r)}function aN(n,e){return b(this,null,function*(){let t=ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Me();for(let u of i){s.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function z6(n,e){let t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,h){let g=u.batch,v=g.keys(),E=$.resolve();return v.forEach(x=>{E=E.next(()=>h.getEntry(c,x)).next(F=>{let O=u.docVersions.get(x);Le(O!==null,48541),F.version.compareTo(O)<0&&(g.applyToRemoteDocument(F,u),F.isValidDocument()&&(F.setReadTime(u.commitVersion),h.addEntry(F)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(c,g))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cN(n){let e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function q6(n,e){let t=ge(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,g)=>{let v=i.get(g);if(!v)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,g).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,g)));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Xt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(g,E),(function(F,O,q){return F.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=$6?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(v,E,h)&&a.push(t.hi.updateTargetData(o,E))});let c=Oi(),u=Me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(W6(o,s,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(ve.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(g=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function W6(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Oi();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Y(vI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function G6(n,e){let t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J6(n,e){let t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Ju(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Sw(n,e,t){return b(this,null,function*(){let r=ge(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Dc(s))throw s;Y(vI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function WR(n,e,t){let r=ge(n),i=ve.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,u,h){let g=ge(c),v=g.Ms.get(h);return v!==void 0?$.resolve(g.Fs.get(v)):g.hi.getTargetData(u,h)})(r,s,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:Me())).next(a=>(K6(r,c6(e),a),{documents:a,qs:o})))}function K6(n,e,t){let r=n.xs.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var mm=class{constructor(){this.activeTargetIds=p6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Aw=class{constructor(){this.Fo=new mm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new mm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xw=class{xo(e){}shutdown(){}};var GR="ConnectivityMonitor",gm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Y(GR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){Y(GR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Jp=null;function Mw(){return Jp===null?Jp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jp++,"0x"+Jp.toString(16)}var _E="RestConnection",Q6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Rw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===rm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Mw(),a=this.Go(e,t.toUriEncodedString());Y(_E,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),h=mo(u);return this.jo(e,a,c,r,h).then(g=>(Y(_E,`Received RPC '${e}' ${s}: `,g),g),g=>{throw xo(_E,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Q6[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Pw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Zt="WebChannelConnection",Nw=class extends Rw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Mw();return new Promise((a,c)=>{let u=new fE;u.setWithCredentials(!0),u.listenOnce(pE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ou.NO_ERROR:let g=u.getResponseJson();Y(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Ou.TIMEOUT:Y(Zt,`RPC '${e}' ${s} timed out`),c(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:let v=u.getStatus();if(Y(Zt,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let E=u.getResponseJson();Array.isArray(E)&&(E=E[0]);let x=E?.error;if(x&&x.status&&x.message){let F=(function(q){let oe=q.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(oe)>=0?oe:L.UNKNOWN})(x.status);c(new K(F,x.message))}else c(new K(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new K(L.UNAVAILABLE,"Connection failed."));break;default:le(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Y(Zt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);Y(Zt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Mw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yE(),a=gE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");Y(Zt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let g=s.createWebChannel(h,c);this.T_(g);let v=!1,E=!1,x=new Pw({Ho:O=>{E?Y(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(Y(Zt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Y(Zt,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Yo:()=>g.close()}),F=(O,q,oe)=>{O.listen(q,he=>{try{oe(he)}catch($e){setTimeout(()=>{throw $e},0)}})};return F(g,ec.EventType.OPEN,()=>{E||(Y(Zt,`RPC '${e}' stream ${i} transport opened.`),x.s_())}),F(g,ec.EventType.CLOSE,()=>{E||(E=!0,Y(Zt,`RPC '${e}' stream ${i} transport closed`),x.__(),this.I_(g))}),F(g,ec.EventType.ERROR,O=>{E||(E=!0,xo(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),x.__(new K(L.UNAVAILABLE,"The operation could not be completed")))}),F(g,ec.EventType.MESSAGE,O=>{var q;if(!E){let oe=O.data[0];Le(!!oe,16349);let he=oe,$e=he?.error||((q=he[0])===null||q===void 0?void 0:q.error);if($e){Y(Zt,`RPC '${e}' stream ${i} received error:`,$e);let rn=$e.status,Ve=(function(D){let T=Dt[D];if(T!==void 0)return ZP(T)})(rn),S=$e.message;Ve===void 0&&(Ve=L.INTERNAL,S="Unknown error status: "+rn+" with message "+$e.message),E=!0,x.__(new K(Ve,S)),g.close()}else Y(Zt,`RPC '${e}' stream ${i} received:`,oe),x.a_(oe)}}),F(a,mE.STAT_EVENT,O=>{O.stat===qp.PROXY?Y(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===qp.NOPROXY&&Y(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function bE(){return typeof document<"u"?document:null}function Um(n){return new ew(n,!0)}var ym=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var JR="PersistentStream",vm=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ym(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return b(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return b(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return b(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new K(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>b(this,null,function*(){this.state=0,this.start()}))}G_(e){return Y(JR,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Y(JR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kw=class extends vm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=A6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?qr(s.readTime):ve.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=iw(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=HE(c)?{documents:R6(o,c)}:{query:P6(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=XP(o,s.resumeToken);let u=tw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=dm(o,s.snapshotVersion.toTimestamp());let u=tw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=k6(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=iw(this.serializer),t.removeTarget=e,this.k_(t)}},Ow=class extends vm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=M6(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=iw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>x6(this.serializer,r))};this.k_(t)}};var Fw=class{},Lw=class extends Fw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,nw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(L.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,nw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(L.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Vw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ri(t),this._a=!1):Y("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Vs="RemoteStore",jw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Us(this)&&(Y(Vs,"Restarting streams for network reachability change."),yield(function(c){return b(this,null,function*(){let u=ge(c);u.Ia.add(4),yield Xu(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Bm(u)})})(this))}))}),this.Aa=new Vw(r,i)}};function Bm(n){return b(this,null,function*(){if(Us(n))for(let e of n.da)yield e(!0)})}function Xu(n){return b(this,null,function*(){for(let e of n.da)yield e(!1)})}function lN(n,e){let t=ge(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),wI(t)?EI(t):Tc(t).x_()&&bI(t,e))}function _I(n,e){let t=ge(n),r=Tc(t);t.Ta.delete(e),r.x_()&&uN(t,e),t.Ta.size===0&&(r.x_()?r.B_():Us(t)&&t.Aa.set("Unknown"))}function bI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tc(n).H_(e)}function uN(n,e){n.Ra.$e(e),Tc(n).Y_(e)}function EI(n){n.Ra=new XE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Tc(n).start(),n.Aa.aa()}function wI(n){return Us(n)&&!Tc(n).M_()&&n.Ta.size>0}function Us(n){return ge(n).Ia.size===0}function dN(n){n.Ra=void 0}function Y6(n){return b(this,null,function*(){n.Aa.set("Online")})}function Z6(n){return b(this,null,function*(){n.Ta.forEach((e,t)=>{bI(n,e)})})}function X6(n,e){return b(this,null,function*(){dN(n),wI(n)?(n.Aa.la(e),EI(n)):n.Aa.set("Unknown")})}function e8(n,e,t){return b(this,null,function*(){if(n.Aa.set("Online"),e instanceof lm&&e.state===2&&e.cause)try{yield(function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){Y(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _m(n,r)}else if(e instanceof sc?n.Ra.Ye(e):e instanceof cm?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ve.min()))try{let r=yield cN(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ta.get(u);h&&o.Ta.set(u,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(Xt.EMPTY_BYTE_STRING,h.snapshotVersion)),uN(o,c);let g=new Ju(h.target,c,u,h.sequenceNumber);bI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){Y(Vs,"Failed to raise snapshot:",r),yield _m(n,r)}})}function _m(n,e,t){return b(this,null,function*(){if(!Dc(e))throw e;n.Ia.add(1),yield Xu(n),n.Aa.set("Offline"),t||(t=()=>cN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){Y(Vs,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Bm(n)}))})}function hN(n,e){return e().catch(t=>_m(n,t,e))}function $m(n){return b(this,null,function*(){let e=ge(n),t=No(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cI;for(;t8(e);)try{let i=yield G6(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,n8(e,i)}catch(i){yield _m(e,i)}fN(e)&&pN(e)})}function t8(n){return Us(n)&&n.Pa.length<10}function n8(n,e){n.Pa.push(e);let t=No(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function fN(n){return Us(n)&&!No(n).M_()&&n.Pa.length>0}function pN(n){No(n).start()}function r8(n){return b(this,null,function*(){No(n).na()})}function i8(n){return b(this,null,function*(){let e=No(n);for(let t of n.Pa)e.X_(t.mutations)})}function o8(n,e,t){return b(this,null,function*(){let r=n.Pa.shift(),i=KE.from(r,e,t);yield hN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $m(n)})}function s8(n,e){return b(this,null,function*(){e&&No(n).Z_&&(yield(function(r,i){return b(this,null,function*(){if((function(s){return E6(s)&&s!==L.ABORTED})(i.code)){let o=r.Pa.shift();No(r).N_(),yield hN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $m(r)}})})(n,e)),fN(n)&&pN(n)})}function KR(n,e){return b(this,null,function*(){let t=ge(n);t.asyncQueue.verifyOperationInProgress(),Y(Vs,"RemoteStore received new credentials");let r=Us(t);t.Ia.add(3),yield Xu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Bm(t)})}function a8(n,e){return b(this,null,function*(){let t=ge(n);e?(t.Ia.delete(2),yield Bm(t)):e||(t.Ia.add(2),yield Xu(t),t.Aa.set("Unknown"))})}function Tc(n){return n.Va||(n.Va=(function(t,r,i){let o=ge(t);return o.ia(),new kw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:Y6.bind(null,n),e_:Z6.bind(null,n),n_:X6.bind(null,n),J_:e8.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.Va.N_(),wI(n)?EI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),dN(n))}))),n.Va}function No(n){return n.ma||(n.ma=(function(t,r,i){let o=ge(t);return o.ia(),new Ow(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:r8.bind(null,n),n_:s8.bind(null,n),ea:i8.bind(null,n),ta:o8.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.ma.N_(),yield $m(n)):(yield n.ma.stop(),n.Pa.length>0&&(Y(Vs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Uw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function II(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),Dc(n))return new K(L.UNAVAILABLE,`${e}: ${n}`);throw n}var bm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=Fu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Em=class{constructor(){this.fa=new ht(ie.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):le(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},_c=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,bm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Bw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},$w=class{constructor(){this.queries=QR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ge(t),o=i.queries;i.queries=QR(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new K(L.ABORTED,"Firestore shutting down"))}};function QR(){return new ki(n=>UP(n),Vm)}function mN(n,e){return b(this,null,function*(){let t=ge(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Bw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=II(s,`Initialization of query '${nc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&CI(t)})}function gN(n,e){return b(this,null,function*(){let t=ge(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function c8(n,e){let t=ge(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&CI(t)}function l8(n,e,t){let r=ge(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function CI(n){n.Da.forEach(e=>{e.next()})}var Hw,YR;(YR=Hw||(Hw={})).Fa="default",YR.Cache="cache";var wm=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Hw.Cache}};var Im=class{constructor(e){this.key=e}},Cm=class{constructor(e){this.key=e}},zw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=BP(e),this.eu=new bm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Em,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{let v=i.get(h),E=jm(this.query,g)?g:null,x=!!v&&this.mutatedKeys.has(v.key),F=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),O=!1;v&&E?v.data.isEqual(E.data)?x!==F&&(r.track({type:3,doc:E}),O=!0):this.iu(v,E)||(r.track({type:2,doc:E}),O=!0,(c&&this.Xa(E,c)>0||u&&this.Xa(E,u)<0)&&(a=!0)):!v&&E?(r.track({type:0,doc:E}),O=!0):v&&!E&&(r.track({type:1,doc:v}),O=!0,(c||u)&&(a=!0)),O&&(E?(s=s.add(E),o=F?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,g)=>(function(E,x){let F=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{At:O})}};return F(E)-F(x)})(h.type,g.type)||this.Xa(h.doc,g.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new _c(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Em,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Cm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Im(r))}),t}uu(e){this.Ha=e.qs,this.Za=Me();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return _c.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},DI="SyncEngine",qw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Ww=class{constructor(e){this.key=e,this.lu=!1}},Gw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ki(a=>UP(a),Vm),this.Tu=new Map,this.Iu=new Set,this.du=new ht(ie.comparator),this.Eu=new Map,this.Au=new Qu,this.Ru={},this.Vu=new Map,this.mu=Ku.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function u8(n,e,t=!0){return b(this,null,function*(){let r=wN(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield yN(r,e,t,!0),i})}function d8(n,e){return b(this,null,function*(){let t=wN(n);yield yN(t,e,!0,!1)})}function yN(n,e,t,r){return b(this,null,function*(){let i=yield J6(n.localStore,Hr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield h8(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lN(n.remoteStore,i),a})}function h8(n,e,t,r,i){return b(this,null,function*(){n.gu=(g,v,E)=>(function(F,O,q,oe){return b(this,null,function*(){let he=O.view.nu(q);he.Ds&&(he=yield WR(F.localStore,O.query,!1).then(({documents:S})=>O.view.nu(S,he)));let $e=oe&&oe.targetChanges.get(O.targetId),rn=oe&&oe.targetMismatches.get(O.targetId)!=null,Ve=O.view.applyChanges(he,F.isPrimaryClient,$e,rn);return XR(F,O.targetId,Ve._u),Ve.snapshot})})(n,g,v,E);let o=yield WR(n.localStore,e,!0),s=new zw(e,o.qs),a=s.nu(o.documents),c=Gu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);XR(n,t,u._u);let h=new qw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function f8(n,e,t){return b(this,null,function*(){let r=ge(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Vm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Sw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_I(r.remoteStore,i.targetId),Jw(r,i.targetId)}).catch(Cc))):(Jw(r,i.targetId),yield Sw(r.localStore,i.targetId,!0))})}function p8(n,e){return b(this,null,function*(){let t=ge(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_I(t.remoteStore,r.targetId))})}function m8(n,e,t){return b(this,null,function*(){let r=w8(n);try{let i=yield(function(s,a){let c=ge(s),u=Be.now(),h=a.reduce((E,x)=>E.add(x.key),Me()),g,v;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=Oi(),F=Me();return c.Os.getEntries(E,h).next(O=>{x=O,x.forEach((q,oe)=>{oe.isValidDocument()||(F=F.add(q))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,x)).next(O=>{g=O;let q=[];for(let oe of a){let he=b6(oe,g.get(oe.key).overlayedDocument);he!=null&&q.push(new Gr(oe.key,he,NP(he.value.mapValue),zr.exists(!0)))}return c.mutationQueue.addMutationBatch(E,u,q,a)}).next(O=>{v=O;let q=O.applyToLocalDocumentSet(g,F);return c.documentOverlayCache.saveOverlays(E,O.batchId,q)})}).then(()=>({batchId:v.batchId,changes:HP(g)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new ht(Te)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,t),yield ed(r,i.changes),yield $m(r.remoteStore)}catch(i){let o=II(i,"Failed to persist write");t.reject(o)}})}function vN(n,e){return b(this,null,function*(){let t=ge(n);try{let r=yield q6(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Le(s.lu,14607):i.removedDocuments.size>0&&(Le(s.lu,42227),s.lu=!1))}),yield ed(t,r,e)}catch(r){yield Cc(r)}})}function ZR(n,e,t){let r=ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=ge(s);c.onlineState=a;let u=!1;c.queries.forEach((h,g)=>{for(let v of g.wa)v.va(a)&&(u=!0)}),u&&CI(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function g8(n,e,t){return b(this,null,function*(){let r=ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ht(ie.comparator);s=s.insert(o,vr.newNoDocument(o,ve.min()));let a=Me().add(o),c=new am(ve.min(),new Map,new ht(Te),s,a);yield vN(r,c),r.du=r.du.remove(o),r.Eu.delete(e),TI(r)}else yield Sw(r.localStore,e,!1).then(()=>Jw(r,e,t)).catch(Cc)})}function y8(n,e){return b(this,null,function*(){let t=ge(n),r=e.batch.batchId;try{let i=yield z6(t.localStore,e);bN(t,r,null),_N(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ed(t,i)}catch(i){yield Cc(i)}})}function v8(n,e,t){return b(this,null,function*(){let r=ge(n);try{let i=yield(function(s,a){let c=ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(g=>(Le(g!==null,37113),h=g.keys(),c.mutationQueue.removeMutationBatch(u,g))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})})(r.localStore,e);bN(r,e,t),_N(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ed(r,i)}catch(i){yield Cc(i)}})}function _N(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function bN(n,e,t){let r=ge(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Jw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||EN(n,r)})}function EN(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(_I(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),TI(n))}function XR(n,e,t){for(let r of t)r instanceof Im?(n.Au.addReference(r.key,e),_8(n,r)):r instanceof Cm?(Y(DI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||EN(n,r.key)):le(19791,{yu:r})}function _8(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Y(DI,"New document in limbo: "+t),n.Iu.add(r),TI(n))}function TI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ie(nt.fromString(e)),r=n.mu.next();n.Eu.set(r,new Ww(t)),n.du=n.du.insert(t,r),lN(n.remoteStore,new Ju(Hr(mI(t.path)),r,"TargetPurposeLimboResolution",aI.ue))}}function ed(n,e,t){return b(this,null,function*(){let r=ge(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let g=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(u){i.push(u);let g=Iw.Es(c.targetId,u);o.push(g)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,u){return b(this,null,function*(){let h=ge(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>$.forEach(u,v=>$.forEach(v.Is,E=>h.persistence.referenceDelegate.addReference(g,v.targetId,E)).next(()=>$.forEach(v.ds,E=>h.persistence.referenceDelegate.removeReference(g,v.targetId,E)))))}catch(g){if(!Dc(g))throw g;Y(vI,"Failed to update sequence numbers: "+g)}for(let g of u){let v=g.targetId;if(!g.fromCache){let E=h.Fs.get(v),x=E.snapshotVersion,F=E.withLastLimboFreeSnapshotVersion(x);h.Fs=h.Fs.insert(v,F)}}})})(r.localStore,o))})}function b8(n,e){return b(this,null,function*(){let t=ge(n);if(!t.currentUser.isEqual(e)){Y(DI,"User change. New user:",e.toKey());let r=yield aN(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new K(L.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ed(t,r.Bs)}})}function E8(n,e){let t=ge(n),r=t.Eu.get(e);if(r&&r.lu)return Me().add(r.key);{let i=Me(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function wN(n){let e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g8.bind(null,e),e.hu.J_=c8.bind(null,e.eventManager),e.hu.pu=l8.bind(null,e.eventManager),e}function w8(n){let e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v8.bind(null,e),e}var IN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Um(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return H6(this.persistence,new Dw,t.initialUser,this.serializer)}Du(t){return new fm(ww.Vi,this.serializer)}bu(t){return new Aw}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Kw=class extends IN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof pm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new lw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new fm(r=>pm.Vi(r,t),this.serializer)}};var I8=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=b8.bind(null,this.syncEngine),yield a8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new $w})()}createDatastore(t){let r=Um(t.databaseInfo.databaseId),i=(function(s){return new Nw(s)})(t.databaseInfo);return(function(s,a,c,u){return new Lw(s,a,c,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new jw(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>ZR(this.syncEngine,r,0),(function(){return gm.C()?new gm:new xw})())}createSyncEngine(t,r){return(function(o,s,a,c,u,h,g){let v=new Gw(o,s,a,c,u,h);return g&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield(function(o){return b(this,null,function*(){let s=ge(o);Y(Vs,"RemoteStore shutting down."),s.Ia.add(5),yield Xu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Dm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ko="FirestoreClient",Qw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=Bu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){Y(ko,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Y(ko,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=II(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function EE(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y(ko,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield aN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{xo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Y("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{xo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function eP(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield C8(n);Y(ko,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>KR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>KR(e.remoteStore,i)),n._onlineComponents=e})}function C8(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(ko,"Using user provided OfflineComponentProvider");try{yield EE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;xo("Error using user provided cache. Falling back to memory cache: "+t),yield EE(n,new IN)}}else Y(ko,"Using default OfflineComponentProvider"),yield EE(n,new Kw(void 0));return n._offlineComponents})}function CN(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(ko,"Using user provided OnlineComponentProvider"),yield eP(n,n._uninitializedComponentsProvider._online)):(Y(ko,"Using default OnlineComponentProvider"),yield eP(n,new I8))),n._onlineComponents})}function D8(n){return CN(n).then(e=>e.syncEngine)}function DN(n){return b(this,null,function*(){let e=yield CN(n),t=e.eventManager;return t.onListen=u8.bind(null,e.syncEngine),t.onUnlisten=f8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=d8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=p8.bind(null,e.syncEngine),t})}function T8(n,e,t={}){let r=new gr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return(function(o,s,a,c,u){let h=new Dm({next:v=>{h.Ou(),s.enqueueAndForget(()=>gN(o,g));let E=v.docs.has(a);!E&&v.fromCache?u.reject(new K(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&c&&c.source==="server"?u.reject(new K(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new wm(mI(a.path),h,{includeMetadataChanges:!0,ka:!0});return mN(o,g)})(yield DN(n),n.asyncQueue,e,t,r)})),r.promise}function S8(n,e,t={}){let r=new gr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return(function(o,s,a,c,u){let h=new Dm({next:v=>{h.Ou(),s.enqueueAndForget(()=>gN(o,g)),v.fromCache&&c.source==="server"?u.reject(new K(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new wm(a,h,{includeMetadataChanges:!0,ka:!0});return mN(o,g)})(yield DN(n),n.asyncQueue,e,t,r)})),r.promise}function TN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var tP=new Map;var SN="firestore.googleapis.com",nP=!0,Tm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SN,this.ssl=nP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U6)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wE;switch(r.type){case"firstParty":return new TE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=tP.get(t);r&&(Y("ComponentProvider","Removing Datastore"),tP.delete(t),r.terminate())})(this),Promise.resolve()}};function AN(n,e,t,r={}){var i;n=yr(n,bc);let o=mo(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(pp(`https://${c}`),mp("Firestore",!0)),s.host!==SN&&s.host!==c&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Jn(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Ot.MOCK_USER;else{h=T1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ot(v)}n._authCredentials=new IE(new Zp(h,g))}}var Ec=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Lt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zu(t,n._jsonSchema))return new n(e,r||null,new ie(nt.fromString(t.referencePath)))}};Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:At("string",Lt._jsonSchemaVersion),referencePath:At("string")};var Do=class n extends Ec{constructor(e,t,r){super(e,t,mI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function xN(n,e,...t){if(n=Xe(n),lP("collection","path",e),n instanceof bc){let r=nt.fromString(e,...t);return bR(r),new Do(n,null,r)}{if(!(n instanceof Lt||n instanceof Do))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return bR(r),new Do(n.firestore,null,r)}}function SI(n,e,...t){if(n=Xe(n),arguments.length===1&&(e=Bu.newId()),lP("doc","path",e),n instanceof bc){let r=nt.fromString(e,...t);return _R(r),new Lt(n,null,new ie(r))}{if(!(n instanceof Lt||n instanceof Do))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return _R(r),new Lt(n.firestore,n instanceof Do?n.converter:null,new ie(r))}}var rP="AsyncQueue",Sm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ym(this,"async_queue_retry"),this.oc=()=>{let r=bE();r&&Y(rP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=bE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=bE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Dc(e))throw e;Y(rP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ri("INTERNAL UNHANDLED ERROR: ",iP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Uw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&le(47125,{hc:iP(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function iP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Fi=class extends bc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sm(e),this._firestoreClient=void 0,yield e}})}};function MN(n,e){let t=typeof n=="object"?n:Cs(),r=typeof n=="string"?n:e||rm,i=Ja(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=D1("firestore");o&&AN(i,...o)}return i}function AI(n){if(n._terminated)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||A8(n),n._firestoreClient}function A8(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,u,h){return new RE(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Qw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var To=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Xt.fromBase64String(e))}catch(t){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};To._jsonSchemaVersion="firestore/bytes/1.0",To._jsonSchema={type:At("string",To._jsonSchemaVersion),bytes:At("string")};var wc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var js=class{constructor(e){this._methodName=e}};var So=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Zu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};So._jsonSchemaVersion="firestore/geoPoint/1.0",So._jsonSchema={type:At("string",So._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};var Ao=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new K(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ao._jsonSchemaVersion="firestore/vectorValue/1.0",Ao._jsonSchema={type:At("string",Ao._jsonSchemaVersion),vectorValues:At("object")};var x8=/^__.*__$/,Yw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ls(e,this.data,t,this.fieldTransforms)}},Am=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function RN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ec:n})}}var xm=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(RN(this.Ec)&&x8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Zw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Um(e)}Dc(e,t,r,i=!1){return new xm({Ec:e,methodName:t,bc:r,path:Ln.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hm(n){let e=n._freezeSettings(),t=Um(n._databaseId);return new Zw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PN(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);xI("Data must be an object, but it was:",s,r);let a=kN(r,s),c,u;if(o.merge)c=new Qn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let g of o.mergeFields){let v=tI(e,g,t);if(!s.contains(v))throw new K(L.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);FN(h,v)||h.push(v)}c=new Qn(h),u=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,u=s.fieldTransforms;return new Yw(new Fn(a),c,u)}var Mm=class n extends js{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function NN(n,e,t){return new xm({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Xw=class n extends js{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=NN(this,e,!0),r=this.vc.map(o=>Bs(o,t)),i=new Ro(r);return new sm(e.path,i)}isEqual(e){return e instanceof n&&Jn(this.vc,e.vc)}},eI=class n extends js{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=NN(this,e,!0),r=this.vc.map(o=>Bs(o,t)),i=new Po(r);return new sm(e.path,i)}isEqual(e){return e instanceof n&&Jn(this.vc,e.vc)}};function M8(n,e,t,r){let i=n.Dc(1,e,t);xI("Data must be an object, but it was:",i,r);let o=[],s=Fn.empty();Oo(r,(c,u)=>{let h=MI(e,c,t);u=Xe(u);let g=i.gc(h);if(u instanceof Mm)o.push(h);else{let v=Bs(u,g);v!=null&&(o.push(h),s.set(h,v))}});let a=new Qn(o);return new Am(s,a,i.fieldTransforms)}function R8(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[tI(e,r,t)],c=[i];if(o.length%2!=0)throw new K(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(tI(e,o[v])),c.push(o[v+1]);let u=[],h=Fn.empty();for(let v=a.length-1;v>=0;--v)if(!FN(u,a[v])){let E=a[v],x=c[v];x=Xe(x);let F=s.gc(E);if(x instanceof Mm)u.push(E);else{let O=Bs(x,F);O!=null&&(u.push(E),h.set(E,O))}}let g=new Qn(u);return new Am(h,g,s.fieldTransforms)}function P8(n,e,t,r=!1){return Bs(t,n.Dc(r?4:3,e))}function Bs(n,e){if(ON(n=Xe(n)))return xI("Unsupported field value:",e,n),kN(n,e);if(n instanceof js)return(function(r,i){if(!RN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=Bs(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Be.fromDate(r);return{timestampValue:dm(i.serializer,o)}}if(r instanceof Be){let o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dm(i.serializer,o)}}if(r instanceof So)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof To)return{bytesValue:XP(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ao)return(function(s,a){return{mapValue:{fields:{[uI]:{stringValue:dI},[uc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return gI(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Om(r)}`)})(n,e)}function kN(n,e){let t={};return DP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,(r,i)=>{let o=Bs(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ON(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Be||n instanceof So||n instanceof To||n instanceof Lt||n instanceof js||n instanceof Ao)}function xI(n,e,t){if(!ON(t)||!uP(t)){let r=Om(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function tI(n,e,t){if((e=Xe(e))instanceof wc)return e._internalPath;if(typeof e=="string")return MI(n,e);throw Rm("Field path arguments must be of type string or ",n,!1,void 0,t)}var N8=new RegExp("[~\\*/\\[\\]]");function MI(n,e,t){if(e.search(N8)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wc(...e.split("."))._internalPath}catch{throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new K(L.INVALID_ARGUMENT,a+n+c)}function FN(n,e){return n.some(t=>t.isEqual(e))}var Pm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(RI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},nI=class extends Pm{data(){return super.data()}};function RI(n,e){return typeof e=="string"?MI(n,e):e instanceof wc?e._internalPath:e._delegate._internalPath}function k8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yu=class{},rI=class extends Yu{};function LN(n,e,...t){let r=[];e instanceof Yu&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof iI).length,a=o.filter(c=>c instanceof Nm).length;if(s>1||s>0&&a>0)throw new K(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Nm=class n extends rI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return jN(e._query,t),new Ec(e.firestore,e.converter,zE(e._query,t))}_parse(e){let t=Hm(e.firestore);return(function(o,s,a,c,u,h,g){let v;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){sP(g,h);let x=[];for(let F of g)x.push(oP(c,o,F));v={arrayValue:{values:x}}}else v=oP(c,o,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||sP(g,h),v=P8(a,s,g,h==="in"||h==="not-in");return St.create(u,h,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function VN(n,e,t){let r=e,i=RI("where",n);return Nm._create(i,r,t)}var iI=class n extends Yu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)jN(s,c),s=zE(s,c)})(e._query,t),new Ec(e.firestore,e.converter,zE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function oP(n,e,t){if(typeof(t=Xe(t))=="string"){if(t==="")throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jP(e)&&t.indexOf("/")!==-1)throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(nt.fromString(t));if(!ie.isDocumentKey(r))throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SR(n,new ie(r))}if(t instanceof Lt)return SR(n,t._key);throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(t)}.`)}function sP(n,e){if(!Array.isArray(n)||n.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jN(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var oI=class{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Oo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[uc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>tt(s.doubleValue));return new Ao(o)}convertGeoPoint(e){return new So(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Lm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){let t=Pi(e);return new Be(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=nt.fromString(e);Le(oN(r),9688,{name:e});let i=new im(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function UN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ps=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ns=class n extends Pm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(RI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:At("string",Ns._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};var ac=class extends Ns{data(e={}){return super.data(e)}},cc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ac(this._firestore,this._userDataWriter,r.key,r,new Ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ac(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ac(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:O8(a.type),doc:c,oldIndex:u,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function O8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:n})}}function BN(n){n=yr(n,Lt);let e=yr(n.firestore,Fi);return T8(AI(e),n._key).then(t=>F8(e,n,t))}cc._jsonSchemaVersion="firestore/querySnapshot/1.0",cc._jsonSchema={type:At("string",cc._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};var km=class extends oI{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}};function $N(n){n=yr(n,Ec);let e=yr(n.firestore,Fi),t=AI(e),r=new km(e);return k8(n._query),S8(t,n._query).then(i=>new cc(e,r,n,i))}function HN(n,e,t){n=yr(n,Lt);let r=yr(n.firestore,Fi),i=UN(n.converter,e,t);return zm(r,[PN(Hm(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,zr.none())])}function zN(n,e,t,...r){n=yr(n,Lt);let i=yr(n.firestore,Fi),o=Hm(i),s;return s=typeof(e=Xe(e))=="string"||e instanceof wc?R8(o,"updateDoc",n._key,e,t,r):M8(o,"updateDoc",n._key,e),zm(i,[s.toMutation(n._key,zr.exists(!0))])}function qN(n){return zm(yr(n.firestore,Fi),[new Wu(n._key,zr.none())])}function WN(n,e){let t=yr(n.firestore,Fi),r=SI(n),i=UN(n.converter,e);return zm(t,[PN(Hm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function zm(n,e){return(function(r,i){let o=new gr;return r.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return m8(yield D8(r),i,o)})),o.promise})(AI(n),e)}function F8(n,e,t){let r=t.docs.get(e._key),i=new km(n);return new Ns(n,i,e._key,r,new Ps(t.hasPendingWrites,t.fromCache),e.converter)}function PI(...n){return new Xw("arrayUnion",n)}function GN(...n){return new eI("arrayRemove",n)}(function(e,t=!0){(function(i){Ic=i})(yo),pr(new dn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Fi(new CE(r.getProvider("auth-internal")),new SE(s,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new im(u.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dt(mR,gR,e),dt(mR,gR,"esm2017")})();var fn=class{constructor(e){return e}},JN="firestore",NI=class{constructor(){return Qa(JN)}};var kI=new Z("angularfire2.firestore-instances");function L8(n,e){let t=Iu(JN,n,e);return t&&new fn(t)}function V8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fn(r)}}var j8={provide:NI,deps:[[new xn,kI]]},U8={provide:fn,useFactory:L8,deps:[[new xn,kI],Ci]};function KN(n,...e){return dt("angularfire",vo.full,"fst"),vn([U8,j8,{provide:kI,useFactory:V8(n),multi:!0,deps:[ke,ct,_o,Ts,[new xn,ku],[new xn,Ya],...e]}])}var QN=et(WN,!0,2);var Vt=et(xN,!0,2);var qm=et(qN,!0,2);var rt=et(SI,!0,2);var $s=et(BN,!0);var Ht=et($N,!0);var YN=et(MN,!0);var Hs=et(LN,!0,2);var td=et(HN,!0,2);var en=et(zN,!0,2);var zs=et(VN,!0,2);var ze=class n{auth=R(Ai);firestore=R(fn);router=R(Ze);currentUser=ee(null);userProfile=ee(null);isLoggedIn=ee(!1);authError=ee(null);loading=ee(!1);authReady=ee(!1);constructor(){aR(this.auth,e=>b(this,null,function*(){this.currentUser.set(e),this.isLoggedIn.set(!!e),e?yield this.loadUserProfile(e.uid):this.userProfile.set(null),this.authReady.set(!0)}))}waitForAuthState(){return b(this,null,function*(){for(;!this.authReady();)yield new Promise(e=>setTimeout(e,100))})}loadUserProfile(e){return b(this,null,function*(){try{let t=rt(this.firestore,"users",e),r=yield $s(t);r.exists()&&this.userProfile.set(r.data())}catch(t){console.error("Error loading user profile:",t)}})}getUserProfile(e){return b(this,null,function*(){try{let t=rt(this.firestore,"users",e),r=yield $s(t);return r.exists()?r.data():null}catch(t){return console.error("Error getting user profile:",t),null}})}login(e,t){return b(this,null,function*(){this.loading.set(!0),this.authError.set(null);try{let r=yield lR(this.auth,e,t);return yield new Promise(i=>setTimeout(i,500)),yield this.loadUserProfile(r.user.uid),this.clearError(),this.router.navigate(["/"]),!0}catch(r){console.error("Login error full:",r);let i=this.getErrorMessage(r.code||r.message);return this.authError.set(i),!1}finally{this.loading.set(!1)}})}register(e,t,r,i,o,s){return b(this,null,function*(){this.loading.set(!0),this.authError.set(null);try{let a=yield Hp(this.auth,i,o),c={uid:a.user.uid,firstName:e,lastName:t,company:r,email:i,role:s,savedJobs:[],createdAt:new Date};return yield td(rt(this.firestore,"users",a.user.uid),c),this.userProfile.set(c),this.clearError(),s==="applicant"?this.router.navigate(["/profile"]):this.router.navigate(["/"]),!0}catch(a){return this.authError.set(this.getErrorMessage(a.code)),!1}finally{this.loading.set(!1)}})}logout(){return b(this,null,function*(){try{yield uR(this.auth),this.userProfile.set(null),this.clearError(),this.router.navigate(["/login"])}catch(e){this.authError.set(this.getErrorMessage(e.code))}})}hasRole(e){return this.userProfile()?.role===e}isAdmin(){return this.hasRole("admin")}isEmployer(){return this.hasRole("employer")}isApplicant(){return this.hasRole("applicant")}clearError(){this.authError.set(null)}updateUserProfile(e,t){return b(this,null,function*(){try{let r=rt(this.firestore,"users",e);yield en(r,t);let i=this.userProfile();i&&this.userProfile.set(V(V({},i),t))}catch(r){throw console.error("Error updating user profile:",r),r}})}updateEmail(e){return b(this,null,function*(){let t=this.currentUser();if(!t)throw new Error("No authenticated user.");try{yield dR(t,e);let r=this.userProfile();r&&(yield this.updateUserProfile(r.uid,{email:e}))}catch(r){throw console.error("Error updating email:",r),r}})}updatePassword(e){return b(this,null,function*(){let t=this.currentUser();if(!t)throw new Error("No authenticated user.");try{yield hR(t,e)}catch(r){throw console.error("Error updating password:",r),r}})}sendPasswordReset(e){return b(this,null,function*(){try{yield cR(this.auth,e)}catch(t){throw console.error("Error sending password reset email:",t),this.authError.set(this.getErrorMessage(t.code||t.message)),t}})}getErrorMessage(e){switch(e){case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/invalid-credential":return"Invalid email or password.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"An error occurred. Please try again."}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var tn=class n{firestore=R(fn);authService=R(ze);jobs=ee([]);loading=ee(!1);initializeSampleData(){return b(this,null,function*(){yield this.loadJobs()})}loadJobs(){return b(this,null,function*(){this.loading.set(!0);try{yield this.migrateJobTypes();let e=Vt(this.firestore,"jobs"),r=(yield Ht(e)).docs.map(i=>{let o=i.data();return te(V({id:i.id},o),{postedDate:o.postedDate?.toDate?o.postedDate.toDate():o.postedDate})}).filter(i=>i.status!=="rejected");this.jobs.set(r)}catch(e){console.error("Error loading jobs:",e),this.jobs.set([])}finally{this.loading.set(!1)}})}migrateJobTypes(){return b(this,null,function*(){try{let e=Vt(this.firestore,"jobs"),t=yield Ht(e),r=0;for(let i of t.docs){let s=i.data().type,a=s;s==="Full Time"?a="Full-Time":s==="Part Time"&&(a="Part-Time"),a!==s&&(yield en(rt(this.firestore,"jobs",i.id),{type:a}),console.log(`[Migrate Job Types] Updated "${s}" \u2192 "${a}"`),r++)}r>0&&console.log(`%c\u2713 Migrated ${r} jobs to new type format`,"color: purple; font-weight: bold;")}catch(e){console.error("Job type migration error:",e)}})}list(e){let t=this.jobs();return e?t.filter(r=>{let i=e.title?r.title.toLowerCase().includes(e.title.toLowerCase()):!0,o=e.company?r.company.toLowerCase().includes(e.company.toLowerCase()):!0,s=e.location?r.location.toLowerCase().includes(e.location.toLowerCase()):!0,a=e.type?r.type.toLowerCase()===e.type.toLowerCase():!0;return i&&o&&s&&a}):t}getById(e){return this.jobs().find(t=>t.id===e)}getAllJobs(){return b(this,null,function*(){try{let e=Vt(this.firestore,"jobs");return(yield Ht(e)).docs.map(i=>{let o=i.data();return te(V({id:i.id},o),{postedDate:o.postedDate?.toDate?o.postedDate.toDate():o.postedDate,applicants:(o.applicants||[]).map(s=>te(V({},s),{appliedAt:s.appliedAt?.toDate?s.appliedAt.toDate():s.appliedAt}))})})}catch(e){return console.error("Error loading all jobs:",e),[]}})}create(e){return b(this,null,function*(){try{let t=Vt(this.firestore,"jobs"),r=Be.now(),i=te(V({},e),{postedDate:r,status:"pending"});console.log("Creating job with data:",i);let o=yield QN(t,i);console.log("Job created with ID:",o.id);let s=te(V({id:o.id},e),{postedDate:r.toDate(),status:"pending"}),a=this.jobs();return this.jobs.set([...a,s]),s}catch(t){throw console.error("Error creating job:",t),t}})}update(e,t){return b(this,null,function*(){try{let r=rt(this.firestore,"jobs",e);yield en(r,t);let i=this.jobs(),o=i.findIndex(s=>s.id===e);if(o!==-1){let s=V(V({},i[o]),t),a=[...i];return a[o]=s,this.jobs.set(a),s}return null}catch(r){return console.error("Error updating job:",r),null}})}delete(e){return b(this,null,function*(){try{let t=rt(this.firestore,"jobs",e);yield qm(t);let r=this.jobs();return this.jobs.set(r.filter(i=>i.id!==e)),!0}catch(t){return console.error("Error deleting job:",t),!1}})}isJobSaved(e){return(this.authService.userProfile()?.savedJobs||[]).includes(e)}saveJob(e){return b(this,null,function*(){let t=this.authService.currentUser();if(t)try{let r=rt(this.firestore,"users",t.uid);yield en(r,{savedJobs:PI(e)});let i=this.authService.userProfile();if(i){let o=[...i.savedJobs||[],e];this.authService.userProfile.set(te(V({},i),{savedJobs:o}))}}catch(r){console.error("Error saving job:",r)}})}unsaveJob(e){return b(this,null,function*(){let t=this.authService.currentUser();if(t)try{let r=rt(this.firestore,"users",t.uid);yield en(r,{savedJobs:GN(e)});let i=this.authService.userProfile();if(i){let o=(i.savedJobs||[]).filter(s=>s!==e);this.authService.userProfile.set(te(V({},i),{savedJobs:o}))}}catch(r){console.error("Error unsaving job:",r)}})}toggleSaveJob(e){return b(this,null,function*(){this.isJobSaved(e)?yield this.unsaveJob(e):yield this.saveJob(e)})}getEmployerJobs(e){return b(this,null,function*(){try{console.log("Loading jobs for employer:",e);let t=Vt(this.firestore,"jobs"),r=Hs(t,zs("postedBy","==",e)),i=yield Ht(r);console.log("Found",i.docs.length,"jobs for employer");let o=i.docs.map(s=>{let a=s.data();return te(V({id:s.id},a),{postedDate:a.postedDate?.toDate?a.postedDate.toDate():a.postedDate,applicants:(a.applicants||[]).map(c=>te(V({},c),{appliedAt:c.appliedAt?.toDate?c.appliedAt.toDate():c.appliedAt}))})});return console.log("Mapped employer jobs:",o),o}catch(t){return console.error("Error loading employer jobs:",t),[]}})}applyJob(e,t){return b(this,null,function*(){let r=this.authService.currentUser();if(!r)return!1;try{let i=rt(this.firestore,"jobs",e),o=yield $s(i);if(!o.exists())return console.error("Job not found:",e),!1;if((o.data().applicants||[]).some(g=>g.userId===r.uid))return console.warn("User has already applied to this job"),!1;let c=yield this.authService.getUserProfile(r.uid),u=c?`${c.firstName||""} ${c.lastName||""}`.trim():"",h={userId:r.uid,email:r.email,name:u||r.email,appliedAt:Be.now(),status:"pending",responses:t||[]};return yield en(i,{applicants:PI(h)}),yield this.saveJob(e),console.log("Successfully applied to job:",e),!0}catch(i){return console.error("Error applying to job:",i),!1}})}updateApplicantStatus(e,t,r){return b(this,null,function*(){try{let i=rt(this.firestore,"jobs",e),o=yield $s(i);if(!o.exists())return console.error("Job not found when updating applicant status:",e),!1;let c=(o.data().applicants||[]).map(u=>u.userId===t?te(V({},u),{status:r}):u);return yield en(i,{applicants:c}),!0}catch(i){return console.error("Error updating applicant status:",i),!1}})}removeApplicant(e,t){return b(this,null,function*(){try{let r=rt(this.firestore,"jobs",e),i=yield $s(r);if(!i.exists())return console.error("Job not found when removing applicant:",e),!1;let a=(i.data().applicants||[]).filter(c=>c.userId!==t);return yield en(r,{applicants:a}),console.log("Successfully removed applicant from job:",e),!0}catch(r){return console.error("Error removing applicant:",r),!1}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wm=class n{firestore=R(fn);enhanceJobDescriptions(){return b(this,null,function*(){try{let e=Vt(this.firestore,"jobs"),t=yield Ht(e),r=0;for(let i of t.docs){let s=i.data().title,a=this.generateDetailedDescription(s);yield en(rt(this.firestore,"jobs",i.id),{description:a.description,minimumRequirements:a.minimumRequirements,preferredRequirements:a.preferredRequirements,jobExpectations:a.jobExpectations}),console.log(`Enhanced job: ${s}`),r++}console.log(`%c\u2713 Enhanced ${r} job descriptions`,"color: green; font-weight: bold;")}catch(e){console.error("Error enhancing job descriptions:",e)}})}generateDetailedDescription(e){let t=e.toLowerCase();return t.includes("software")||t.includes("developer")||t.includes("engineer")?{description:`We are seeking a talented ${e} to join our dynamic team. You will be responsible for designing, developing, and maintaining high-quality software solutions. This role offers an opportunity to work on cutting-edge technologies and contribute to impactful projects that serve thousands of users.`,minimumRequirements:["Bachelor's degree in Computer Science, Engineering, or related field","2+ years of professional software development experience","Strong programming skills in at least one modern language","Experience with version control systems (Git)","Understanding of software development lifecycle and agile methodologies","Excellent problem-solving and analytical skills"],preferredRequirements:["Experience with cloud platforms (AWS, Azure, or GCP)","Knowledge of containerization technologies (Docker, Kubernetes)","Familiarity with CI/CD pipelines","Experience with test-driven development","Contributions to open-source projects","Strong communication and teamwork skills"],jobExpectations:["Write clean, maintainable, and efficient code","Collaborate with cross-functional teams to define and ship new features","Participate in code reviews and provide constructive feedback","Debug and resolve technical issues in production environments","Stay updated with emerging technologies and industry trends","Contribute to technical documentation and knowledge sharing"]}:t.includes("designer")||t.includes("ui")||t.includes("ux")?{description:`Join our creative team as a ${e}! You will craft beautiful, intuitive user experiences that delight our customers. Working closely with product managers and developers, you'll bring ideas to life through thoughtful design and user research.`,minimumRequirements:["Bachelor's degree in Design, HCI, or related field","2+ years of professional design experience","Strong portfolio demonstrating design thinking and execution","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with responsive and mobile-first design"],preferredRequirements:["Experience conducting user research and usability testing","Knowledge of HTML/CSS and front-end development basics","Familiarity with design systems and component libraries","Animation and motion design skills","Experience with prototyping tools","Understanding of accessibility standards (WCAG)"],jobExpectations:["Create wireframes, mockups, and high-fidelity designs","Conduct user research and translate findings into design decisions","Collaborate with developers to ensure design implementation","Maintain and evolve design system components","Present design concepts to stakeholders","Iterate designs based on user feedback and metrics"]}:t.includes("manager")||t.includes("lead")?{description:`We are looking for an experienced ${e} to lead our team to success. You will be responsible for strategic planning, team development, and ensuring project delivery. This leadership role requires strong communication skills and the ability to inspire and mentor team members.`,minimumRequirements:["Bachelor's degree in relevant field or equivalent experience","5+ years of professional experience with 2+ years in leadership","Proven track record of successful project delivery","Strong leadership and people management skills","Excellent communication and interpersonal abilities","Experience with budget management and resource planning"],preferredRequirements:["MBA or relevant advanced degree","Experience managing remote or distributed teams","Certifications in project management (PMP, Agile, Scrum)","Industry-specific domain expertise","Experience with performance management and coaching","Strong stakeholder management skills"],jobExpectations:["Lead and mentor team members to achieve their full potential","Define project goals, timelines, and success metrics","Manage resource allocation and project budgets","Foster a culture of collaboration and continuous improvement","Communicate project status to stakeholders and executives","Identify and mitigate risks to project success"]}:t.includes("analyst")||t.includes("data")?{description:`Seeking a detail-oriented ${e} to join our analytics team. You will transform raw data into actionable insights that drive business decisions. This role requires strong analytical thinking and the ability to communicate complex findings to non-technical stakeholders.`,minimumRequirements:["Bachelor's degree in Statistics, Mathematics, Economics, or related field","2+ years of experience in data analysis","Proficiency in SQL and data manipulation","Experience with data visualization tools","Strong analytical and problem-solving skills","Excellent attention to detail"],preferredRequirements:["Experience with Python or R for statistical analysis","Knowledge of machine learning concepts","Familiarity with big data technologies","Experience with A/B testing and experimental design","Understanding of statistical modeling techniques","Experience with business intelligence platforms"],jobExpectations:["Analyze complex datasets to identify trends and patterns","Create dashboards and reports for stakeholders","Collaborate with teams to define key metrics","Conduct statistical analysis to support business decisions","Present findings and recommendations to leadership","Ensure data quality and integrity"]}:{description:`We are hiring for the position of ${e}. Join our growing team and contribute to exciting projects. This role offers competitive compensation, professional development opportunities, and a collaborative work environment where your contributions are valued.`,minimumRequirements:["Relevant bachelor's degree or equivalent work experience","2+ years of professional experience in related field","Strong communication and collaboration skills","Ability to work independently and as part of a team","Problem-solving mindset and attention to detail","Proficiency in relevant tools and technologies"],preferredRequirements:["Advanced degree or professional certifications","Experience in similar industry or domain","Leadership or mentoring experience","Track record of successful project delivery","Continuous learning and professional development","Strong portfolio or work samples"],jobExpectations:["Deliver high-quality work that meets business objectives","Collaborate effectively with cross-functional teams","Take ownership of assigned projects and responsibilities","Communicate progress and challenges proactively","Contribute to team knowledge sharing and best practices","Adapt to changing priorities and business needs"]}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var B8=()=>({exact:!0});function $8(n,e){n&1&&(p(0,"a",5),y(1,"Find Jobs"),m())}function H8(n,e){n&1&&(p(0,"a",13),y(1,"Saved Jobs"),m(),p(2,"a",14),y(3,"Applied Jobs"),m())}function z8(n,e){n&1&&(p(0,"a",15),y(1,"Post Job"),m(),p(2,"a",16),y(3,"My Jobs"),m())}function q8(n,e){n&1&&(p(0,"a",17),y(1,"Jobs Management"),m(),p(2,"a",18),y(3,"User Management"),m()),n&2&&W("routerLinkActiveOptions",ps(1,B8))}function W8(n,e){if(n&1){let t=ce();G(0,H8,4,0),G(1,z8,4,0),G(2,q8,4,2),p(3,"div",8)(4,"a",9),ne(5,"i",10),y(6," Profile "),m(),p(7,"span",11),y(8),m(),p(9,"button",12),B("click",function(){j(t);let i=P();return U(i.authService.logout())}),y(10,"Logout"),m()()}if(n&2){let t,r=P();J(r.authService.isApplicant()?0:-1),w(),J(r.authService.isEmployer()?1:-1),w(),J(r.authService.isAdmin()?2:-1),w(6),H((t=r.authService.userProfile())==null?null:t.role)}}function G8(n,e){n&1&&(p(0,"a",6),y(1,"Login"),m())}var Gm=class n{title=ee("community-job-board");authService=R(ze);jobsService=R(tn);enhanceJobsService=R(Wm);ngOnInit(){return b(this,null,function*(){yield this.jobsService.initializeSampleData(),yield this.enhanceJobsService.enhanceJobDescriptions(),yield this.jobsService.loadJobs()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-root"]],decls:11,vars:2,consts:[[1,"navbar","container-fluid","px-4"],[1,"d-flex","justify-content-between","align-items-center","w-100"],["routerLink","/",1,"text-decoration-none","navbar-logo"],[1,"mb-0"],[1,"d-flex","gap-3","align-items-center"],["routerLink","/job-list","routerLinkActive","active",1,"nav-link"],["routerLink","/login",1,"btn","btn-sm","login-btn"],[1,"p-3"],[1,"navbar-user-info","ms-2"],["routerLink","/profile","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-user-circle","me-1"],[1,"badge","bg-secondary"],[1,"btn","btn-sm","login-btn",3,"click"],["routerLink","/saved-jobs","routerLinkActive","active",1,"nav-link"],["routerLink","/applied-jobs","routerLinkActive","active",1,"nav-link"],["routerLink","/create-job","routerLinkActive","active",1,"nav-link"],["routerLink","/employer-jobs","routerLinkActive","active",1,"nav-link"],["routerLink","/admin","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/user-management","routerLinkActive","active",1,"nav-link"]],template:function(t,r){t&1&&(p(0,"nav",0)(1,"div",1)(2,"a",2)(3,"h1",3),y(4,"JobBoard"),m()(),p(5,"div",4),G(6,$8,2,0,"a",5),G(7,W8,11,4)(8,G8,2,0,"a",6),m()()(),p(9,"main",7),ne(10,"router-outlet"),m()),t&2&&(w(6),J(r.authService.isApplicant()||!r.authService.isLoggedIn()?6:-1),w(),J(r.authService.isLoggedIn()?7:8))},dependencies:[hu,wi,Or,H0,ut],styles:["nav.navbar[_ngcontent-%COMP%]{height:var(--navbar-height);background-color:var(--primary-color)!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;padding:0 2rem;position:sticky;top:0;z-index:1000}.navbar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#fff;letter-spacing:-.5px;margin:0}.nav-link[_ngcontent-%COMP%]{color:#ddd!important;font-size:.95rem;font-weight:500;padding:8px 16px!important;border-radius:6px;transition:all .2s ease}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#fff!important;background-color:#ffffff1a}.navbar-user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding-left:20px;margin-left:20px;border-left:1px solid rgba(255,255,255,.15);height:40px}.navbar-user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:.9rem;font-weight:500}.login-btn[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:8px 24px;background:transparent}.login-btn[_ngcontent-%COMP%]:hover{background:#fff;color:var(--primary-color);border-color:#fff}"]})};var sk=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(de(Hn),de(Qt))};static \u0275dir=ot({type:n})}return n})(),ng=(()=>{class n extends sk{static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ot({type:n,features:[zn]})}return n})(),cd=new Z(""),J8={provide:cd,useExisting:er(()=>LI),multi:!0},LI=(()=>{class n extends ng{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ot({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[so([J8]),zn]})}return n})(),K8={provide:cd,useExisting:er(()=>nn),multi:!0};function Q8(){let n=Wn()?Wn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Y8=new Z(""),nn=(()=>{class n extends sk{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Q8())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(de(Hn),de(Qt),de(Y8,8))};static \u0275dir=ot({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&B("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[so([K8]),zn]})}return n})();var ak=new Z(""),ck=new Z("");function lk(n){return n!=null}function uk(n){return oo(n)?Ke(n):n}function dk(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function hk(n,e){return e.map(t=>t(n))}function Z8(n){return!n.validate}function fk(n){return n.map(e=>Z8(e)?e:t=>e.validate(t))}function X8(n){if(!n)return null;let e=n.filter(lk);return e.length==0?null:function(t){return dk(hk(t,e))}}function VI(n){return n!=null?X8(fk(n)):null}function ez(n){if(!n)return null;let e=n.filter(lk);return e.length==0?null:function(t){let r=hk(t,e).map(uk);return uy(r).pipe(xe(dk))}}function jI(n){return n!=null?ez(fk(n)):null}function ZN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tz(n){return n._rawValidators}function nz(n){return n._rawAsyncValidators}function OI(n){return n?Array.isArray(n)?n:[n]:[]}function Km(n,e){return Array.isArray(n)?n.includes(e):n===e}function XN(n,e){let t=OI(e);return OI(n).forEach(i=>{Km(t,i)||t.push(i)}),t}function ek(n,e){return OI(e).filter(t=>!Km(n,t))}var Qm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xc=class extends Qm{name;get formDirective(){return null}get path(){return null}},ad=class extends Qm{_parent=null;name=null;valueAccessor=null},Ym=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},rz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nhe=te(V({},rz),{"[class.ng-submitted]":"isSubmitted"}),wn=(()=>{class n extends Ym{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(de(ad,2))};static \u0275dir=ot({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&It("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[zn]})}return n})(),rg=(()=>{class n extends Ym{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(de(xc,10))};static \u0275dir=ot({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&It("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[zn]})}return n})();var nd="VALID",Jm="INVALID",Sc="PENDING",rd="DISABLED",Fo=class{},Zm=class extends Fo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},od=class extends Fo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},sd=class extends Fo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ac=class extends Fo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},FI=class extends Fo{source;constructor(e){super(),this.source=e}},Xm=class extends Fo{source;constructor(e){super(),this.source=e}};function pk(n){return(ig(n)?n.validators:n)||null}function iz(n){return Array.isArray(n)?VI(n):n||null}function mk(n,e){return(ig(e)?e.asyncValidators:n)||null}function oz(n){return Array.isArray(n)?jI(n):n||null}function ig(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function az(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Q(1002,"")})}var eg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Nt(this.statusReactive)}set status(e){Nt(()=>this.statusReactive.set(e))}_status=bn(()=>this.statusReactive());statusReactive=ee(void 0);get valid(){return this.status===nd}get invalid(){return this.status===Jm}get pending(){return this.status==Sc}get disabled(){return this.status===rd}get enabled(){return this.status!==rd}errors;get pristine(){return Nt(this.pristineReactive)}set pristine(e){Nt(()=>this.pristineReactive.set(e))}_pristine=bn(()=>this.pristineReactive());pristineReactive=ee(!0);get dirty(){return!this.pristine}get touched(){return Nt(this.touchedReactive)}set touched(e){Nt(()=>this.touchedReactive.set(e))}_touched=bn(()=>this.touchedReactive());touchedReactive=ee(!1);get untouched(){return!this.touched}_events=new ft;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ek(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ek(e,this._rawAsyncValidators))}hasValidator(e){return Km(this._rawValidators,e)}hasAsyncValidator(e){return Km(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new sd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new sd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new od(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new od(!0,r))}markAsPending(e={}){this.status=Sc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ac(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rd,this.errors=null,this._forEachChild(i=>{i.disable(te(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zm(this.value,r)),this._events.next(new Ac(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nd,this._forEachChild(r=>{r.enable(te(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nd||this.status===Sc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zm(this.value,t)),this._events.next(new Ac(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rd:nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Sc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=uk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ac(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?rd:this.errors?Jm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sc)?Sc:this._anyControlsHaveStatus(Jm)?Jm:nd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new od(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new sd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ig(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=iz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oz(this._rawAsyncValidators)}},tg=class extends eg{constructor(e,t,r){super(pk(t),mk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){az(this,!0,e),Object.keys(e).forEach(r=>{sz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Xm(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var UI=new Z("",{providedIn:"root",factory:()=>BI}),BI="always";function cz(n,e){return[...e.path,n]}function gk(n,e,t=BI){yk(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uz(n,e),hz(n,e),dz(n,e),lz(n,e)}function tk(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function yk(n,e){let t=tz(n);e.validator!==null?n.setValidators(ZN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=nz(n);e.asyncValidator!==null?n.setAsyncValidators(ZN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();tk(e._rawValidators,i),tk(e._rawAsyncValidators,i)}function uz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&vk(n,e)})}function dz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&vk(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function vk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fz(n,e){n==null,yk(n,e)}function pz(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function mz(n){return Object.getPrototypeOf(n.constructor)===ng}function gz(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function yz(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===nn?t=o:mz(o)?r=o:i=o}),i||r||t||null}var vz={provide:xc,useExisting:er(()=>ld)},id=Promise.resolve(),ld=(()=>{class n extends xc{callSetDisabledState;get submitted(){return Nt(this.submittedReactive)}_submitted=bn(()=>this.submittedReactive());submittedReactive=ee(!1);_directives=new Set;form;ngSubmit=new vt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new tg({},VI(t),jI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){id.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),gk(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){id.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){id.then(()=>{let r=this._findContainer(t.path),i=new tg({});fz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){id.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){id.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),gz(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new FI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(de(ak,10),de(ck,10),de(UI,8))};static \u0275dir=ot({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&B("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[so([vz]),zn]})}return n})();function nk(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function rk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var _z=class extends eg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(pk(t),mk(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ig(t)&&(t.nonNullable||t.initialValueIsDefault)&&(rk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Xm(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){rk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bz={provide:ad,useExisting:er(()=>pn)},ik=Promise.resolve(),pn=(()=>{class n extends ad{_changeDetectorRef;callSetDisabledState;control=new _z;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new vt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yz(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),pz(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ik.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ms(r);ik.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?cz(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(de(xc,9),de(ak,10),de(ck,10),de(cd,10),de(yi,8),de(UI,8))};static \u0275dir=ot({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[so([bz]),zn,fi]})}return n})();var og=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ot({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Ez={provide:cd,useExisting:er(()=>Jr),multi:!0};function _k(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function wz(n){return n.split(":")[0]}var Jr=(()=>{class n extends ng{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=R(mi).injector;destroyRef=R($n);cdr=R(yi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Rl({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=_k(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=wz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ot({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[so([Ez]),zn]})}return n})(),Kr=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(_k(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(de(Qt),de(Hn),de(Jr,9))};static \u0275dir=ot({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Iz={provide:cd,useExisting:er(()=>bk),multi:!0};function ok(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Cz(n){return n.split(":")[0]}var bk=(()=>{class n extends ng{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Cz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ot({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[so([Iz]),zn]})}return n})(),Qr=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ok(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ok(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(de(Qt),de(Hn),de(bk,9))};static \u0275dir=ot({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Dz=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=tr({})}return n})();var In=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:UI,useValue:t.callSetDisabledState??BI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=tr({imports:[Dz]})}return n})();var Tz=(n,e)=>e.value,Sz=(n,e)=>e.id;function Az(n,e){if(n&1&&(p(0,"option",15),y(1),m()),n&2){let t=e.$implicit;W("value",t.value),w(),H(t.label)}}function xz(n,e){n&1&&(p(0,"div",21)(1,"div",23)(2,"span",24),y(3,"Loading..."),m()(),p(4,"p",25),y(5,"Finding the best jobs for you..."),m()())}function Mz(n,e){if(n&1){let t=ce();p(0,"button",38),B("click",function(i){j(t);let o=P().$implicit,s=P(2);return U(s.toggleSaveJob(o.id,i))}),y(1),m()}if(n&2){let t=P().$implicit,r=P(2);It("saved",r.isJobSaved(t.id)),W("title",r.isJobSaved(t.id)?"Remove from saved":"Save job"),w(),Ce(" ",r.isJobSaved(t.id)?"\u2605":"\u2606"," ")}}function Rz(n,e){if(n&1){let t=ce();p(0,"div",32),B("click",function(){let i=j(t).$implicit,o=P(2);return U(o.viewJob(i.id))}),p(1,"div",33)(2,"div")(3,"h2",34),y(4),m(),p(5,"p",35),y(6),m(),p(7,"p",36),y(8),m()(),G(9,Mz,2,4,"button",37),m()()}if(n&2){let t=e.$implicit,r=P(2);It("active",(r.jobDetails==null?null:r.jobDetails.id)===t.id),w(4),H(t.title),w(2),_n("",t.location," | ",t.type),w(2),H(t.salary),w(),J(r.canSaveJobs()?9:-1)}}function Pz(n,e){if(n&1){let t=ce();p(0,"button",47),B("click",function(i){j(t);let o=P(3);return U(o.toggleSaveJob(o.jobDetails.id,i))}),y(1),m()}if(n&2){let t=P(3);It("btn-outline-danger",t.isJobSaved(t.jobDetails.id))("btn-outline-primary",!t.isJobSaved(t.jobDetails.id)),w(),Ce(" ",t.isJobSaved(t.jobDetails.id)?"Unsave Job":"Save Job"," ")}}function Nz(n,e){if(n&1){let t=ce();p(0,"div",30)(1,"h2",39),y(2),m(),p(3,"h3",40),y(4),m(),p(5,"div",41)(6,"span",42),y(7),m(),p(8,"span",42),y(9),m(),p(10,"span",43),y(11),m()(),p(12,"p",44),y(13),m(),p(14,"div",45)(15,"button",17),B("click",function(i){j(t);let o=P(2);return U(o.applyToJob(o.jobDetails.id,i))}),y(16,"Apply"),m(),G(17,Pz,2,5,"button",46),m()()}if(n&2){let t=P(2);w(2),H(t.jobDetails.title),w(2),H(t.jobDetails.company),w(3),H(t.jobDetails.location),w(2),H(t.jobDetails.type),w(2),H(t.jobDetails.salary),w(2),H(t.jobDetails.description),w(4),J(t.canSaveJobs()?17:-1)}}function kz(n,e){n&1&&(p(0,"div",31),ne(1,"i",48),p(2,"p",49),y(3,"Select a job to view details"),m()())}function Oz(n,e){if(n&1&&(p(0,"div",26)(1,"div",27),qe(2,Rz,10,7,"div",28,Sz),m()(),p(4,"div",29),G(5,Nz,18,7,"div",30)(6,kz,4,0,"div",31),m()),n&2){let t=P();w(2),We(t.jobs),w(3),J(t.jobDetails?5:6)}}function Fz(n,e){n&1&&(p(0,"span",58),y(1,"*"),m())}function Lz(n,e){if(n&1){let t=ce();p(0,"div",53)(1,"label",57),y(2),G(3,Fz,2,0,"span",58),m(),p(4,"textarea",59),Ee("ngModelChange",function(i){let o=j(t).$implicit;return we(o.answer,i)||(o.answer=i),U(i)}),m()()}if(n&2){let t=e.$implicit,r=e.$index,i=P(3);w(2),Ce(" ",t.question," "),w(),J(i.applicationQuestions[r].required?3:-1),w(),be("ngModel",t.answer),W("name","response-"+r)("disabled",i.isSubmitting)}}function Vz(n,e){if(n&1){let t=ce();p(0,"h2"),y(1),m(),p(2,"p",52),y(3,"Please answer the following questions to complete your application."),m(),p(4,"form"),qe(5,Lz,5,5,"div",53,gi),m(),p(7,"div",54)(8,"button",55),B("click",function(){j(t);let i=P(2);return U(i.closeApplicationModal())}),y(9," Cancel "),m(),p(10,"button",56),B("click",function(){j(t);let i=P(2);return U(i.submitApplication())}),y(11),m()()}if(n&2){let t=P(2);w(),Ce("Apply for ",t.jobDetails.title),w(4),We(t.applicationResponses),w(3),W("disabled",t.isSubmitting),w(2),W("disabled",t.isSubmitting),w(),Ce(" ",t.isSubmitting?"Submitting...":"Submit Application"," ")}}function jz(n,e){if(n&1){let t=ce();p(0,"div",51),ne(1,"i",60),p(2,"h2"),y(3,"Application Submitted!"),m(),p(4,"p",52),y(5," Your application for "),p(6,"strong"),y(7),m(),y(8," has been successfully submitted. The employer will review your application and get back to you soon. "),m(),p(9,"button",17),B("click",function(){j(t);let i=P(2);return U(i.closeApplicationModal())}),y(10," Done "),m()()}if(n&2){let t=P(2);w(7),H(t.jobDetails.title)}}function Uz(n,e){if(n&1&&(p(0,"div",22)(1,"div",50),G(2,Vz,12,4)(3,jz,11,1,"div",51),m()()),n&2){let t=P();w(2),J(t.showConfirmation?3:2)}}var sg=class n{jobService=R(tn);router=R(Ze);authService=R(ze);jobs=[];jobTitleSearch="";jobLocationSearch="";jobTypeSearch="";loading=!1;jobDetails=null;showApplicationModal=!1;isSubmitting=!1;showConfirmation=!1;applicationResponses=[];showAlertModal=!1;alertMessage="";applicationQuestions=[{question:"Why are you interested in this position?",required:!0},{question:"What relevant experience do you have?",required:!0},{question:"What are your salary expectations?",required:!1},{question:"When are you available to start?",required:!0}];jobTypes=[{value:"",label:"All Job Types"},{value:"Full-Time",label:"Full-Time"},{value:"Part-Time",label:"Part-Time"},{value:"Contract",label:"Contract"},{value:"Remote",label:"Remote"}];filters={title:"",company:"",location:"",type:""};ngOnInit(){return b(this,null,function*(){this.loading=!0;try{yield this.jobService.loadJobs(),this.jobs=this.jobService.list()}finally{this.loading=!1}})}searchJob(){this.filters={title:this.jobTitleSearch,company:"",location:this.jobLocationSearch,type:this.jobTypeSearch},this.jobs=this.jobService.list(this.filters)}resetFilters(){this.jobTitleSearch="",this.jobLocationSearch="",this.jobTypeSearch="",this.filters={title:"",company:"",location:"",type:""},this.jobs=this.jobService.list()}viewJob(e){e&&(this.jobDetails=this.jobService.getById(e)||null)}isJobSaved(e){return e?this.jobService.isJobSaved(e):!1}toggleSaveJob(e,t){return b(this,null,function*(){t.stopPropagation(),!(!e||!this.authService.isLoggedIn())&&(yield this.jobService.toggleSaveJob(e))})}canSaveJobs(){return this.authService.isLoggedIn()&&this.authService.isApplicant()}applyToJob(e,t){return b(this,null,function*(){if(t.stopPropagation(),!!e){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}this.applicationResponses=this.applicationQuestions.map(r=>({question:r.question,answer:""})),this.showApplicationModal=!0,this.showConfirmation=!1}})}closeApplicationModal(){this.showApplicationModal=!1,this.showConfirmation=!1,this.applicationResponses=[]}showAlert(e){this.alertMessage=e,this.showAlertModal=!0}closeAlertModal(){this.showAlertModal=!1,this.alertMessage=""}submitApplication(){return b(this,null,function*(){if(!this.applicationQuestions.filter(o=>o.required).every((o,s)=>{let a=this.applicationResponses.find(c=>c.question===o.question);return a&&a.answer.trim().length>0})){this.showAlert("Please answer all required questions.");return}let r=this.jobDetails?.id;if(!r){this.showAlert("Unable to submit application. Please try again.");return}this.isSubmitting=!0;let i=yield this.jobService.applyJob(r,this.applicationResponses);this.isSubmitting=!1,i?(this.showConfirmation=!0,yield this.jobService.loadJobs(),this.jobs=this.jobService.list(this.filters),this.jobDetails?.id===r&&this.viewJob(r)):(this.showAlert("Failed to apply. You may have already applied to this job."),this.closeApplicationModal())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-job-list"]],decls:31,vars:5,consts:[[1,"fw-bold","my-3","text-center"],[1,"container-fluid","mb-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-4"],[1,"input-icon-container"],[1,"fas","fa-search","input-icon"],["type","text","name","job-title","id","job-title","placeholder","Search for Title",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-location-dot","input-icon"],["type","text","name","job-location","id","job-location","placeholder","Location (e.g, Manila)",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],[1,"fas","fa-filter","input-icon"],[1,"fas","fa-chevron-down","dropdown-arrow"],["name","job-type","id","job-type",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"col-md-2","d-flex","gap-2","justify-content-end"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"container-fluid"],[1,"row","mx-5","my-4"],[1,"col-12","text-center","py-5"],[1,"modal-overlay"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"col-4"],[1,"job-list"],[1,"job-item",3,"active"],[1,"col"],[1,"job-details-card"],[1,"empty-details","text-center","py-5"],[1,"job-item",3,"click"],[1,"d-flex","justify-content-between","align-items-start"],[1,"fs-5","mb-1"],[1,"text-muted","mb-1"],[1,"text-success","fw-bold","mb-0"],[1,"btn","btn-sm","save-btn",3,"saved","title"],[1,"btn","btn-sm","save-btn",3,"click","title"],[1,"fs-2","fw-bold"],[1,"fs-5","text-muted"],[1,"job-meta","my-3"],[1,"badge","badge-meta","me-2"],[1,"badge","bg-success"],[1,"mt-4"],[1,"d-flex","gap-2","mt-4"],[1,"btn",3,"btn-outline-danger","btn-outline-primary"],[1,"btn",3,"click"],[1,"fas","fa-search","empty-details-icon"],[1,"text-muted"],[1,"modal-content"],[1,"confirmation-content","text-center","py-4"],[1,"text-muted","mb-4"],[1,"form-group","mb-3"],[1,"modal-footer","mt-4","d-flex","justify-content-end","align-items-center","gap-2"],[1,"btn","btn-secondary","btn-cancel-modal",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"form-label","fw-bold","question-text"],[1,"text-danger"],["rows","4","placeholder","Enter your answer here...",1,"form-control",3,"ngModelChange","ngModel","name","disabled"],[1,"fas","fa-check-circle","confirmation-icon","text-success","mb-3"]],template:function(t,r){t&1&&(p(0,"h1",0),y(1,"Find Jobs"),m(),p(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),ne(8,"i",7),p(9,"input",8),Ee("ngModelChange",function(o){return we(r.jobTitleSearch,o)||(r.jobTitleSearch=o),o}),m()()(),p(10,"div",5)(11,"div",6),ne(12,"i",9),p(13,"input",10),Ee("ngModelChange",function(o){return we(r.jobLocationSearch,o)||(r.jobLocationSearch=o),o}),m()()(),p(14,"div",11)(15,"div",6),ne(16,"i",12)(17,"i",13),p(18,"select",14),Ee("ngModelChange",function(o){return we(r.jobTypeSearch,o)||(r.jobTypeSearch=o),o}),qe(19,Az,2,2,"option",15,Tz),m()()(),p(21,"div",16)(22,"button",17),B("click",function(){return r.searchJob()}),y(23,"Search"),m(),p(24,"button",18),B("click",function(){return r.resetFilters()}),y(25,"Reset"),m()()()()()(),p(26,"div",19)(27,"div",20),G(28,xz,6,0,"div",21)(29,Oz,7,1),m()(),G(30,Uz,4,1,"div",22)),t&2&&(w(9),be("ngModel",r.jobTitleSearch),w(4),be("ngModel",r.jobLocationSearch),w(5),be("ngModel",r.jobTypeSearch),w(),We(r.jobTypes),w(9),J(r.loading?28:29),w(2),J(r.showApplicationModal&&r.jobDetails?30:-1))},dependencies:[ut,In,og,Kr,Qr,nn,Jr,wn,rg,pn,ld],styles:[".search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;border-radius:8px;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:14px;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2}h1[_ngcontent-%COMP%]{font-family:Poppins}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;right:14px;transform:translateY(-50%);color:#64748b;font-size:.8rem;z-index:2;pointer-events:none}input[type=text][_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:10px 45px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:0 1px 3px #0000001a}.empty-details-icon[_ngcontent-%COMP%]{font-size:5rem;color:#818181;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content;transform:translate(5px)}p[_ngcontent-%COMP%]{font-family:Poppins}.job-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}.job-item[_ngcontent-%COMP%], .job-details-card[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.job-item[_ngcontent-%COMP%]{padding:16px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:12px;cursor:pointer;transition:all .2s;background:#fff}.job-item[_ngcontent-%COMP%]:hover{border-color:#d6e5f7;background-color:#d6e5f7;transform:none;box-shadow:0 1px 3px #0000001a}.job-item.active[_ngcontent-%COMP%]{border-color:#d6e5f7;background-color:#d6e5f7}.save-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;padding:4px 8px;transition:transform .2s;height:auto;color:#ffc72c}.save-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:none}.save-btn.saved[_ngcontent-%COMP%]{color:#ffc72c}.job-details-card[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 5px 10px #0000000d;position:sticky;top:20px}.job-details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#27272a;margin-bottom:.5rem}.job-details-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#475569;font-weight:500}.empty-details[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:60px 20px}.btn-primary[_ngcontent-%COMP%]{background-color:#18181b;border-color:#18181b;padding:8px 16px;font-size:.9rem;border-radius:8px;font-family:Poppins,sans-serif}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#55555a;border-color:#55555a}.btn-danger[_ngcontent-%COMP%]{background-color:#cf2e3f;border-color:#cf2e3f;padding:8px 16px;font-size:.9rem;border-radius:8px;font-family:Poppins,sans-serif}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#b32332;border-color:#b32332}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:32px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003;font-family:Poppins,sans-serif}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#18181b;font-weight:700;margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#475569;font-size:.95rem}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #cbd5e1;border-radius:8px;font-family:Poppins,sans-serif;transition:border-color .2s,box-shadow .2s;color:#18181b}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.btn-secondary[_ngcontent-%COMP%]{background-color:#cf2e3f;border-color:#cf2e3f;color:#fff;padding:10px 20px;border-radius:8px;font-family:Poppins,sans-serif}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#dc2626;border-color:#dc2626}.confirmation-content[_ngcontent-%COMP%]{padding:40px 20px}.confirmation-icon[_ngcontent-%COMP%]{font-size:5rem;display:block}.btn-cancel-modal[_ngcontent-%COMP%]{font-size:.85rem!important;padding:6px 14px!important;height:fit-content}.question-text[_ngcontent-%COMP%]{color:var(--primary-color)!important;font-size:1rem}"]})};var Ws=[{email:"techcorp@example.com",company:"TechCorp"},{email:"devsolutions@example.com",company:"DevSolutions"},{email:"designify@example.com",company:"Designify"},{email:"syscare@example.com",company:"SysCare"},{email:"buildright@example.com",company:"BuildRight"},{email:"insightworks@example.com",company:"InsightWorks"},{email:"qualityplus@example.com",company:"QualityPlus"},{email:"appwave@example.com",company:"AppWave"},{email:"netsecure@example.com",company:"NetSecure"},{email:"copycraft@example.com",company:"CopyCraft"}],Ek="Employer123!",wk=class n{auth=R(Ai);firestore=R(fn);initializeEmployers(){return b(this,null,function*(){yield this.migrateOldJobs(),yield this.fixPostedByEmails();try{for(let e of Ws)try{let t=yield Hp(this.auth,e.email,Ek),r={uid:t.user.uid,email:e.email,role:"employer",company:e.company,savedJobs:[],createdAt:new Date};yield td(rt(this.firestore,"users",t.user.uid),r),console.log(`\u2713 Created employer: ${e.company}`)}catch(t){if(t.code==="auth/email-already-in-use"){console.log(`\u2713 Employer exists: ${e.company}`);let r=(yield Ht(Hs(Vt(this.firestore,"users"),zs("email","==",e.email)))).docs[0];r&&(yield td(rt(this.firestore,"users",r.id),{company:e.company},{merge:!0}),console.log(`\u2713 Updated employer company: ${e.company}`))}else console.error(`\u2717 Error creating ${e.company}:`,t.message)}yield this.mapJobsToCorrectEmployers(),console.log("%c=== EMPLOYER TEST ACCOUNTS ===","color: green; font-size: 14px; font-weight: bold;"),console.log(`Password: ${Ek}`),Ws.forEach(e=>console.log(`${e.company}: ${e.email}`))}catch(e){console.error("Employer initialization error:",e)}})}mapJobsToCorrectEmployers(){return b(this,null,function*(){try{let e=Vt(this.firestore,"jobs"),t=yield Ht(e),r=Vt(this.firestore,"users"),i={};for(let s of Ws){let a=Hs(r,zs("email","==",s.email)),c=yield Ht(a);if(c.docs.length>0){let u=c.docs[0].id;i[s.company]=u,console.log(`[Map Jobs] Found ${s.company} \u2192 ${u}`)}}let o=0;for(let s of t.docs){let a=s.data(),c=a.company,u=a.postedBy,h=i[c];h?h!==u&&(yield en(rt(this.firestore,"jobs",s.id),{postedBy:h}),console.log(`[Map Jobs] Job "${a.title}" (${c}): ${u} \u2192 ${h}`),o++):console.warn(`[Map Jobs] No employer found for company: ${c}`)}o>0?console.log(`%c\u2713 Corrected ${o} jobs to their proper employers`,"color: purple; font-weight: bold;"):console.log("[Map Jobs] All jobs already have correct employer assignments")}catch(e){console.error("Map jobs to employers error:",e)}})}fixPostedByEmails(){return b(this,null,function*(){try{let e=Vt(this.firestore,"jobs"),t=yield Ht(e),r=0,i=Vt(this.firestore,"users"),o={};for(let s of t.docs){let c=s.data().postedBy;if(c&&c.includes("@")){let u=c,h=o[u];if(!h){let g=Hs(i,zs("email","==",u)),v=yield Ht(g);v.docs.length>0&&(h=v.docs[0].id,o[u]=h)}h?(yield en(rt(this.firestore,"jobs",s.id),{postedBy:h}),console.log(`[Fix postedBy] Job ${s.id}: ${u} \u2192 ${h}`),r++):console.warn(`[Fix postedBy] Could not find UID for email: ${u}`)}}r>0?console.log(`%c\u2713 Fixed ${r} jobs with email postedBy`,"color: blue; font-weight: bold;"):console.log("[Fix postedBy] No jobs needed fixing")}catch(e){console.error("Fix postedBy error:",e)}})}migrateOldJobs(){return b(this,null,function*(){try{let e=Vt(this.firestore,"jobs"),t=yield Ht(e),r=0,i=Vt(this.firestore,"users"),o=Hs(i,zs("email","==",Ws[0].email)),s=yield Ht(o),a=s.docs.length>0?s.docs[0].id:Ws[0].email;for(let c of t.docs){let u=c.data(),h={};u.postedBy||(h.postedBy=a,console.log(`[Migration] Added postedBy to job ${c.id}`)),u.status||(h.status="approved",console.log(`[Migration] Added status to job ${c.id}`)),!u.company&&u.company_name?(h.company=u.company_name,console.log(`[Migration] Added company (from company_name) to job ${c.id}`)):u.company||(h.company="Unknown Company",console.log(`[Migration] Added default company to job ${c.id}`)),u.postedDate&&!(u.postedDate instanceof Be)&&!u.postedDate?.toDate?(typeof u.postedDate=="string"?h.postedDate=Be.fromDate(new Date(u.postedDate)):u.postedDate?.seconds&&(h.postedDate=Be.fromDate(new Date(u.postedDate.seconds*1e3))),console.log(`[Migration] Converted postedDate to Timestamp for job ${c.id}`)):u.postedDate||(h.postedDate=Be.now(),console.log(`[Migration] Added default postedDate to job ${c.id}`)),Object.keys(h).length>0&&(yield en(rt(this.firestore,"jobs",c.id),h),r++)}r>0&&console.log(`%c\u2713 Migrated ${r} jobs to current format`,"color: green; font-weight: bold;")}catch(e){console.error("Job migration error:",e)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ik=(n,e)=>e.value;function Bz(n,e){if(n&1&&(p(0,"div",2),y(1),m()),n&2){let t=P();w(),H(t.error)}}function $z(n,e){if(n&1&&(p(0,"option",25),y(1),m()),n&2){let t=e.$implicit;W("value",t.value),w(),H(t.label)}}function Hz(n,e){if(n&1&&(p(0,"option",25),y(1),m()),n&2){let t=e.$implicit;W("value",t.value),w(),H(t.label)}}function zz(n,e){if(n&1){let t=ce();p(0,"div",30)(1,"div",31)(2,"h2"),y(3,"Confirm Job Posting"),m(),p(4,"div",32)(5,"div",33)(6,"span",34),y(7,"Job Title:"),m(),p(8,"span",35),y(9),m()(),p(10,"div",33)(11,"span",34),y(12,"Company:"),m(),p(13,"span",35),y(14),m()(),p(15,"div",33)(16,"span",34),y(17,"Location:"),m(),p(18,"span",35),y(19),m()(),p(20,"div",33)(21,"span",34),y(22,"Type:"),m(),p(23,"span",35),y(24),m()(),p(25,"div",33)(26,"span",34),y(27,"Salary:"),m(),p(28,"span",35),y(29),m()(),p(30,"div",33)(31,"span",34),y(32,"Description:"),m(),p(33,"span",36),y(34),m()()(),p(35,"div",37)(36,"button",38),B("click",function(){j(t);let i=P();return U(i.confirmCreateJob())}),y(37),m(),p(38,"button",39),B("click",function(){j(t);let i=P();return U(i.closeConfirmModal())}),y(39,"Cancel"),m()()()()}if(n&2){let t=P();w(9),H(t.title),w(5),H(t.company),w(5),H(t.location),w(5),H(t.type),w(5),H(t.salary),w(5),H(t.description),w(2),W("disabled",t.isSubmitting),w(),Ce(" ",t.isSubmitting?"Creating...":"Confirm"," "),w(),W("disabled",t.isSubmitting)}}var ag=class n{jobService=R(tn);router=R(Ze);authService=R(ze);title="";company="";location="";type="";description="";salaryMin="";salaryMax="";salary="";error="";showConfirmModal=!1;isSubmitting=!1;salaryOptions=[{value:1e4,label:"\u20B110,000"},{value:2e4,label:"\u20B120,000"},{value:3e4,label:"\u20B130,000"},{value:4e4,label:"\u20B140,000"},{value:5e4,label:"\u20B150,000"},{value:75e3,label:"\u20B175,000"},{value:1e5,label:"\u20B1100,000"},{value:15e4,label:"\u20B1150,000"},{value:2e5,label:"\u20B1200,000"},{value:25e4,label:"\u20B1250,000"},{value:3e5,label:"\u20B1300,000+"}];ngOnInit(){let e=this.authService.userProfile();if(e?.role==="admin")this.company="JobBoard";else if(e?.company)this.company=e.company;else if(e?.email){let t=Ws.find(r=>r.email===e.email);t&&(this.company=t.company)}console.log("Company loaded:",this.company)}isAdmin(){return this.authService.userProfile()?.role==="admin"}openConfirmModal(){if(this.error="",!this.title||!this.location||!this.type||!this.description||!this.salaryMin||!this.salaryMax){this.error="Please fill in all fields";return}let e=parseInt(this.salaryMin),t=parseInt(this.salaryMax);if(e>=t){this.error="Minimum salary must be less than maximum salary";return}this.salary=`\u20B1${e.toLocaleString()} - \u20B1${t.toLocaleString()}`;let r=this.authService.userProfile();r?.role==="admin"?this.company="jobboard":r?.company?(this.company=r.company,console.log("Company set to:",this.company)):console.warn("Company not found in profile:",r),this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1}confirmCreateJob(){return b(this,null,function*(){this.isSubmitting=!0,this.error="";let e=this.authService.currentUser()?.uid;if(!e){this.error="User not authenticated",this.isSubmitting=!1;return}let t={title:this.title,company:this.company,location:this.location,type:this.type,description:this.description,salary:this.salary,postedBy:e};try{let r=yield this.jobService.create(t);r?(console.log("Job created successfully:",r),this.router.navigate(["/employer-jobs"])):(this.error="Failed to create job",this.isSubmitting=!1)}catch(r){console.error("Error creating job:",r),this.error="Error creating job: "+(r instanceof Error?r.message:String(r)),this.isSubmitting=!1}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-create-job"]],decls:62,vars:10,consts:[[1,"fw-bold"],[1,"container-fluid"],[1,"alert","alert-danger"],[1,"row"],["for","title"],[1,"input-icon-container"],[1,"fas","fa-briefcase","input-icon"],["type","text","name","job-title","id","title","placeholder","Enter job title",1,"form-control",3,"ngModelChange","ngModel"],["for","company"],[1,"fas","fa-building","input-icon"],["type","text","name","company","id","company","placeholder","Enter company name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","location"],[1,"fas","fa-location-dot","input-icon"],["type","text","name","job-location","id","location","placeholder","Enter city or region",1,"form-control",3,"ngModelChange","ngModel"],["for","type"],[1,"fas","fa-tag","input-icon"],["name","job-type","id","type",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Part-Time"],["value","Full-Time"],["value","Contract"],["value","Remote"],["for","salary-min"],[2,"display","flex","gap","10px","align-items","center"],["name","salary-min","id","salary-min",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["name","salary-max","id","salary-max",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["rows","5","name","job-description","placeholder","Enter Job Description, Necessary Skills, Experiences/Education Requirements, etc.",1,"form-control",3,"ngModelChange","ngModel"],[3,"click"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-body"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"value","description-text"],[1,"modal-footer"],[1,"btn-confirm",3,"click","disabled"],[1,"btn-cancel",3,"click","disabled"]],template:function(t,r){t&1&&(p(0,"h1",0),y(1,"Post a Job"),m(),p(2,"div",1),G(3,Bz,2,1,"div",2),p(4,"div",3)(5,"label",4),y(6,"Job Title"),m(),p(7,"div",5),ne(8,"i",6),p(9,"input",7),Ee("ngModelChange",function(o){return we(r.title,o)||(r.title=o),o}),m()()(),p(10,"div",3)(11,"label",8),y(12,"Company"),m(),p(13,"div",5),ne(14,"i",9),p(15,"input",10),Ee("ngModelChange",function(o){return we(r.company,o)||(r.company=o),o}),m()()(),p(16,"div",3)(17,"label",11),y(18,"Location"),m(),p(19,"div",5),ne(20,"i",12),p(21,"input",13),Ee("ngModelChange",function(o){return we(r.location,o)||(r.location=o),o}),m()()(),p(22,"div",3)(23,"label",14),y(24,"Type"),m(),p(25,"div",5),ne(26,"i",15),p(27,"select",16),Ee("ngModelChange",function(o){return we(r.type,o)||(r.type=o),o}),p(28,"option",17),y(29,"Select Job Type"),m(),p(30,"option",18),y(31,"Part-Time"),m(),p(32,"option",19),y(33,"Full-Time"),m(),p(34,"option",20),y(35,"Contract"),m(),p(36,"option",21),y(37,"Remote"),m()()()(),p(38,"div",3)(39,"label",22),y(40,"Salary Range"),m(),p(41,"div",23)(42,"select",24),Ee("ngModelChange",function(o){return we(r.salaryMin,o)||(r.salaryMin=o),o}),p(43,"option",17),y(44,"Min Salary"),m(),qe(45,$z,2,2,"option",25,Ik),m(),p(47,"span"),y(48,"-"),m(),p(49,"select",26),Ee("ngModelChange",function(o){return we(r.salaryMax,o)||(r.salaryMax=o),o}),p(50,"option",17),y(51,"Max Salary"),m(),qe(52,Hz,2,2,"option",25,Ik),m()()(),p(54,"div",3)(55,"label",27),y(56,"Description"),m(),p(57,"textarea",28),Ee("ngModelChange",function(o){return we(r.description,o)||(r.description=o),o}),m()(),p(58,"div",3)(59,"button",29),B("click",function(){return r.openConfirmModal()}),y(60,"Post Job"),m()()(),G(61,zz,40,9,"div",30)),t&2&&(w(3),J(r.error?3:-1),w(6),be("ngModel",r.title),w(6),be("ngModel",r.company),W("disabled",r.isAdmin()),w(6),be("ngModel",r.location),w(6),be("ngModel",r.type),w(15),be("ngModel",r.salaryMin),w(3),We(r.salaryOptions),w(4),be("ngModel",r.salaryMax),w(3),We(r.salaryOptions),w(5),be("ngModel",r.description),w(4),J(r.showConfirmModal?61:-1))},dependencies:[In,Kr,Qr,nn,Jr,wn,pn,ut],styles:[".container-fluid[_ngcontent-%COMP%]{max-width:800px;margin:40px auto;background:#fff;padding:60px;border-radius:16px;box-shadow:0 4px 6px -1px #0000000d;border:1px solid #e4e4e7}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;color:var(--primary-color);font-weight:800}.row[_ngcontent-%COMP%]{margin-bottom:24px;display:block}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--text-main);margin-bottom:8px;font-size:.95rem}.input-icon-container[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:30px;transform:translateY(-50%);color:#a1a1aa;font-size:1.2rem;z-index:2;pointer-events:none}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-icon-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:60px;height:54px;border-radius:8px;border:1px solid #e4e4e7;font-family:Poppins,sans-serif}button[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1.1rem;margin-top:20px;background-color:var(--primary-color);color:#fff;border:none;border-radius:var(--border-radius);font-weight:600;transition:all .2s}button[_ngcontent-%COMP%]:hover{background-color:#55555a;transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a}"]})};function qz(n,e){if(n&1&&(p(0,"div",4),y(1),m()),n&2){let t=P();w(),Ce(" ",t.authError()," ")}}function Wz(n,e){if(n&1){let t=ce();p(0,"div",20)(1,"label",21),y(2,"First Name"),m(),p(3,"input",22),B("ngModelChange",function(i){j(t);let o=P();return U(o.firstName.set(i))}),m()()}if(n&2){let t=P();w(3),W("ngModel",t.firstName())("disabled",t.loading())}}function Gz(n,e){if(n&1){let t=ce();p(0,"div",20)(1,"label",23),y(2,"Last Name"),m(),p(3,"input",24),B("ngModelChange",function(i){j(t);let o=P();return U(o.lastName.set(i))}),m()()}if(n&2){let t=P();w(3),W("ngModel",t.lastName())("disabled",t.loading())}}function Jz(n,e){if(n&1){let t=ce();p(0,"div",20)(1,"label",25),y(2,"Company Name"),m(),p(3,"input",26),B("ngModelChange",function(i){j(t);let o=P();return U(o.companyName.set(i))}),m()()}if(n&2){let t=P();w(3),W("ngModel",t.companyName())("disabled",t.loading())}}function Kz(n,e){n&1&&y(0," I confirm that I am of legal age to use this platform (job seekers must be 18 or older) and I agree to the ")}function Qz(n,e){n&1&&y(0," I agree to the ")}function Yz(n,e){if(n&1){let t=ce();p(0,"div",20)(1,"label",27),y(2,"I am a..."),m(),p(3,"div",28)(4,"button",29),B("click",function(){j(t);let i=P();return U(i.setRole("applicant"))}),p(5,"div",30),y(6,"\u{1F464}"),m(),p(7,"div",31),y(8,"Job Seeker"),m(),p(9,"div",32),y(10,"Looking for jobs"),m()(),p(11,"button",29),B("click",function(){j(t);let i=P();return U(i.setRole("employer"))}),p(12,"div",30),y(13,"\u{1F3E2}"),m(),p(14,"div",31),y(15,"Employer"),m(),p(16,"div",32),y(17,"Posting jobs"),m()()()(),p(18,"div",33)(19,"input",34),B("ngModelChange",function(i){j(t);let o=P();return U(o.acceptedTerms.set(i))}),m(),p(20,"label",35),G(21,Kz,1,0)(22,Qz,1,0),p(23,"a",36),B("click",function(){j(t);let i=P();return U(i.showTerms.set(!0))}),y(24,"Terms and Conditions"),m(),y(25,". "),m()()}if(n&2){let t=P();w(4),It("active",t.selectedRole()==="applicant"),W("disabled",t.loading()),w(7),It("active",t.selectedRole()==="employer"),W("disabled",t.loading()),w(8),W("ngModel",t.acceptedTerms())("disabled",t.loading()),w(2),J(t.selectedRole()==="applicant"?21:22)}}function Zz(n,e){n&1&&(ne(0,"span",37),y(1," Please wait... "))}function Xz(n,e){if(n&1&&y(0),n&2){let t=P();Ce(" ",t.isRegisterMode()?"Sign Up":"Login"," ")}}function e9(n,e){if(n&1){let t=ce();p(0,"div",15)(1,"button",38),B("click",function(){j(t);let i=P();return U(i.onForgotPassword())}),y(2),m()()}if(n&2){let t=P();w(),W("disabled",t.resetInProgress()||t.loading()),w(),Ce(" ",t.resetInProgress()?"Sending reset email...":"Forgot password?"," ")}}function t9(n,e){if(n&1){let t=ce();p(0,"div",16)(1,"div",39)(2,"h4"),y(3,"Terms and Conditions"),m(),p(4,"p",40),y(5," Please read these Terms and Conditions carefully before creating an account. "),m(),p(6,"div",41)(7,"h6"),y(8,"1. Eligibility"),m(),p(9,"p"),y(10," By creating a job seeker account, you confirm that you are at least 18 years old. Employers confirm they are authorized to post jobs and represent their organization. "),m(),p(11,"h6"),y(12,"2. Use of the Platform"),m(),p(13,"p"),y(14," You agree to provide accurate information in your profile and job listings, and not to post misleading, fraudulent, or inappropriate content. "),m(),p(15,"h6"),y(16,"3. Data & Privacy"),m(),p(17,"p"),y(18," Your profile information and job listings may be visible to other users of the platform. Do not share sensitive personal information (e.g., government IDs, bank details) through this site. "),m(),p(19,"h6"),y(20,"4. Prohibited Activities"),m(),p(21,"p"),y(22," You agree not to use the platform to harass, discriminate, or otherwise harm other users, and not to attempt to circumvent security or misuse the service. "),m(),p(23,"h6"),y(24,"5. Changes to These Terms"),m(),p(25,"p"),y(26," These Terms may be updated over time. Continued use of the platform after changes are posted constitutes acceptance of the updated Terms. "),m()(),p(27,"div",42)(28,"button",43),B("click",function(){j(t);let i=P();return U(i.showTerms.set(!1))}),y(29,"Close"),m()()()()}}function n9(n,e){if(n&1){let t=ce();p(0,"div",16)(1,"div",39)(2,"h4"),y(3,"Password Reset Email Sent"),m(),p(4,"p",44),y(5," If an account exists for "),p(6,"strong"),y(7),m(),y(8,", a password reset link has been sent to that address. "),m(),p(9,"p",45),y(10," Please check your inbox (and spam folder). Follow the link in the email to create a new password. "),m(),p(11,"div",42)(12,"button",43),B("click",function(){j(t);let i=P();return U(i.showResetConfirmation.set(!1))}),y(13,"Close"),m()()()()}if(n&2){let t=P();w(7),H(t.email())}}var cg=class n{authService=R(ze);firstName=ee("");lastName=ee("");companyName=ee("");email=ee("");password=ee("");selectedRole=ee("applicant");isRegisterMode=ee(!1);showPassword=ee(!1);acceptedTerms=ee(!1);showTerms=ee(!1);showResetConfirmation=ee(!1);resetInProgress=ee(!1);loading=this.authService.loading;authError=this.authService.authError;ngOnInit(){this.authService.clearError(),this.resetForm()}ngOnDestroy(){this.authService.clearError()}toggleMode(){this.isRegisterMode.update(e=>!e),this.authService.clearError()}resetForm(){this.email.set(""),this.password.set(""),this.selectedRole.set("applicant"),this.acceptedTerms.set(!1),this.showTerms.set(!1)}setRole(e){this.selectedRole.set(e)}onForgotPassword(){return b(this,null,function*(){let e=this.email().trim();if(this.authService.clearError(),!e){this.authService.authError.set("Please enter your email address to reset your password.");return}this.resetInProgress.set(!0);try{yield this.authService.sendPasswordReset(e),this.showResetConfirmation.set(!0)}catch{}finally{this.resetInProgress.set(!1)}})}onSubmit(){return b(this,null,function*(){let e=this.email(),t=this.password(),r=this.firstName(),i=this.lastName(),o=this.companyName();if(!e||!t){this.authService.authError.set("Please fill in all fields.");return}if(this.isRegisterMode()&&!this.acceptedTerms()){this.authService.authError.set("You must agree to the Terms and Conditions to create an account.");return}let s;this.isRegisterMode()?s=yield this.authService.register(r,i,o,e,t,this.selectedRole()):s=yield this.authService.login(e,t),s&&this.resetForm()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-login"]],decls:32,vars:20,consts:[[1,"login-container"],[1,"login-card"],[1,"text-center","mb-4"],[3,"ngSubmit"],["role","alert",1,"alert","alert-danger"],["class","mb-4",4,"ngIf"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","password",1,"form-label"],[1,"input-group"],["id","password","name","password","placeholder","Enter your password",1,"form-control",3,"ngModelChange","type","ngModel","disabled"],["type","button","aria-label","Toggle password visibility",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100","mb-3",3,"disabled"],[1,"text-end","mb-3"],[1,"modal-overlay"],[1,"text-center"],[1,"mb-0"],["href","javascript:void(0)",1,"text-primary",3,"click"],[1,"mb-4"],["for","firstName",1,"form-label"],["type","text","id","firstName","name","firstName","placeholder","Enter your First Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","lastName",1,"form-label"],["type","text","id","lastName","name","lastName","placeholder","Enter your Last Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","companyName",1,"form-label"],["type","text","id","companyName","name","email","placeholder","Enter your Company Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-label"],[1,"role-selector"],["type","button",1,"role-btn",3,"click","disabled"],[1,"role-icon"],[1,"role-title"],[1,"role-desc"],[1,"form-check","mb-3"],["type","checkbox","id","terms","name","terms",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","terms",1,"form-check-label"],["href","javascript:void(0)",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["type","button",1,"btn","btn-link","p-0",3,"click","disabled"],[1,"modal-content","modal-lg"],[1,"text-muted","small","mb-3"],[1,"terms-body"],[1,"modal-footer","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"mt-3"],[1,"text-muted","small"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h2",2),y(3),m(),p(4,"form",3),B("ngSubmit",function(){return r.onSubmit()}),G(5,qz,2,1,"div",4),vf(6,Wz,4,2,"div",5)(7,Gz,4,2,"div",5)(8,Jz,4,2,"div",5),p(9,"div",6)(10,"label",7),y(11,"Email address"),m(),p(12,"input",8),B("ngModelChange",function(o){return r.email.set(o)}),m()(),p(13,"div",6)(14,"label",9),y(15,"Password"),m(),p(16,"div",10)(17,"input",11),B("ngModelChange",function(o){return r.password.set(o)}),m(),p(18,"button",12),B("click",function(){return r.showPassword.set(!r.showPassword())}),ne(19,"i",13),m()()(),G(20,Yz,26,9),p(21,"button",14),G(22,Zz,2,0)(23,Xz,1,1),m(),G(24,e9,3,2,"div",15),m(),G(25,t9,30,0,"div",16),G(26,n9,14,1,"div",16),p(27,"div",17)(28,"p",18),y(29),p(30,"a",19),B("click",function(){return r.toggleMode()}),y(31),m()()()()()),t&2&&(w(3),Ce(" ",r.isRegisterMode()?"Create Account":"Welcome Back!"," "),w(2),J(r.authError()?5:-1),w(),W("ngIf",r.isRegisterMode()&&r.selectedRole()==="applicant"),w(),W("ngIf",r.isRegisterMode()&&r.selectedRole()==="applicant"),w(),W("ngIf",r.isRegisterMode()&&r.selectedRole()==="employer"),w(4),W("ngModel",r.email())("disabled",r.loading()),w(5),W("type",r.showPassword()?"text":"password")("ngModel",r.password())("disabled",r.loading()),w(),W("disabled",r.loading()),w(),W("ngClass",r.showPassword()?"fa-eye-slash":"fa-eye"),w(),J(r.isRegisterMode()?20:-1),w(),W("disabled",r.loading()),w(),J(r.loading()?22:23),w(2),J(r.isRegisterMode()?-1:24),w(),J(r.showTerms()?25:-1),w(),J(r.showResetConfirmation()?26:-1),w(3),Ce(" ",r.isRegisterMode()?"Already have an account?":"Don't have an account?"," "),w(2),Ce(" ",r.isRegisterMode()?"Login":"Sign Up"," "))},dependencies:[ut,bi,i0,In,og,nn,LI,wn,rg,pn,ld,wi],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - var(--navbar-height));padding:40px 20px;background-color:var(--bg-body)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:50px 40px;border-radius:16px;box-shadow:0 10px 25px -5px #0000001a,0 8px 10px -6px #0000001a;width:100%;max-width:480px}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#18181b;font-weight:800}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;border:1px solid #e0e0e0;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#021de6;box-shadow:0 0 0 3px #020ae633}.btn-primary[_ngcontent-%COMP%]{font-family:Poppins;padding:12px;border-radius:15px;font-weight:500;background-color:#18181b;border-color:#18181b}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#55555a;border-color:#55555a}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d}.text-primary[_ngcontent-%COMP%]{color:#e60278!important;text-decoration:none;font-weight:500}.text-primary[_ngcontent-%COMP%]:hover{text-decoration:underline}.role-selector[_ngcontent-%COMP%]{display:flex;gap:12px}.role-btn[_ngcontent-%COMP%]{flex:1;padding:14px;border:1px solid #cbd5e1;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:center}.role-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#0228e6;background:#d1d4f7}.role-btn.active[_ngcontent-%COMP%]{border-color:#d1d4f7;background:#d1d4f7}.role-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.role-icon[_ngcontent-%COMP%]{font-family:Poppins;font-size:24px;margin-bottom:8px}.role-title[_ngcontent-%COMP%]{font-family:Poppins;font-weight:600;color:#051a49;margin-bottom:4px}.role-desc[_ngcontent-%COMP%]{font-family:Poppins;font-size:12px;color:#455263}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:24px;max-width:640px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 8px 20px #0003;font-family:Poppins,sans-serif}.terms-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1rem;font-weight:600;color:#051a49}.terms-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#4b5563}"]})};var r9=()=>[],i9=(n,e)=>e.id;function o9(n,e){if(n&1&&(p(0,"div",18),y(1),m()),n&2){let t,r,i,o=P();It("alert-success",((t=o.actionMessage())==null?null:t.type)==="success")("alert-danger",((r=o.actionMessage())==null?null:r.type)==="error"),w(),Ce(" ",(i=o.actionMessage())==null?null:i.text," ")}}function s9(n,e){n&1&&(p(0,"div",17)(1,"div",19)(2,"span",20),y(3,"Loading..."),m()()())}function a9(n,e){n&1&&y(0," No jobs found matching your search criteria. ")}function c9(n,e){n&1&&y(0," No jobs available. ")}function l9(n,e){if(n&1&&(p(0,"div",21),G(1,a9,1,0)(2,c9,1,0),m()),n&2){let t=P(2);w(),J(t.filteredJobs().length===0&&(t.searchTitle()||t.searchCompany()||t.searchLocation())?1:2)}}function u9(n,e){if(n&1){let t=ce();p(0,"tr")(1,"td",35),y(2),m(),p(3,"td")(4,"strong"),y(5),m()(),p(6,"td"),y(7),m(),p(8,"td"),y(9),m(),p(10,"td")(11,"span",36),y(12),m()(),p(13,"td")(14,"button",37),B("click",function(){let i=j(t).$implicit,o=P(3);return U(o.selectJob(i))}),y(15," View "),m(),p(16,"button",38),B("click",function(){let i=j(t).$implicit,o=P(3);return U(o.openDeleteConfirm(i))}),y(17," Delete "),m()()()}if(n&2){let t=e.$implicit;w(2),H(t.id),w(3),H(t.title),w(2),H(t.company),w(2),H(t.location),w(3),H(t.type)}}function d9(n,e){if(n&1&&(p(0,"option",28),y(1),m()),n&2){let t=e.$implicit,r=P(3);W("value",t)("selected",r.pageSize()===t),w(),H(t)}}function h9(n,e){if(n&1){let t=ce();p(0,"button",39),B("click",function(){let i=j(t).$index,o=P(3);return U(o.goToPage(i+1))}),y(1),m()}if(n&2){let t=e.$index,r=P(3);It("btn-primary",r.currentPage()===t+1)("btn-outline-primary",r.currentPage()!==t+1),w(),Ce(" ",t+1," ")}}function f9(n,e){if(n&1){let t=ce();p(0,"div",22)(1,"table",23)(2,"thead",24)(3,"tr")(4,"th"),y(5,"ID"),m(),p(6,"th"),y(7,"Title"),m(),p(8,"th"),y(9,"Company"),m(),p(10,"th"),y(11,"Location"),m(),p(12,"th"),y(13,"Type"),m(),p(14,"th"),y(15,"Actions"),m()()(),p(16,"tbody"),qe(17,u9,18,5,"tr",null,i9),m()()(),p(19,"div",25)(20,"div")(21,"label",26),y(22,"Rows per page:"),m(),p(23,"select",27),B("change",function(i){j(t);let o=P(2);return U(o.changePageSize(i.target.value))}),qe(24,d9,2,3,"option",28,Ol),m()(),p(26,"div",29)(27,"button",30),B("click",function(){j(t);let i=P(2);return U(i.previousPage())}),y(28," Previous "),m(),p(29,"div",31),qe(30,h9,2,5,"button",32,gi),m(),p(32,"button",33),B("click",function(){j(t);let i=P(2);return U(i.nextPage())}),y(33," Next "),m()(),p(34,"div")(35,"small",34),y(36),m()()()}if(n&2){let t=P(2);w(17),We(t.paginatedJobs()),w(7),We(t.pageSizeOptions),w(3),W("disabled",t.currentPage()===1),w(3),We(ps(4,r9).constructor(t.totalPages())),w(2),W("disabled",t.currentPage()===t.totalPages()),w(4),_n("Page ",t.currentPage()," of ",t.totalPages())}}function p9(n,e){if(n&1&&G(0,l9,3,1,"div",21)(1,f9,37,5),n&2){let t=P();J(t.paginatedJobs().length===0?0:1)}}function m9(n,e){if(n&1){let t=ce();p(0,"div",40),B("click",function(){j(t);let i=P();return U(i.closeModal())}),m(),p(1,"div",41)(2,"div",42)(3,"div",43)(4,"h5",44),y(5),m(),p(6,"button",45),B("click",function(){j(t);let i=P();return U(i.closeModal())}),m()(),p(7,"div",46)(8,"div",47)(9,"label",48),y(10,"Company:"),m(),p(11,"p"),y(12),m()(),p(13,"div",47)(14,"label",48),y(15,"Location:"),m(),p(16,"p"),y(17),m()(),p(18,"div",47)(19,"label",48),y(20,"Type:"),m(),p(21,"p"),y(22),m()(),p(23,"div",47)(24,"label",48),y(25,"Salary:"),m(),p(26,"p",49),y(27),m()(),p(28,"div",47)(29,"label",48),y(30,"Description:"),m(),p(31,"p"),y(32),m()(),p(33,"div",47)(34,"label",48),y(35,"Status:"),m(),p(36,"p"),y(37),m()()(),p(38,"div",50)(39,"button",51),B("click",function(){j(t);let i=P();return U(i.approveJob(i.selectedJob()))}),y(40," Approve "),m(),p(41,"button",52),B("click",function(){j(t);let i=P();return U(i.openRejectConfirm(i.selectedJob()))}),y(42," Reject "),m(),p(43,"button",16),B("click",function(){j(t);let i=P();return U(i.openDeleteConfirm(i.selectedJob()))}),y(44," Delete "),m()()()()}if(n&2){let t,r,i,o,s,a,c,u=P();w(5),H((t=u.selectedJob())==null?null:t.title),w(7),H((r=u.selectedJob())==null?null:r.company),w(5),H((i=u.selectedJob())==null?null:i.location),w(5),H((o=u.selectedJob())==null?null:o.type),w(5),H((s=u.selectedJob())==null?null:s.salary),w(5),H((a=u.selectedJob())==null?null:a.description),w(5),H(((c=u.selectedJob())==null?null:c.status)||"N/A")}}function g9(n,e){if(n&1){let t=ce();p(0,"div",40),B("click",function(){j(t);let i=P();return U(i.closeConfirmModal())}),m(),p(1,"div",41)(2,"div",42)(3,"div",43)(4,"h5",44),ne(5,"i",53),y(6),m(),p(7,"button",45),B("click",function(){j(t);let i=P();return U(i.closeConfirmModal())}),m()(),p(8,"div",46)(9,"p"),y(10),m()(),p(11,"div",50)(12,"button",54),B("click",function(){j(t);let i=P();return U(i.closeConfirmModal())}),y(13,"Cancel"),m(),p(14,"button",16),B("click",function(){j(t);let i=P();return U(i.executeConfirmAction())}),y(15,"Confirm"),m()()()()}if(n&2){let t=P();w(6),H(t.confirmModalTitle),w(4),H(t.confirmModalMessage)}}var lg=class n{jobsService=R(tn);allJobs=ee([]);selectedJob=ee(null);loading=ee(!1);actionMessage=ee(null);showConfirmModal=!1;confirmModalTitle="";confirmModalMessage="";confirmModalAction=null;jobToAction=null;searchTitle=ee("");searchCompany=ee("");searchLocation=ee("");currentPage=ee(1);pageSize=ee(10);pageSizeOptions=[5,10,25,50];filteredJobs=bn(()=>{let e=this.allJobs(),t=this.searchTitle().toLowerCase(),r=this.searchCompany().toLowerCase(),i=this.searchLocation().toLowerCase();return t&&(e=e.filter(o=>o.title.toLowerCase().includes(t))),r&&(e=e.filter(o=>o.company.toLowerCase().includes(r))),i&&(e=e.filter(o=>o.location.toLowerCase().includes(i))),e});totalPages=bn(()=>Math.ceil(this.filteredJobs().length/this.pageSize()));paginatedJobs=bn(()=>{let e=this.filteredJobs(),t=(this.currentPage()-1)*this.pageSize(),r=t+this.pageSize();return e.slice(t,r)});ngOnInit(){this.loadJobs()}loadJobs(){this.loading.set(!0),this.allJobs.set(this.jobsService.list()),this.currentPage.set(1),this.loading.set(!1)}resetFilters(){this.searchTitle.set(""),this.searchCompany.set(""),this.searchLocation.set(""),this.currentPage.set(1)}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}previousPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}changePageSize(e){this.pageSize.set(e),this.currentPage.set(1)}selectJob(e){this.selectedJob.set(e),this.actionMessage.set(null)}closeModal(){this.selectedJob.set(null),this.actionMessage.set(null)}approveJob(e){return b(this,null,function*(){e.id&&(yield this.jobsService.update(e.id,{status:"approved"}),this.loadJobs(),this.showMessage("success",`Job "${e.title}" has been approved.`),this.closeModal())})}openRejectConfirm(e){this.jobToAction=e,this.confirmModalTitle="Reject Job",this.confirmModalMessage=`Are you sure you want to reject "${e.title}"?`,this.confirmModalAction=()=>b(this,null,function*(){this.jobToAction?.id&&(yield this.jobsService.delete(this.jobToAction.id),this.loadJobs(),this.showMessage("success",`Job "${this.jobToAction.title}" has been removed.`),this.closeModal())}),this.showConfirmModal=!0}openDeleteConfirm(e){this.jobToAction=e,this.confirmModalTitle="Delete Job",this.confirmModalMessage=`Are you sure you want to delete "${e.title}"? This action cannot be undone.`,this.confirmModalAction=()=>b(this,null,function*(){this.jobToAction?.id&&(yield this.jobsService.delete(this.jobToAction.id),this.loadJobs(),this.showMessage("success",`Job "${this.jobToAction.title}" has been deleted.`),this.closeModal())}),this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1,this.confirmModalTitle="",this.confirmModalMessage="",this.confirmModalAction=null,this.jobToAction=null}executeConfirmAction(){return b(this,null,function*(){this.confirmModalAction&&(yield this.confirmModalAction()),this.closeConfirmModal()})}showMessage(e,t){this.actionMessage.set({type:e,text:t}),setTimeout(()=>this.actionMessage.set(null),3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-admin-dashboard"]],decls:30,vars:9,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-dark"],[1,"alert",3,"alert-success","alert-danger"],[1,"mb-4"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-3"],[1,"input-icon-container"],[1,"fas","fa-search","input-icon"],["type","text","placeholder","Search by Title",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-building","input-icon"],["type","text","placeholder","Search by Company",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-location-dot","input-icon"],["type","text","placeholder","Search by Location",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-danger",3,"click"],[1,"text-center","py-5"],[1,"alert"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-info","text-center"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-dark"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"me-2"],[1,"form-select","d-inline-block",2,"width","auto",3,"change"],[3,"value","selected"],[1,"pagination","m-0"],[1,"btn","btn-outline-primary","me-1",3,"click","disabled"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"btn-primary","btn-outline-primary"],[1,"btn","btn-outline-primary","ms-1",3,"click","disabled"],[1,"text-muted"],[1,"text-truncate",2,"max-width","80px","font-size","0.85rem"],[1,"badge","badge-meta"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],["title","Permanently Delete Job",1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","button",1,"btn",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"fw-bold"],[1,"text-success"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),y(3,"Admin Dashboard"),m(),p(4,"span",2),y(5),m()(),G(6,o9,2,5,"div",3),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),ne(13,"i",10),p(14,"input",11),Ee("ngModelChange",function(o){return we(r.searchTitle,o)||(r.searchTitle=o),o}),m()()(),p(15,"div",8)(16,"div",9),ne(17,"i",12),p(18,"input",13),Ee("ngModelChange",function(o){return we(r.searchCompany,o)||(r.searchCompany=o),o}),m()()(),p(19,"div",8)(20,"div",9),ne(21,"i",14),p(22,"input",15),Ee("ngModelChange",function(o){return we(r.searchLocation,o)||(r.searchLocation=o),o}),m()()(),p(23,"div",8)(24,"button",16),B("click",function(){return r.resetFilters()}),y(25," Reset Filters "),m()()()()()(),G(26,s9,4,0,"div",17)(27,p9,2,1),m(),G(28,m9,45,7),G(29,g9,16,2)),t&2&&(w(5),_n("",r.allJobs().length," Total Jobs | ",r.filteredJobs().length," Filtered"),w(),J(r.actionMessage()?6:-1),w(8),be("ngModel",r.searchTitle),w(4),be("ngModel",r.searchCompany),w(4),be("ngModel",r.searchLocation),w(4),J(r.loading()?26:27),w(2),J(r.selectedJob()?28:-1),w(),J(r.showConfirmModal?29:-1))},dependencies:[ut,In,Kr,Qr,nn,wn,pn],styles:[".badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:12px;overflow:hidden}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #051a49;--bs-table-border-color: #051a49;color:#fff}.card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 1px 3px #0000001a;border-radius:12px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}.search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.form-control[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:none}.btn-success[_ngcontent-%COMP%]{--bs-btn-bg: #1f57bf;--bs-btn-border-color: #1f57bf;--bs-btn-hover-bg: #19489f;--bs-btn-hover-border-color: #19489f;color:#fff}.btn-warning[_ngcontent-%COMP%]{--bs-btn-bg: #e60278;--bs-btn-border-color: #e60278;--bs-btn-hover-bg: #cc026b;--bs-btn-hover-border-color: #cc026b;color:#fff}.btn-danger[_ngcontent-%COMP%]{--bs-btn-bg: #dc3545;--bs-btn-border-color: #dc3545;--bs-btn-hover-bg: #c82333;--bs-btn-hover-border-color: #c82333;color:#fff;padding:10px 16px;font-size:1rem}.btn-outline-primary[_ngcontent-%COMP%]{--bs-btn-color: #3b82f6;--bs-btn-border-color: #3b82f6;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #3b82f6;--bs-btn-active-bg: #2563eb;--bs-btn-active-border-color: #2563eb}.btn-primary[_ngcontent-%COMP%]{--bs-btn-bg: #3b82f6;--bs-btn-border-color: #3b82f6}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1040}.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;width:100%;max-width:600px;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;overflow:hidden;font-family:Poppins,sans-serif}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{margin:0;font-weight:600}.modal-body[_ngcontent-%COMP%]{padding:20px;max-height:400px;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e0e0e0;display:flex;gap:10px;justify-content:flex-end}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.pagination[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:4px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}h2[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700}"]})};var y9=(n,e)=>e.id;function v9(n,e){n&1&&(p(0,"div",2)(1,"div",5)(2,"span",6),y(3,"Loading..."),m()()())}function _9(n,e){n&1&&(p(0,"div",3)(1,"div",7),ne(2,"i",8),m(),p(3,"h4"),y(4,"No saved jobs yet"),m(),p(5,"p",9),y(6,"Jobs you save will appear here"),m(),p(7,"a",10),y(8,"Browse Jobs"),m()())}function b9(n,e){if(n&1){let t=ce();p(0,"div",11)(1,"div",12)(2,"div",13)(3,"h5",14),y(4),m(),p(5,"p",15),y(6),m(),p(7,"div",16)(8,"span",17),y(9),m(),p(10,"span",18),y(11),m()(),p(12,"p",19),y(13),m()(),p(14,"div",20)(15,"button",21),B("click",function(){let i=j(t).$implicit,o=P(2);return U(o.removeSavedJob(i.id))}),ne(16,"i",22),y(17," Remove "),m()()()()}if(n&2){let t=e.$implicit;w(4),H(t.title),w(2),H(t.company),w(3),H(t.location),w(2),H(t.type),w(2),H(t.salary)}}function E9(n,e){if(n&1&&(p(0,"div",4),qe(1,b9,18,5,"div",11,y9),m()),n&2){let t=P();w(),We(t.savedJobs())}}var ug=class n{authService=R(ze);jobsService=R(tn);savedJobs=ee([]);loading=ee(!1);ngOnInit(){this.loadSavedJobs()}loadSavedJobs(){this.loading.set(!0);let e=this.authService.userProfile()?.savedJobs||[],r=this.jobsService.list().filter(i=>i.id&&e.includes(i.id));this.savedJobs.set(r),this.loading.set(!1)}removeSavedJob(e){return b(this,null,function*(){e&&(yield this.jobsService.unsaveJob(e),this.loadSavedJobs())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-saved-jobs"]],decls:6,vars:1,consts:[[1,"container","py-4"],[1,"mb-4","fw-bold"],[1,"text-center","py-5"],[1,"empty-state","text-center","py-5"],[1,"row"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"empty-icon","mb-3"],[1,"fas","fa-bookmark","empty-state-icon"],[1,"text-muted"],["routerLink","/job-list",1,"btn","btn-primary","btn-lg"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","job-card","h-100","d-flex","flex-column"],[1,"card-body","flex-grow-1"],[1,"card-title"],[1,"company-name","text-muted","mb-2"],[1,"job-meta","mb-3"],[1,"badge","badge-meta","me-2"],[1,"badge","badge-meta"],[1,"salary","text-success","fw-bold","mb-0"],[1,"p-3","border-top-0","pt-0","d-flex","justify-content-start"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt","me-2"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2",1),y(2,"Saved Jobs"),m(),G(3,v9,4,0,"div",2)(4,_9,9,0,"div",3)(5,E9,3,0,"div",4),m()),t&2&&(w(3),J(r.loading()?3:r.savedJobs().length===0?4:5))},dependencies:[ut,wi,Or],styles:[".container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.empty-state[_ngcontent-%COMP%]{background:#f4f7f9;border-radius:12px;padding:60px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#051a49;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content}.job-card[_ngcontent-%COMP%]{border:1px solid #e4e4e7;border-radius:16px;transition:transform .2s,box-shadow .2s;font-family:Poppins,sans-serif;position:relative;background:#fff;overflow:hidden;box-shadow:0 4px 6px -1px #0000000d}.job-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 15px 25px #0000001a;z-index:10}.job-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:24px!important}.job-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 24px 24px;border-top:none!important}.card-title[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;color:#18181b}.company-name[_ngcontent-%COMP%]{font-size:1rem;color:#64748b!important}.badge-meta[_ngcontent-%COMP%]{background-color:#18181b;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.salary[_ngcontent-%COMP%]{font-size:1rem}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px;border-radius:12px;font-family:Poppins,sans-serif}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb;border-color:#2563eb}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545;color:#fff;padding:6px 14px!important;border-radius:8px}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#c82333}"]})};var w9=(n,e)=>e.id;function I9(n,e){n&1&&(p(0,"div",2)(1,"div",5)(2,"span",6),y(3,"Loading..."),m()()())}function C9(n,e){n&1&&(p(0,"div",3)(1,"div",7),ne(2,"i",8),m(),p(3,"h4"),y(4,"No applied jobs yet"),m(),p(5,"p",9),y(6,"Jobs you apply to will appear here"),m(),p(7,"a",10),y(8,"Browse Jobs"),m()())}function D9(n,e){if(n&1&&(p(0,"div",11)(1,"div",12)(2,"div",13)(3,"h5",14),y(4),m(),p(5,"p",15),y(6),m(),p(7,"div",16)(8,"span",17),y(9),m(),p(10,"span",18),y(11),m()(),p(12,"p",19),y(13),m(),p(14,"div",20)(15,"span",21),y(16),qn(17,"titlecase"),m()()()()()),n&2){let t=e.$implicit,r=P(2);w(4),H(t.title),w(2),H(t.company),w(3),H(t.location),w(2),H(t.type),w(2),H(t.salary),w(2),W("ngClass",r.getStatusBadgeClass(t.applicationStatus)),w(),Ce(" Application: ",Pa(17,7,t.applicationStatus)," ")}}function T9(n,e){if(n&1&&(p(0,"div",4),qe(1,D9,18,9,"div",11,w9),m()),n&2){let t=P();w(),We(t.appliedJobs())}}var dg=class n{authService=R(ze);jobsService=R(tn);appliedJobs=ee([]);loading=ee(!1);ngOnInit(){return b(this,null,function*(){yield this.loadAppliedJobs()})}loadAppliedJobs(){return b(this,null,function*(){this.loading.set(!0);let e=this.authService.currentUser()?.uid;if(e){let r=(yield this.jobsService.getAllJobs()).filter(i=>i.applicants?.some(o=>o.userId===e&&o.status!=="rejected")).map(i=>{let o=i.applicants?.find(s=>s.userId===e);return te(V({},i),{applicationStatus:o?.status||"pending"})});this.appliedJobs.set(r)}this.loading.set(!1)})}getStatusBadgeClass(e){switch(e){case"accepted":return"bg-success";case"pending":return"bg-warning text-dark";case"rejected":return"bg-danger";default:return"bg-secondary"}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-applied-jobs"]],decls:6,vars:1,consts:[[1,"container","py-4"],[1,"mb-4","fw-bold"],[1,"text-center","py-5"],[1,"empty-state","text-center","py-5"],[1,"row"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"empty-icon","mb-3"],[1,"fas","fa-briefcase","empty-state-icon"],[1,"text-muted"],["routerLink","/job-list",1,"btn","btn-primary","btn-lg"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","job-card","h-100"],[1,"card-body"],[1,"card-title"],[1,"company-name","text-muted","mb-2"],[1,"job-meta","mb-3"],[1,"badge","badge-meta","me-2"],[1,"badge","badge-meta"],[1,"salary","text-success","fw-bold"],[1,"mt-3"],[1,"badge",3,"ngClass"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2",1),y(2,"Applied Jobs"),m(),G(3,I9,4,0,"div",2)(4,C9,9,0,"div",3)(5,T9,3,0,"div",4),m()),t&2&&(w(3),J(r.loading()?3:r.appliedJobs().length===0?4:5))},dependencies:[ut,bi,wi,Or,ql],styles:[".container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.empty-state[_ngcontent-%COMP%]{background:#f4f7f9;border-radius:12px;padding:60px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#051a49;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content}.job-card[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:16px;transition:transform .2s,box-shadow .2s;font-family:Poppins,sans-serif;position:relative}.job-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 15px 25px #00000026;z-index:10}.job-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:24px!important}.card-title[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;color:#18181b}.company-name[_ngcontent-%COMP%]{font-size:1rem;color:#64748b!important}.badge-meta[_ngcontent-%COMP%]{background-color:#18181b;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.salary[_ngcontent-%COMP%]{font-size:1rem}"]})};var hg=class n{authService=R(ze);router=R(Ze);ngOnInit(){let e=this.authService.userProfile();e?.role==="employer"?this.router.navigate(["/employer-jobs"]):e?.role==="admin"?this.router.navigate(["/admin"]):this.router.navigate(["/job-list"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(t,r){},encapsulation:2})};var Dk=(n,e,t)=>({"bg-success":n,"bg-danger":e,"bg-warning text-dark":t}),S9=(n,e)=>e.id,A9=(n,e)=>e.userId,Ck=(n,e)=>e.value;function x9(n,e){n&1&&(p(0,"div",4)(1,"div",10)(2,"span",11),y(3,"Loading..."),m()()())}function M9(n,e){n&1&&(p(0,"div",5)(1,"p",12),y(2,"You haven't posted any jobs yet."),m()())}function R9(n,e){if(n&1){let t=ce();p(0,"div",29),B("click",function(){let i=j(t).$implicit,o=P(2);return U(o.viewJob(i))}),p(1,"div")(2,"h2",30),y(3),m(),p(4,"p",31),y(5),m(),p(6,"p",32),y(7),m(),p(8,"span",33),y(9),m()()()}if(n&2){let t=e.$implicit,r=P(2);It("active",(r.selectedJob==null?null:r.selectedJob.id)===t.id),w(3),H(t.title),w(2),_n("",t.location," | ",t.type),w(2),H(t.salary),w(),W("ngClass",r.getStatusBadgeClass(t.status)),w(),H(t.status)}}function P9(n,e){if(n&1){let t=ce();p(0,"div",13)(1,"label",14),y(2,"Sort By"),m(),p(3,"div",15),ne(4,"i",16)(5,"i",17),p(6,"select",18),Ee("ngModelChange",function(i){j(t);let o=P();return we(o.sortBy,i)||(o.sortBy=i),U(i)}),B("change",function(){j(t);let i=P();return U(i.onSortChange())}),p(7,"option",19),y(8,"Newest First"),m(),p(9,"option",20),y(10,"Oldest First"),m(),p(11,"option",21),y(12,"Title (A-Z)"),m(),p(13,"option",22),y(14,"Title (Z-A)"),m(),p(15,"option",23),y(16,"Status (A-Z)"),m(),p(17,"option",24),y(18,"Status (Z-A)"),m(),p(19,"option",25),y(20,"Most Applicants"),m(),p(21,"option",26),y(22,"Least Applicants"),m()()()(),p(23,"div",27),qe(24,R9,10,8,"div",28,S9),m()}if(n&2){let t=P();w(6),be("ngModel",t.sortBy),w(18),We(t.jobs)}}function N9(n,e){if(n&1&&(p(0,"p",41),y(1),qn(2,"date"),m()),n&2){let t=P(2);w(),Ce(" Posted: ",ao(2,1,t.selectedJob.postedDate,"short")," ")}}function k9(n,e){if(n&1&&(p(0,"p",53)(1,"span",33),y(2),qn(3,"titlecase"),m()()),n&2){let t=P().$implicit;w(),W("ngClass",bf(4,Dk,t.status==="accepted",t.status==="rejected",t.status==="pending")),w(),Ce(" ",Pa(3,2,t.status)," ")}}function O9(n,e){if(n&1){let t=ce();p(0,"div",49)(1,"div",50)(2,"div")(3,"p",51),y(4),m(),p(5,"p",52),y(6),m(),p(7,"p",52),y(8),qn(9,"date"),m(),G(10,k9,4,8,"p",53),m(),p(11,"div",54)(12,"button",55),B("click",function(){let i=j(t).$implicit,o=P(3);return U(o.openApplicantModal(i))}),ne(13,"i",56),m(),p(14,"button",57),B("click",function(){let i=j(t).$implicit,o=P(3);return U(o.acceptApplicant(i))}),ne(15,"i",58),m(),p(16,"button",59),B("click",function(){let i=j(t).$implicit,o=P(3);return U(o.openRejectConfirm(i))}),ne(17,"i",60),m()()()()}if(n&2){let t=e.$implicit;w(4),H(t.name||t.email),w(2),H(t.email),w(2),Ce(" Applied: ",ao(9,6,t.appliedAt,"short")," "),w(2),J(t.status?10:-1),w(4),W("disabled",t.status==="accepted"),w(2),W("disabled",t.status==="rejected")}}function F9(n,e){if(n&1&&(p(0,"div",44),qe(1,O9,18,9,"div",49,A9),m()),n&2){let t=P(2);w(),We(t.selectedJob.applicants)}}function L9(n,e){n&1&&(p(0,"p",45),y(1,"No applicants yet."),m())}function V9(n,e){if(n&1){let t=ce();p(0,"div",7)(1,"div",34)(2,"div")(3,"h2",35),y(4),m(),p(5,"h3",36),y(6),m()(),p(7,"span",33),y(8),m()(),p(9,"div",37)(10,"span",38),y(11),m(),p(12,"span",38),y(13),m(),p(14,"span",39),y(15),m()(),p(16,"p",40),y(17),m(),G(18,N9,3,4,"p",41),p(19,"div",42)(20,"h4",43),y(21),m(),G(22,F9,3,0,"div",44)(23,L9,2,0,"p",45),m(),p(24,"div",46)(25,"button",47),B("click",function(){j(t);let i=P();return U(i.startEdit(i.selectedJob))}),y(26,"Edit Job"),m(),p(27,"button",48),B("click",function(){j(t);let i=P();return U(i.openDeleteConfirm(i.selectedJob.id))}),y(28," Delete Job "),m()()()}if(n&2){let t=P();w(4),H(t.selectedJob.title),w(2),H(t.selectedJob.company),w(),W("ngClass",t.getStatusBadgeClass(t.selectedJob.status)),w(),H(t.selectedJob.status),w(3),H(t.selectedJob.location),w(2),H(t.selectedJob.type),w(2),H(t.selectedJob.salary),w(2),H(t.selectedJob.description),w(),J(t.selectedJob.postedDate?18:-1),w(3),Ce("Applicants (",(t.selectedJob.applicants==null?null:t.selectedJob.applicants.length)||0,")"),w(),J(t.selectedJob.applicants&&t.selectedJob.applicants.length>0?22:23),w(5),W("disabled",t.isDeleting)}}function j9(n,e){n&1&&(p(0,"div",8),ne(1,"i",61),p(2,"p",62),y(3,"Select a job from the list to view details and applicants."),m()())}function U9(n,e){if(n&1&&(p(0,"div",79)(1,"label",80),y(2,"Location:"),m(),p(3,"p",81),y(4),m()()),n&2){let t=P(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.location)}}function B9(n,e){if(n&1&&(p(0,"div",79)(1,"label",80),y(2,"Phone:"),m(),p(3,"p",81),y(4),m()()),n&2){let t=P(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.phone)}}function $9(n,e){if(n&1&&(p(0,"div",79)(1,"label",80),y(2,"Website:"),m(),p(3,"p",81)(4,"a",88),y(5),m()()()),n&2){let t=P(2);w(4),W("href",t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.website,sf),w(),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.website)}}function H9(n,e){if(n&1&&(p(0,"div",79)(1,"label",80),y(2,"Headline:"),m(),p(3,"p",81),y(4),m()()),n&2){let t=P(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.headline)}}function z9(n,e){if(n&1&&(p(0,"div",79)(1,"label",80),y(2,"Bio:"),m(),p(3,"p",81),y(4),m()()),n&2){let t=P(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.bio)}}function q9(n,e){if(n&1&&(p(0,"div",89)(1,"p",90),ne(2,"i",91),y(3),m(),p(4,"p",92),ne(5,"i",93),y(6),m()()),n&2){let t=e.$implicit;w(3),H(t.question),w(3),H(t.answer)}}function W9(n,e){if(n&1&&qe(0,q9,7,2,"div",89,gi),n&2){let t=P(2);We(t.selectedApplicant.responses)}}function G9(n,e){n&1&&(p(0,"p",45),y(1,"No application responses provided."),m())}function J9(n,e){if(n&1){let t=ce();p(0,"div",9)(1,"div",63)(2,"div",64)(3,"h5",65),y(4,"Applicant Details"),m(),p(5,"button",66),B("click",function(){j(t);let i=P();return U(i.closeApplicantModal())}),m()(),p(6,"div",67)(7,"div",68)(8,"div",69)(9,"div",70),ne(10,"i",71),m(),p(11,"div")(12,"h4",72),y(13),m(),p(14,"p",73),y(15),m(),p(16,"span",74),y(17),qn(18,"titlecase"),m()()()(),p(19,"div",75)(20,"div",76)(21,"h6",77),ne(22,"i",78),y(23,"Profile Information"),m(),p(24,"div",79)(25,"label",80),y(26,"Applied On:"),m(),p(27,"p",81),y(28),qn(29,"date"),m()(),G(30,U9,5,1,"div",79),G(31,B9,5,1,"div",79),G(32,$9,6,2,"div",79),G(33,H9,5,1,"div",79),G(34,z9,5,1,"div",79),m(),p(35,"div",76)(36,"h6",77),ne(37,"i",82),y(38,"Application Questions & Answers"),m(),G(39,W9,2,0)(40,G9,2,0,"p",45),m()()(),p(41,"div",83)(42,"button",84),B("click",function(){j(t);let i=P();return U(i.acceptApplicant(i.selectedApplicant))}),ne(43,"i",85),y(44," Accept "),m(),p(45,"button",48),B("click",function(){j(t);let i=P();return U(i.openRejectConfirm(i.selectedApplicant))}),ne(46,"i",86),y(47," Reject "),m(),p(48,"button",87),B("click",function(){j(t);let i=P();return U(i.closeApplicantModal())}),y(49,"Close"),m()()()()}if(n&2){let t=P();w(13),H(t.selectedApplicant.name||(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.firstName?((t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.firstName)||"")+" "+((t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.lastName)||""):t.selectedApplicant.email)),w(2),H(t.selectedApplicant.email),w(),W("ngClass",bf(18,Dk,t.selectedApplicant.status==="accepted",t.selectedApplicant.status==="rejected",!t.selectedApplicant.status||t.selectedApplicant.status==="pending")),w(),Ce(" ",Pa(18,13,t.selectedApplicant.status||"pending")," "),w(11),H(ao(29,15,t.selectedApplicant.appliedAt,"medium")),w(2),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.location?30:-1),w(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.phone?31:-1),w(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.website?32:-1),w(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.headline?33:-1),w(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.bio?34:-1),w(5),J(t.selectedApplicant.responses&&t.selectedApplicant.responses.length>0?39:40),w(3),W("disabled",t.selectedApplicant.status==="accepted"),w(3),W("disabled",t.selectedApplicant.status==="rejected")}}function K9(n,e){if(n&1&&(p(0,"option",113),y(1),m()),n&2){let t=e.$implicit;W("value",t.value),w(),H(t.label)}}function Q9(n,e){if(n&1&&(p(0,"option",113),y(1),m()),n&2){let t=e.$implicit;W("value",t.value),w(),H(t.label)}}function Y9(n,e){if(n&1){let t=ce();p(0,"div",9)(1,"div",63)(2,"h2"),y(3,"Edit Job"),m(),p(4,"div",94)(5,"label",95),y(6,"Job Title"),m(),p(7,"div",15),ne(8,"i",96),p(9,"input",97),Ee("ngModelChange",function(i){j(t);let o=P();return we(o.editingJob.title,i)||(o.editingJob.title=i),U(i)}),m()()(),p(10,"div",94)(11,"label",98),y(12,"Location"),m(),p(13,"div",15),ne(14,"i",99),p(15,"input",100),Ee("ngModelChange",function(i){j(t);let o=P();return we(o.editingJob.location,i)||(o.editingJob.location=i),U(i)}),m()()(),p(16,"div",94)(17,"label",101),y(18,"Type"),m(),p(19,"div",15),ne(20,"i",102),p(21,"select",103),Ee("ngModelChange",function(i){j(t);let o=P();return we(o.editingJob.type,i)||(o.editingJob.type=i),U(i)}),p(22,"option",104),y(23,"Select Job Type"),m(),p(24,"option",105),y(25,"Part-Time"),m(),p(26,"option",106),y(27,"Full-Time"),m(),p(28,"option",107),y(29,"Contract"),m(),p(30,"option",108),y(31,"Remote"),m()()()(),p(32,"div",94)(33,"label",109),y(34,"Salary Range"),m(),p(35,"div",110)(36,"div",15)(37,"span",111),y(38,"\u20B1"),m(),p(39,"select",112),Ee("ngModelChange",function(i){j(t);let o=P();return we(o.editSalaryMin,i)||(o.editSalaryMin=i),U(i)}),p(40,"option",104),y(41,"Min Salary"),m(),qe(42,K9,2,2,"option",113,Ck),m()(),p(44,"span"),y(45,"-"),m(),p(46,"div",15)(47,"span",111),y(48,"\u20B1"),m(),p(49,"select",114),Ee("ngModelChange",function(i){j(t);let o=P();return we(o.editSalaryMax,i)||(o.editSalaryMax=i),U(i)}),p(50,"option",104),y(51,"Max Salary"),m(),qe(52,Q9,2,2,"option",113,Ck),m()()()(),p(54,"div",94)(55,"label",115),y(56,"Description"),m(),p(57,"textarea",116),Ee("ngModelChange",function(i){j(t);let o=P();return we(o.editingJob.description,i)||(o.editingJob.description=i),U(i)}),m()(),p(58,"div",83)(59,"button",117),B("click",function(){j(t);let i=P();return U(i.cancelEdit())}),y(60,"Cancel"),m(),p(61,"button",84),B("click",function(){j(t);let i=P();return U(i.saveEdit())}),y(62),m()()()()}if(n&2){let t=P();w(9),be("ngModel",t.editingJob.title),w(6),be("ngModel",t.editingJob.location),w(6),be("ngModel",t.editingJob.type),w(18),be("ngModel",t.editSalaryMin),w(3),We(t.salaryOptions),w(7),be("ngModel",t.editSalaryMax),w(3),We(t.salaryOptions),w(5),be("ngModel",t.editingJob.description),w(2),W("disabled",t.isSaving),w(2),W("disabled",t.isSaving),w(),Ce(" ",t.isSaving?"Saving...":"Save Changes"," ")}}function Z9(n,e){if(n&1){let t=ce();p(0,"div",9)(1,"div",118)(2,"h2"),y(3,"Confirm Deletion"),m(),p(4,"p"),y(5,"Are you sure you want to delete this job posting? This action cannot be undone."),m(),p(6,"div",83)(7,"button",117),B("click",function(){j(t);let i=P();return U(i.closeDeleteConfirm())}),y(8,"Cancel"),m(),p(9,"button",48),B("click",function(){j(t);let i=P();return U(i.confirmDelete())}),y(10),m()()()()}if(n&2){let t=P();w(7),W("disabled",t.isDeleting),w(2),W("disabled",t.isDeleting),w(),Ce(" ",t.isDeleting?"Deleting...":"Delete"," ")}}function X9(n,e){if(n&1){let t=ce();p(0,"div",9)(1,"div",118)(2,"div",64)(3,"h5",65),ne(4,"i",119),y(5,"Confirm Rejection"),m(),p(6,"button",66),B("click",function(){j(t);let i=P();return U(i.closeRejectConfirm())}),m()(),p(7,"div",67)(8,"p"),y(9,"Are you sure you want to reject this applicant?"),m(),p(10,"p",120),y(11,"They will be removed from the applicants list."),m()(),p(12,"div",83)(13,"button",87),B("click",function(){j(t);let i=P();return U(i.closeRejectConfirm())}),y(14,"Cancel"),m(),p(15,"button",121),B("click",function(){j(t);let i=P();return U(i.confirmRejectApplicant())}),ne(16,"i",86),y(17," Reject Applicant "),m()()()()}}function eq(n,e){if(n&1){let t=ce();p(0,"div",9)(1,"div",118)(2,"div",64)(3,"h5",65),ne(4,"i",122),y(5,"Notice"),m(),p(6,"button",66),B("click",function(){j(t);let i=P();return U(i.closeAlertModal())}),m()(),p(7,"div",67)(8,"p"),y(9),m()(),p(10,"div",83)(11,"button",47),B("click",function(){j(t);let i=P();return U(i.closeAlertModal())}),y(12,"OK"),m()()()()}if(n&2){let t=P();w(9),H(t.alertMessage)}}var fg=class n{jobService=R(tn);authService=R(ze);jobs=[];allJobs=[];loading=!1;selectedJob=null;selectedApplicant=null;selectedApplicantProfile=null;editingJob=null;isDeleting=!1;isSaving=!1;showDeleteConfirmModal=!1;jobToDelete=null;showEditModal=!1;editSalaryMin="";editSalaryMax="";sortBy="date-desc";showAlertModal=!1;alertMessage="";showRejectConfirmModal=!1;applicantToReject=null;salaryOptions=[{value:1e4,label:"\u20B110,000"},{value:2e4,label:"\u20B120,000"},{value:3e4,label:"\u20B130,000"},{value:4e4,label:"\u20B140,000"},{value:5e4,label:"\u20B150,000"},{value:75e3,label:"\u20B175,000"},{value:1e5,label:"\u20B1100,000"},{value:15e4,label:"\u20B1150,000"},{value:2e5,label:"\u20B1200,000"},{value:25e4,label:"\u20B1250,000"},{value:3e5,label:"\u20B1300,000+"}];ngOnInit(){return b(this,null,function*(){yield this.loadEmployerJobs()})}loadEmployerJobs(){return b(this,null,function*(){this.loading=!0;let e=this.authService.currentUser()?.uid;e&&(this.allJobs=yield this.jobService.getEmployerJobs(e),this.applySorting()),this.loading=!1})}applySorting(){let e=[...this.allJobs];switch(this.sortBy){case"date-desc":e.sort((t,r)=>{let i=t.postedDate?new Date(t.postedDate).getTime():0;return(r.postedDate?new Date(r.postedDate).getTime():0)-i});break;case"date-asc":e.sort((t,r)=>{let i=t.postedDate?new Date(t.postedDate).getTime():0,o=r.postedDate?new Date(r.postedDate).getTime():0;return i-o});break;case"title-asc":e.sort((t,r)=>t.title.localeCompare(r.title));break;case"title-desc":e.sort((t,r)=>r.title.localeCompare(t.title));break;case"status-asc":e.sort((t,r)=>(t.status||"").localeCompare(r.status||""));break;case"status-desc":e.sort((t,r)=>(r.status||"").localeCompare(t.status||""));break;case"applicants-desc":e.sort((t,r)=>(r.applicants?.length||0)-(t.applicants?.length||0));break;case"applicants-asc":e.sort((t,r)=>(t.applicants?.length||0)-(r.applicants?.length||0));break}this.jobs=e}onSortChange(){this.applySorting()}viewJob(e){this.selectedJob=e,this.editingJob=null,this.selectedApplicant=null}openApplicantModal(e){return b(this,null,function*(){this.selectedApplicant=e,e.userId&&(this.selectedApplicantProfile=yield this.authService.getUserProfile(e.userId))})}closeApplicantModal(){this.selectedApplicant=null,this.selectedApplicantProfile=null}startEdit(e){this.editingJob=V({},e),this.parseSalaryRange(e.salary),this.showEditModal=!0}parseSalaryRange(e){let t=e.match(/([\d,]+)\s*-\s*([\d,]+)/);t&&(this.editSalaryMin=t[1].replace(/,/g,""),this.editSalaryMax=t[2].replace(/,/g,""))}cancelEdit(){this.editingJob=null,this.showEditModal=!1,this.editSalaryMin="",this.editSalaryMax=""}showAlert(e){this.alertMessage=e,this.showAlertModal=!0}closeAlertModal(){this.showAlertModal=!1,this.alertMessage=""}saveEdit(){return b(this,null,function*(){if(!this.editingJob||!this.editingJob.id)return;if(!this.editingJob.title||!this.editingJob.location||!this.editingJob.type||!this.editingJob.description||!this.editSalaryMin||!this.editSalaryMax){this.showAlert("Please fill in all fields");return}let e=parseInt(this.editSalaryMin),t=parseInt(this.editSalaryMax);if(e>=t){this.showAlert("Minimum salary must be less than maximum salary");return}this.isSaving=!0;try{this.editingJob.salary=`\u20B1${e.toLocaleString()} - \u20B1${t.toLocaleString()}`,yield this.jobService.update(this.editingJob.id,this.editingJob),yield this.loadEmployerJobs(),this.editingJob=null,this.showEditModal=!1,this.editSalaryMin="",this.editSalaryMax=""}catch(r){console.error("Error updating job:",r),this.showAlert("Failed to update job")}finally{this.isSaving=!1}})}openDeleteConfirm(e){e&&(this.jobToDelete=e,this.showDeleteConfirmModal=!0)}closeDeleteConfirm(){this.showDeleteConfirmModal=!1,this.jobToDelete=null}confirmDelete(){return b(this,null,function*(){if(this.jobToDelete){this.isDeleting=!0;try{yield this.jobService.delete(this.jobToDelete),yield this.loadEmployerJobs(),this.selectedJob=null,this.editingJob=null,this.showDeleteConfirmModal=!1,this.jobToDelete=null}catch(e){console.error("Error deleting job:",e),this.showAlert("Failed to delete job")}finally{this.isDeleting=!1}}})}acceptApplicant(e){return b(this,null,function*(){if(!this.selectedJob?.id||!e.userId)return;(yield this.jobService.updateApplicantStatus(this.selectedJob.id,e.userId,"accepted"))?(yield this.loadEmployerJobs(),this.selectedJob=this.jobs.find(r=>r.id===this.selectedJob?.id)||null,this.closeApplicantModal()):this.showAlert("Failed to update applicant status.")})}openRejectConfirm(e){this.applicantToReject=e,this.showRejectConfirmModal=!0}closeRejectConfirm(){this.showRejectConfirmModal=!1,this.applicantToReject=null}confirmRejectApplicant(){return b(this,null,function*(){if(!this.selectedJob?.id||!this.applicantToReject?.userId)return;(yield this.jobService.removeApplicant(this.selectedJob.id,this.applicantToReject.userId))?(yield this.loadEmployerJobs(),this.selectedJob=this.jobs.find(t=>t.id===this.selectedJob?.id)||null,this.closeApplicantModal(),this.closeRejectConfirm()):(this.showAlert("Failed to reject applicant."),this.closeRejectConfirm())})}getStatusBadgeClass(e){switch(e){case"approved":return"bg-success";case"pending":return"bg-warning text-dark";case"rejected":return"bg-danger";default:return"bg-secondary"}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-employer-jobs"]],decls:16,vars:7,consts:[[1,"fw-bold","my-4"],[1,"container-fluid"],[1,"row","mx-5","my-4"],[1,"col-4"],[1,"text-center","py-5"],[1,"text-center","py-5","bg-white","rounded","border"],[1,"col"],[1,"job-details-card"],[1,"empty-details","text-center","py-5"],[1,"modal-overlay"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-muted","mb-0"],[1,"mb-4"],[1,"form-label","fw-bold","small","text-muted","text-uppercase","mb-2"],[1,"input-icon-container"],[1,"fas","fa-sort-amount-down","input-icon"],[1,"fas","fa-chevron-down","dropdown-arrow"],[1,"form-control",3,"ngModelChange","change","ngModel"],["value","date-desc"],["value","date-asc"],["value","title-asc"],["value","title-desc"],["value","status-asc"],["value","status-desc"],["value","applicants-desc"],["value","applicants-asc"],[1,"job-list"],[1,"job-item",3,"active"],[1,"job-item",3,"click"],[1,"fs-5","mb-1"],[1,"text-muted","mb-1"],[1,"text-success","fw-bold","mb-2"],[1,"badge",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"fs-2","fw-bold"],[1,"fs-5","text-muted"],[1,"job-meta","my-3"],[1,"badge","badge-meta","me-2"],[1,"badge","bg-success"],[1,"mt-4"],[1,"text-muted","small","mt-4"],[1,"applicants-section","mt-5"],[1,"fw-bold","mb-3"],[1,"applicants-list"],[1,"text-muted","fst-italic"],[1,"action-buttons","mt-4","d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click","disabled"],[1,"applicant-item","mb-2"],[1,"d-flex","justify-content-between","align-items-start"],[1,"fw-bold","mb-1"],[1,"text-muted","small","mb-0"],[1,"small","mt-1","mb-0"],[1,"d-flex","gap-2"],["title","View applicant details",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-eye"],["title","Accept applicant",1,"btn","btn-sm","btn-outline-success",3,"click","disabled"],[1,"fas","fa-check"],["title","Reject applicant",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-times"],[1,"fas","fa-briefcase","empty-details-icon"],[1,"text-muted","mt-3"],[1,"modal-content","modal-lg"],[1,"modal-header","d-flex","justify-content-between","align-items-center"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"applicant-header","mb-4","p-3","bg-light","rounded"],[1,"d-flex","align-items-center","gap-3"],[1,"applicant-avatar"],[1,"fas","fa-user-circle","fa-3x","text-primary"],[1,"mb-1"],[1,"mb-0","text-muted"],[1,"badge","mt-2",3,"ngClass"],[1,"row"],[1,"col-md-6"],[1,"fw-bold","text-primary","mb-3"],[1,"fas","fa-user","me-2"],[1,"mb-3"],[1,"fw-bold","small","text-muted"],[1,"mb-0"],[1,"fas","fa-question-circle","me-2"],[1,"modal-footer"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-check","me-1"],[1,"fas","fa-times","me-1"],[1,"btn","btn-secondary",3,"click"],["target","_blank",3,"href"],[1,"qa-item","mb-3","p-3","border","rounded"],[1,"fw-bold","mb-2","text-dark"],[1,"fas","fa-question","me-2","text-primary"],[1,"mb-0","ps-4"],[1,"fas","fa-reply","me-2","text-muted"],[1,"form-group","mb-3"],["for","edit-title"],[1,"fas","fa-briefcase","input-icon"],["type","text","id","edit-title","placeholder","Enter job title",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-location"],[1,"fas","fa-location-dot","input-icon"],["type","text","id","edit-location","placeholder","Enter city or region",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-type"],[1,"fas","fa-tag","input-icon"],["id","edit-type",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Part-Time"],["value","Full-Time"],["value","Contract"],["value","Remote"],["for","edit-salary-min"],[2,"display","flex","gap","10px","align-items","center"],[1,"input-icon","input-peso"],["id","edit-salary-min",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["id","edit-salary-max",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-description"],["id","edit-description","rows","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"modal-content"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"text-muted","small"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-info-circle","text-primary","me-2"]],template:function(t,r){t&1&&(p(0,"h1",0),y(1,"My Job Postings"),m(),p(2,"div",1)(3,"div",2)(4,"div",3),G(5,x9,4,0,"div",4)(6,M9,3,0,"div",5)(7,P9,26,1),m(),p(8,"div",6),G(9,V9,29,12,"div",7)(10,j9,4,0,"div",8),m()()(),G(11,J9,50,22,"div",9),G(12,Y9,63,9,"div",9),G(13,Z9,11,3,"div",9),G(14,X9,18,0,"div",9),G(15,eq,13,1,"div",9)),t&2&&(w(5),J(r.loading?5:r.jobs.length===0?6:7),w(4),J(r.selectedJob?9:10),w(2),J(r.selectedApplicant&&r.selectedJob?11:-1),w(),J(r.showEditModal&&r.editingJob?12:-1),w(),J(r.showDeleteConfirmModal?13:-1),w(),J(r.showRejectConfirmModal?14:-1),w(),J(r.showAlertModal?15:-1))},dependencies:[ut,bi,In,Kr,Qr,nn,Jr,wn,pn,ql,Wl],styles:[".job-list[_ngcontent-%COMP%], .job-details-card[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}h1[_ngcontent-%COMP%]{font-size:2.25rem;color:var(--primary-color);font-weight:700}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:14px;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;pointer-events:none}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;right:14px;transform:translateY(-50%);color:#64748b;font-size:.8rem;z-index:2;pointer-events:none}.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{padding:10px 45px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif;height:auto;appearance:none;width:100%}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:0 1px 3px #0000001a}.job-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.job-item[_ngcontent-%COMP%]{padding:16px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:0;cursor:pointer;background:#fff;transition:all .2s ease}.job-item[_ngcontent-%COMP%]:hover{border-color:#d6e5f7;background-color:#d6e5f7;transform:none;box-shadow:0 1px 3px #0000001a}.job-item.active[_ngcontent-%COMP%]{border-color:#d6e5f7;background-color:#d6e5f7;border-width:1px}.job-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--primary-color);margin-bottom:6px;font-weight:600}.job-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;color:var(--text-muted)}.job-details-card[_ngcontent-%COMP%]{padding:40px;border:1px solid #e2e8f0;border-radius:12px;background-color:#fff;box-shadow:0 5px 10px #0000000d;position:sticky;top:20px}.job-details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:800;font-size:2rem;margin-bottom:.5rem}.job-details-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1.1rem;font-weight:500}.applicants-section[_ngcontent-%COMP%]{padding-top:24px;margin-top:24px;border-top:1px solid #f4f4f5}.applicant-item[_ngcontent-%COMP%]{border:1px solid #e4e4e7;border-radius:12px;padding:16px!important;background-color:#f8fafc;box-shadow:none;transition:border-color .2s}.applicant-item[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#18181b;border-color:#18181b}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#55555a;border-color:#55555a}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#ef4444;border-color:#ef4444}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc2626;border-color:#dc2626}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:24px;max-width:600px;box-shadow:0 8px 20px #0003;max-height:90vh;overflow-y:auto}.modal-lg[_ngcontent-%COMP%]{max-width:1100px!important;width:95%}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px;color:#051a49;font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;margin-top:20px;border-top:1px solid #e0e0e0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:8px;padding:8px 16px;font-weight:600}.empty-details-icon[_ngcontent-%COMP%]{font-size:6rem;color:silver;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content;transform:translate(5px)}.empty-details[_ngcontent-%COMP%]{padding:40px;color:#999}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333}.input-peso[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#64748b;margin-top:0}.applicant-header[_ngcontent-%COMP%]{background-color:#f8f9fa}.applicant-avatar[_ngcontent-%COMP%]{flex-shrink:0}.applicant-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#051a49;margin:0}.qa-item[_ngcontent-%COMP%]{background-color:#fafafa;transition:all .2s ease}.qa-item[_ngcontent-%COMP%]:hover{background-color:#f0f4f9;border-color:#3b82f6!important}.qa-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:.95rem}.qa-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:.9rem;color:#475569}p[_ngcontent-%COMP%]{font-family:Poppins;font-size:1.15rem}"]})};function tq(n,e){n&1&&(p(0,"div",2)(1,"div",3)(2,"span",4),y(3,"Loading..."),m()()())}function nq(n,e){if(n&1&&(p(0,"div",5),y(1),m()),n&2){let t=P(2);w(),H(t.error)}}function rq(n,e){if(n&1&&(p(0,"div",6),y(1),m()),n&2){let t=P(2);w(),H(t.successMessage)}}function iq(n,e){if(n&1){let t=ce();p(0,"div",11)(1,"div",14)(2,"label",12),y(3,"First Name"),m(),p(4,"input",15),Ee("ngModelChange",function(i){j(t);let o=P(3);return we(o.firstName,i)||(o.firstName=i),U(i)}),m()(),p(5,"div",14)(6,"label",12),y(7,"Last Name"),m(),p(8,"input",15),Ee("ngModelChange",function(i){j(t);let o=P(3);return we(o.lastName,i)||(o.lastName=i),U(i)}),m()()()}if(n&2){let t=P(3);w(4),be("ngModel",t.firstName),W("disabled",t.savingProfile),w(4),be("ngModel",t.lastName),W("disabled",t.savingProfile)}}function oq(n,e){if(n&1){let t=ce();p(0,"div",10)(1,"label",12),y(2,"Company"),m(),p(3,"input",15),Ee("ngModelChange",function(i){j(t);let o=P(3);return we(o.company,i)||(o.company=i),U(i)}),m()()}if(n&2){let t=P(3);w(3),be("ngModel",t.company),W("disabled",t.savingProfile)}}function sq(n,e){if(n&1){let t=ce();p(0,"div",10)(1,"label",12),y(2,"Headline"),m(),p(3,"input",26),Ee("ngModelChange",function(i){j(t);let o=P(3);return we(o.headline,i)||(o.headline=i),U(i)}),m()()}if(n&2){let t=P(3);w(3),be("ngModel",t.headline),W("disabled",t.savingProfile)}}function aq(n,e){if(n&1){let t=ce();p(0,"div",7)(1,"div",8)(2,"div",9)(3,"h4",10),y(4,"Profile Information"),m(),G(5,iq,9,4,"div",11),G(6,oq,4,2,"div",10),G(7,sq,4,2,"div",10),p(8,"div",10)(9,"label",12),y(10,"Bio / About"),m(),p(11,"textarea",13),Ee("ngModelChange",function(i){j(t);let o=P(2);return we(o.bio,i)||(o.bio=i),U(i)}),m()(),p(12,"div",11)(13,"div",14)(14,"label",12),y(15,"Location"),m(),p(16,"input",15),Ee("ngModelChange",function(i){j(t);let o=P(2);return we(o.location,i)||(o.location=i),U(i)}),m()(),p(17,"div",14)(18,"label",12),y(19,"Phone"),m(),p(20,"input",16),Ee("ngModelChange",function(i){j(t);let o=P(2);return we(o.phone,i)||(o.phone=i),U(i)}),m()()(),p(21,"div",10)(22,"label",12),y(23,"Website / Portfolio"),m(),p(24,"input",17),Ee("ngModelChange",function(i){j(t);let o=P(2);return we(o.website,i)||(o.website=i),U(i)}),m()(),p(25,"button",18),B("click",function(){j(t);let i=P(2);return U(i.saveProfile())}),y(26),m()()(),p(27,"div",19)(28,"div",9)(29,"h4",10),y(30,"Account Settings"),m(),p(31,"div",10)(32,"label",12),y(33,"Email"),m(),p(34,"input",20),Ee("ngModelChange",function(i){j(t);let o=P(2);return we(o.email,i)||(o.email=i),U(i)}),m(),p(35,"small",21),y(36," Changing your email updates the email used to log in. "),m()(),ne(37,"hr",22),p(38,"div",10)(39,"label",12),y(40,"New Password"),m(),p(41,"input",23),Ee("ngModelChange",function(i){j(t);let o=P(2);return we(o.newPassword,i)||(o.newPassword=i),U(i)}),m()(),p(42,"div",10)(43,"label",12),y(44,"Confirm New Password"),m(),p(45,"input",23),Ee("ngModelChange",function(i){j(t);let o=P(2);return we(o.confirmPassword,i)||(o.confirmPassword=i),U(i)}),m()(),p(46,"button",24),B("click",function(){j(t);let i=P(2);return U(i.saveAccountSettings())}),y(47),m(),p(48,"p",25),y(49," For security reasons, you may be asked to log in again after changing sensitive information. "),m()()()()}if(n&2){let t=P(2);w(5),J(t.profile.role!=="employer"?5:-1),w(),J(t.profile.role==="employer"?6:-1),w(),J(t.profile.role!=="employer"?7:-1),w(4),be("ngModel",t.bio),W("disabled",t.savingProfile),w(5),be("ngModel",t.location),W("disabled",t.savingProfile),w(4),be("ngModel",t.phone),W("disabled",t.savingProfile),w(4),be("ngModel",t.website),W("disabled",t.savingProfile),w(),W("disabled",t.savingProfile),w(),Ce(" ",t.savingProfile?"Saving...":"Save Profile"," "),w(8),be("ngModel",t.email),W("disabled",t.savingAccount),w(7),be("ngModel",t.newPassword),W("disabled",t.savingAccount),w(4),be("ngModel",t.confirmPassword),W("disabled",t.savingAccount),w(),W("disabled",t.savingAccount),w(),Ce(" ",t.savingAccount?"Saving...":"Update Account Settings"," ")}}function cq(n,e){if(n&1&&(G(0,nq,2,1,"div",5),G(1,rq,2,1,"div",6),G(2,aq,50,21,"div",7)),n&2){let t=P();J(t.error?0:-1),w(),J(t.successMessage?1:-1),w(),J(t.profile?2:-1)}}var pg=class n{authService=R(ze);profile=null;firstName="";lastName="";company="";headline="";bio="";location="";website="";phone="";email="";newPassword="";confirmPassword="";loadingProfile=!1;savingProfile=!1;savingAccount=!1;error=null;successMessage=null;constructor(){this.loadProfile()}loadProfile(){return b(this,null,function*(){this.loadingProfile=!0,this.error=null;try{yield this.authService.waitForAuthState();let e=this.authService.userProfile(),t=this.authService.currentUser();if(!e||!t){this.error="You must be logged in to view your profile.";return}this.profile=e,this.firstName=e.firstName||"",this.lastName=e.lastName||"",this.company=e.company||e.companyName||"",this.headline=e.headline||"",this.bio=e.bio||"",this.location=e.location||"",this.website=e.website||"",this.phone=e.phone||"",this.email=t.email||e.email}catch(e){console.error("Error loading profile:",e),this.error="Failed to load profile."}finally{this.loadingProfile=!1}})}saveProfile(){return b(this,null,function*(){if(this.profile){this.savingProfile=!0,this.error=null,this.successMessage=null;try{yield this.authService.updateUserProfile(this.profile.uid,{firstName:this.firstName||void 0,lastName:this.lastName||void 0,company:this.company||void 0,headline:this.headline||void 0,bio:this.bio||void 0,location:this.location||void 0,website:this.website||void 0,phone:this.phone||void 0}),this.successMessage="Profile updated successfully.",yield this.loadProfile()}catch(e){console.error("Error saving profile:",e),this.error="Failed to update profile."}finally{this.savingProfile=!1}}})}saveAccountSettings(){return b(this,null,function*(){if(this.profile){if(this.newPassword&&this.newPassword!==this.confirmPassword){this.error="New password and confirmation do not match.";return}this.savingAccount=!0,this.error=null,this.successMessage=null;try{this.email&&this.email!==this.profile.email&&(yield this.authService.updateEmail(this.email)),this.newPassword&&(yield this.authService.updatePassword(this.newPassword),this.newPassword="",this.confirmPassword=""),this.successMessage="Account settings updated successfully.",yield this.loadProfile()}catch(e){console.error("Error updating account settings:",e),this.error=e?.message||"Failed to update account settings."}finally{this.savingAccount=!1}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-profile"]],decls:5,vars:1,consts:[[1,"container","py-4"],[1,"mb-4"],[1,"text-center","py-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"row","g-4"],[1,"col-lg-7"],[1,"card","p-4","mb-4"],[1,"mb-3"],[1,"row"],[1,"form-label"],["rows","4","placeholder","Tell others a bit about yourself.",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-md-6","mb-3"],["type","text",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","tel",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","url",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"col-lg-5"],["type","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"text-muted"],[1,"my-4"],["type","password",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-outline-primary","w-100",3,"click","disabled"],[1,"text-muted","small","mt-3"],["type","text","placeholder","e.g. Senior Frontend Developer, Hiring Manager at TechCorp",1,"form-control",3,"ngModelChange","ngModel","disabled"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2",1),y(2,"My Profile"),m(),G(3,tq,4,0,"div",2)(4,cq,3,3),m()),t&2&&(w(3),J(r.loadingProfile?3:4))},dependencies:[ut,In,nn,wn,pn],styles:[".container[_ngcontent-%COMP%]{max-width:1100px;font-family:Poppins,sans-serif}.card[_ngcontent-%COMP%]{box-shadow:0 4px 10px #0000000d;border-radius:12px;border:1px solid #e4e4e7;background:#fff}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:700}.form-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-main)}input.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:8px;border-color:#cbd5e1;font-family:Poppins,sans-serif}input.form-control[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 1px var(--primary-color)}button.btn-primary[_ngcontent-%COMP%]{border-radius:999px;background-color:var(--primary-color);border-color:var(--primary-color)}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}button.btn-outline-primary[_ngcontent-%COMP%]{border-radius:999px;color:var(--primary-color);border-color:var(--primary-color)}button.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}"]})};var lq=()=>[],uq=(n,e)=>e.uid;function dq(n,e){if(n&1&&(p(0,"div",22),y(1),m()),n&2){let t,r,i,o=P();It("alert-success",((t=o.actionMessage())==null?null:t.type)==="success")("alert-danger",((r=o.actionMessage())==null?null:r.type)==="error"),w(),Ce(" ",(i=o.actionMessage())==null?null:i.text," ")}}function hq(n,e){n&1&&(p(0,"div",21)(1,"div",23)(2,"span",24),y(3,"Loading..."),m()()())}function fq(n,e){n&1&&y(0," No users found matching your search criteria. ")}function pq(n,e){n&1&&y(0," No users available. ")}function mq(n,e){if(n&1&&(p(0,"div",25),G(1,fq,1,0)(2,pq,1,0),m()),n&2){let t=P(2);w(),J(t.filteredUsers().length===0&&(t.searchEmail()||t.searchRole())?1:2)}}function gq(n,e){if(n&1&&y(0),n&2){let t=P().$implicit;_n(" ",t.firstName," ",t.lastName," ")}}function yq(n,e){if(n&1&&y(0),n&2){let t=P().$implicit;Ce(" ",t.company," ")}}function vq(n,e){n&1&&y(0," N/A ")}function _q(n,e){if(n&1){let t=ce();p(0,"tr")(1,"td"),y(2),m(),p(3,"td")(4,"span",39),y(5),m()(),p(6,"td"),G(7,gq,1,2)(8,yq,1,1)(9,vq,1,0),m(),p(10,"td"),y(11),qn(12,"date"),m(),p(13,"td")(14,"button",40),B("click",function(){let i=j(t).$implicit,o=P(3);return U(o.selectUser(i))}),y(15," View "),m(),p(16,"button",41),B("click",function(){let i=j(t).$implicit,o=P(3);return U(o.openDeleteConfirm(i.uid))}),y(17," Delete "),m()()()}if(n&2){let t=e.$implicit,r=P(3);w(2),H(t.email),w(2),W("ngClass",r.getRoleBadgeClass(t.role)),w(),H(t.role),w(2),J(t.firstName&&t.lastName?7:t.company?8:9),w(4),H(ao(12,5,t.createdAt,"short"))}}function bq(n,e){if(n&1&&(p(0,"option",32),y(1),m()),n&2){let t=e.$implicit,r=P(3);W("value",t)("selected",r.pageSize()===t),w(),H(t)}}function Eq(n,e){if(n&1){let t=ce();p(0,"button",42),B("click",function(){let i=j(t).$index,o=P(3);return U(o.goToPage(i+1))}),y(1),m()}if(n&2){let t=e.$index,r=P(3);It("btn-primary",r.currentPage()===t+1)("btn-outline-primary",r.currentPage()!==t+1),w(),Ce(" ",t+1," ")}}function wq(n,e){if(n&1){let t=ce();p(0,"div",26)(1,"table",27)(2,"thead",28)(3,"tr")(4,"th"),y(5,"Email"),m(),p(6,"th"),y(7,"Role"),m(),p(8,"th"),y(9,"Name/Company"),m(),p(10,"th"),y(11,"Created"),m(),p(12,"th"),y(13,"Actions"),m()()(),p(14,"tbody"),qe(15,_q,18,8,"tr",null,uq),m()()(),p(17,"div",29)(18,"div")(19,"label",30),y(20,"Rows per page:"),m(),p(21,"select",31),B("change",function(i){j(t);let o=P(2);return U(o.changePageSize(i.target.value))}),qe(22,bq,2,3,"option",32,Ol),m()(),p(24,"div",33)(25,"button",34),B("click",function(){j(t);let i=P(2);return U(i.previousPage())}),y(26," Previous "),m(),p(27,"div",35),qe(28,Eq,2,5,"button",36,gi),m(),p(30,"button",37),B("click",function(){j(t);let i=P(2);return U(i.nextPage())}),y(31," Next "),m()(),p(32,"div")(33,"small",38),y(34),m()()()}if(n&2){let t=P(2);w(15),We(t.paginatedUsers()),w(7),We(t.pageSizeOptions),w(3),W("disabled",t.currentPage()===1),w(3),We(ps(4,lq).constructor(t.totalPages())),w(2),W("disabled",t.currentPage()===t.totalPages()),w(4),_n("Page ",t.currentPage()," of ",t.totalPages())}}function Iq(n,e){if(n&1&&G(0,mq,3,1,"div",25)(1,wq,35,5),n&2){let t=P();J(t.paginatedUsers().length===0?0:1)}}function Cq(n,e){if(n&1&&(p(0,"div",50)(1,"label",51),y(2,"Name:"),m(),p(3,"p"),y(4),m()()),n&2){let t,r=P(2);w(4),_n("",(t=r.selectedUser())==null?null:t.firstName," ",(t=r.selectedUser())==null?null:t.lastName)}}function Dq(n,e){if(n&1&&(p(0,"div",50)(1,"label",51),y(2,"Company:"),m(),p(3,"p"),y(4),m()()),n&2){let t,r=P(2);w(4),H((t=r.selectedUser())==null?null:t.company)}}function Tq(n,e){if(n&1&&(p(0,"div",50)(1,"label",51),y(2,"Saved Jobs:"),m(),p(3,"p"),y(4),m()()),n&2){let t=P(2);w(4),Ce("",t.selectedUser().savedJobs.length," jobs saved")}}function Sq(n,e){if(n&1){let t=ce();p(0,"div",43),B("click",function(){j(t);let i=P();return U(i.closeModal())}),m(),p(1,"div",44)(2,"div",45)(3,"div",46)(4,"h5",47),y(5,"User Details"),m(),p(6,"button",48),B("click",function(){j(t);let i=P();return U(i.closeModal())}),m()(),p(7,"div",49)(8,"div",50)(9,"label",51),y(10,"Email:"),m(),p(11,"p"),y(12),m()(),p(13,"div",50)(14,"label",51),y(15,"Role:"),m(),p(16,"p")(17,"span",39),y(18),m()()(),G(19,Cq,5,2,"div",50),G(20,Dq,5,1,"div",50),p(21,"div",50)(22,"label",51),y(23,"User ID:"),m(),p(24,"p",52),y(25),m()(),p(26,"div",50)(27,"label",51),y(28,"Created:"),m(),p(29,"p"),y(30),qn(31,"date"),m()(),G(32,Tq,5,1,"div",50),m(),p(33,"div",53)(34,"button",20),B("click",function(){j(t);let i=P();return U(i.openDeleteConfirm(i.selectedUser().uid))}),y(35," Delete User "),m(),p(36,"button",54),B("click",function(){j(t);let i=P();return U(i.closeModal())}),y(37,"Close"),m()()()()}if(n&2){let t,r,i,o,s,a,c,u=P();w(12),H((t=u.selectedUser())==null?null:t.email),w(5),W("ngClass",u.getRoleBadgeClass(u.selectedUser().role)),w(),Ce(" ",(r=u.selectedUser())==null?null:r.role," "),w(),J((i=u.selectedUser())!=null&&i.firstName&&((i=u.selectedUser())!=null&&i.lastName)?19:-1),w(),J((o=u.selectedUser())!=null&&o.company?20:-1),w(5),H((s=u.selectedUser())==null?null:s.uid),w(5),H(ao(31,8,(a=u.selectedUser())==null?null:a.createdAt,"medium")),w(2),J((c=u.selectedUser())!=null&&c.savedJobs&&u.selectedUser().savedJobs.length>0?32:-1)}}function Aq(n,e){if(n&1){let t=ce();p(0,"div",43),B("click",function(){j(t);let i=P();return U(i.closeDeleteConfirm())}),m(),p(1,"div",44)(2,"div",45)(3,"h2"),y(4,"Confirm Deletion"),m(),p(5,"p"),y(6,"Are you sure you want to delete this user? This action cannot be undone."),m(),p(7,"div",53)(8,"button",54),B("click",function(){j(t);let i=P();return U(i.closeDeleteConfirm())}),y(9,"Cancel"),m(),p(10,"button",20),B("click",function(){j(t);let i=P();return U(i.confirmDelete())}),y(11," Delete "),m()()()()}}var mg=class n{firestore=R(fn);allUsers=ee([]);selectedUser=ee(null);loading=ee(!1);actionMessage=ee(null);searchEmail=ee("");searchRole=ee("");showDeleteConfirmModal=!1;userToDelete=null;currentPage=ee(1);pageSize=ee(10);pageSizeOptions=[5,10,25,50];filteredUsers=bn(()=>{let e=this.allUsers(),t=this.searchEmail().toLowerCase(),r=this.searchRole();return t&&(e=e.filter(i=>i.email.toLowerCase().includes(t))),r&&(e=e.filter(i=>i.role===r)),e});totalPages=bn(()=>Math.ceil(this.filteredUsers().length/this.pageSize()));paginatedUsers=bn(()=>{let e=this.filteredUsers(),t=(this.currentPage()-1)*this.pageSize(),r=t+this.pageSize();return e.slice(t,r)});ngOnInit(){return b(this,null,function*(){yield this.loadUsers()})}loadUsers(){return b(this,null,function*(){this.loading.set(!0);try{let e=Vt(this.firestore,"users"),r=(yield Ht(e)).docs.map(i=>{let o=i.data();return te(V({uid:i.id},o),{createdAt:o.createdAt?.toDate?o.createdAt.toDate():o.createdAt})});this.allUsers.set(r),this.currentPage.set(1)}catch(e){console.error("Error loading users:",e),this.showMessage("error","Failed to load users")}finally{this.loading.set(!1)}})}resetFilters(){this.searchEmail.set(""),this.searchRole.set(""),this.currentPage.set(1)}selectUser(e){this.selectedUser.set(e),this.actionMessage.set(null)}closeModal(){this.selectedUser.set(null),this.actionMessage.set(null)}openDeleteConfirm(e){this.userToDelete=e,this.showDeleteConfirmModal=!0}closeDeleteConfirm(){this.showDeleteConfirmModal=!1,this.userToDelete=null}confirmDelete(){return b(this,null,function*(){if(this.userToDelete)try{yield qm(rt(this.firestore,"users",this.userToDelete)),yield this.loadUsers(),this.showMessage("success","User has been deleted"),this.closeDeleteConfirm(),this.closeModal()}catch(e){console.error("Error deleting user:",e),this.showMessage("error","Failed to delete user")}})}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}previousPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}changePageSize(e){this.pageSize.set(e),this.currentPage.set(1)}getRoleBadgeClass(e){switch(e){case"admin":return"bg-danger";case"employer":return"bg-primary";case"applicant":return"bg-success";default:return"bg-secondary"}}showMessage(e,t){this.actionMessage.set({type:e,text:t}),setTimeout(()=>this.actionMessage.set(null),3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-user-management"]],decls:34,vars:8,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-dark"],[1,"alert",3,"alert-success","alert-danger"],[1,"mb-4"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-4"],[1,"input-icon-container"],[1,"fas","fa-envelope","input-icon"],["type","text","placeholder","Search by Email",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],[1,"fas","fa-user-tag","input-icon"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","admin"],["value","employer"],["value","applicant"],[1,"col-md-2"],[1,"btn","btn-danger",3,"click"],[1,"text-center","py-5"],[1,"alert"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-info","text-center"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-dark"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"me-2"],[1,"form-select","d-inline-block",2,"width","auto",3,"change"],[3,"value","selected"],[1,"pagination","m-0"],[1,"btn","btn-outline-primary","me-1",3,"click","disabled"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"btn-primary","btn-outline-primary"],[1,"btn","btn-outline-primary","ms-1",3,"click","disabled"],[1,"text-muted"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],["title","Delete User",1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","button",1,"btn",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted","small"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),y(3,"User Management"),m(),p(4,"span",2),y(5),m()(),G(6,dq,2,5,"div",3),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),ne(13,"i",10),p(14,"input",11),Ee("ngModelChange",function(o){return we(r.searchEmail,o)||(r.searchEmail=o),o}),m()()(),p(15,"div",12)(16,"div",9),ne(17,"i",13),p(18,"select",14),Ee("ngModelChange",function(o){return we(r.searchRole,o)||(r.searchRole=o),o}),p(19,"option",15),y(20,"All Roles"),m(),p(21,"option",16),y(22,"Admin"),m(),p(23,"option",17),y(24,"Employer"),m(),p(25,"option",18),y(26,"Applicant"),m()()()(),p(27,"div",19)(28,"button",20),B("click",function(){return r.resetFilters()}),y(29," Reset Filters "),m()()()()()(),G(30,hq,4,0,"div",21)(31,Iq,2,1),m(),G(32,Sq,38,11),G(33,Aq,12,0)),t&2&&(w(5),_n("",r.allUsers().length," Total Users | ",r.filteredUsers().length," Filtered"),w(),J(r.actionMessage()?6:-1),w(8),be("ngModel",r.searchEmail),w(4),be("ngModel",r.searchRole),w(12),J(r.loading()?30:31),w(2),J(r.selectedUser()?32:-1),w(),J(r.showDeleteConfirmModal?33:-1))},dependencies:[ut,bi,In,Kr,Qr,nn,Jr,wn,pn,Wl],styles:[".badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:12px;overflow:hidden}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #051a49;--bs-table-border-color: #051a49;color:#fff}.card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 1px 3px #0000001a;border-radius:12px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}.search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.form-control[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:none}.btn-outline-primary[_ngcontent-%COMP%]{--bs-btn-color: #3b82f6;--bs-btn-border-color: #3b82f6;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #3b82f6;--bs-btn-active-bg: #2563eb;--bs-btn-active-border-color: #2563eb}.btn-primary[_ngcontent-%COMP%]{--bs-btn-bg: #3b82f6;--bs-btn-border-color: #3b82f6}.btn-danger[_ngcontent-%COMP%]{--bs-btn-bg: #dc3545;--bs-btn-border-color: #dc3545;--bs-btn-hover-bg: #c82333;--bs-btn-hover-border-color: #c82333;color:#fff;padding:10px 16px;font-size:1rem}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1040}.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;width:100%;max-width:600px;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;overflow:hidden;font-family:Poppins,sans-serif}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{margin:0;font-weight:600}.modal-body[_ngcontent-%COMP%]{padding:20px;max-height:400px;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e0e0e0;display:flex;gap:10px;justify-content:flex-end}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.pagination[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:4px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}h2[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#5a6268}"]})};var $I=()=>b(null,null,function*(){let n=R(ze),e=R(Ze);return yield n.waitForAuthState(),n.isLoggedIn()?n.isEmployer()||n.isAdmin()?!0:(e.navigate(["/"]),!1):(e.navigate(["/login"]),!1)}),HI=()=>b(null,null,function*(){let n=R(ze),e=R(Ze);return yield n.waitForAuthState(),n.isLoggedIn()?n.isAdmin()?!0:(e.navigate(["/"]),!1):(e.navigate(["/login"]),!1)});var gg=()=>b(null,null,function*(){let n=R(ze),e=R(Ze);return yield n.waitForAuthState(),n.isLoggedIn()?!0:(e.navigate(["/login"]),!1)});var Tk=[{path:"",component:hg},{path:"job-list",component:sg},{path:"create-job",component:ag,canActivate:[$I]},{path:"employer-jobs",component:fg,canActivate:[$I]},{path:"login",component:cg},{path:"admin",component:lg,canActivate:[HI]},{path:"user-management",component:mg,canActivate:[HI]},{path:"saved-jobs",component:ug,canActivate:[gg]},{path:"applied-jobs",component:dg,canActivate:[gg]},{path:"profile",component:pg,canActivate:[gg]}];var Sk={production:!1,firebase:{apiKey:"AIzaSyBDpWMfxyFMiJG5F1i-YddxaL8SYyFyA1A",authDomain:"community-appdev.firebaseapp.com",projectId:"community-appdev",storageBucket:"community-appdev.firebasestorage.app",messagingSenderId:"903859173134",appId:"1:903859173134:web:03b539ce71d1f532de095f",measurementId:"G-F6S948FX0K"}};var Ak={providers:[fv(),G_({eventCoalescing:!0}),z0(Tk),X1(()=>eM(Sk.firebase)),oR(()=>{let n=sR();return Up(n,Bp).catch(e=>{console.error("Error setting auth persistence:",e)}),n}),KN(()=>YN())]};m0(Gm,Ak).catch(n=>console.error(n));
